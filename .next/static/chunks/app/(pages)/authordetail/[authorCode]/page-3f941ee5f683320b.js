(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{94150:function(e,l,s){Promise.resolve().then(s.bind(s,99533))},99533:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return M}});var t=s(57437),a=s(2265),o=s(64480),r=s(49039),i=s(88817),n=s(66648),c=s(89260),x=s(62843),d=s(98799),p=s(69611),f=s(14205),u=s(16451),h=s(55600),m=s(61714),v=s(5594);function j(){let e=[c.Z,x.Z,d.Z,p.Z,f.Z,u.Z,h.Z,m.Z,v.Z];return e[Math.floor(Math.random()*e.length)]}var N=s(84839);function w(e){let{books:l,authorName:s,authorCode:o}=e,[c,x]=(0,a.useState)(void 0),[d,p]=(0,a.useState)("https://image.aladin.co.kr/Author/Photo/".concat(o,"/").concat(o,"_2.jpg")),[f,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{l.some(e=>void 0==e)||u(!1)},[l]),(0,a.useEffect)(()=>{!1==f&&x(h(l))},[f]);let h=e=>{let l=e.filter(e=>e.subInfo.ratingInfo.ratingCount>0);return 0===l.length?0:parseFloat((l.reduce((e,l)=>e+l.customerReviewRank,0)/l.length).toFixed(1))};return(0,t.jsxs)("div",{className:"flex flex-row text-nowrap",children:[(0,t.jsx)("div",{className:"relative w-[138px] h-[138px] rounded-full border-[2.5px] overflow-hidden",children:(0,t.jsx)(n.default,{alt:"ProfilePic",src:d,fill:!0,sizes:1,className:"object-cover",onError:()=>{p(j)}})}),(0,t.jsxs)("div",{className:"flex flex-col ml-[26px]",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center mt-[14px] gap-[25px]",children:[(0,t.jsx)("p",{className:"font-KopubWorldBold text-[33px]",children:s}),(0,t.jsxs)("div",{className:"flex justify-center items-center w-[101px] h-[33px] rounded-full bg-primary",children:[(0,t.jsx)("div",{className:"flex flex-row gap-[5px]"}),(0,t.jsx)("div",{className:"relative w-[18px] h-[18px]",children:(0,t.jsx)(r.Z,{})}),(0,t.jsx)("p",{className:"font-NotoSansKRSemiBold text-[13px]",children:"구독하기"})]})]}),(0,t.jsx)("div",{className:"flex flex-row mt-[32px] gap-[4.5px]",children:(0,t.jsx)("div",{className:"flex px-[9.6px] py-[5px] rounded-full outline outline-[1.5px] outline-black",children:(0,t.jsx)("p",{className:"text-[14px] font-NotoSansKRSemiBold whitespace-nowrap",children:"#영미소설"})})}),(0,t.jsxs)("div",{className:"flex flex-row mt-[9px] gap-[9px]",children:[(0,t.jsx)(N.Z,{isLoading:f,children:(0,t.jsx)("div",{className:"w-[111px] h-[21px]",children:(0,t.jsx)(i.Z,{score:c,width:111})})}),(0,t.jsx)(N.Z,{isLoading:f,children:(0,t.jsx)("p",{className:"font-NotoSansKRMedium text-[15px]",children:void 0!=c?"".concat(c," / 10"):"- / 10"})})]}),(0,t.jsx)(N.Z,{isLoading:f,children:(0,t.jsx)("p",{className:"font-NotoSansKRMedium text-[16px] text-black mt-[8px]",children:f?"등록된 저서: ?? 권":"등록된 저서 : ".concat(l.length," 권")})})]})]})}var g=s(17212);async function b(e){async function l(e){try{let l=await fetch("/api/authorCrawler?url=".concat(e),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://localhost:3001"}});if(!l.ok)throw Error("Failed to fetch authorCrawler");return(await l.json()).description}catch(e){console.log(e)}}return await l(e)}function y(e){let{authorCode:l}=e,[s,o]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{void 0!=l&&async function(){o(await b("https://www.aladin.co.kr/author/wauthor_overview.aspx?AuthorSearch=@".concat(l,"&amp;partner=openAPI")))}()},[l]),(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsx)(g.Z,{title:"저자 소개"}),(0,t.jsx)("div",{className:"flex ml-[28px]",children:(0,t.jsx)(N.Z,{isLoading:void 0==s,children:(0,t.jsx)("div",{className:" flex flex-col justify-start items-center w-full h-[218px] mt-[16px] rounded-[15px] bg-background",children:(0,t.jsx)("div",{className:"flex flex-col justify-start items-center mx-[18px] my-[17px] overflow-y-scroll scroll no-scrollbar",children:(0,t.jsx)("p",{className:"font-NotoSansKRRegular text-[16px] -tracking-[2px] whitespace-pre-wrap",children:void 0!=s?s:"스웨덴의 한 블로거에서 전 세계를 사로잡은 초대형 작가가 된 프레드릭 배크만. 데뷔작이자 첫 장편소설인 『오베라는 남자』는 출간되자마자 스웨덴 인구의 열 명 중 한 명이 소장하는 책이 되었으며, 46개국에 판권이 수출되었다. 미국에서는 77주간 뉴욕타임스 베스트셀러 목록에 올랐고, 아시아, 유럽, 아프리카의 여러 나라에서 베스트셀러로 등극해 그 이름을 알렸다. 뒤이어 출간한 『할머니가 미안하다고 전해달랬어요』 『브릿마리 여기 있다』 등이 역시 세계인에게 사랑받는 베스트셀러가 되며 초대형 작가로 자리매김했다. 이후 『베어타운』과 후속작 『우리와 당신들』로 돌아온 배크만은 이 소설로 “『오베라는 남자』를 뛰어넘었다” “이 시대의 디킨스다”라는 언론의 열광적인 찬사와 함께 아마존 및 굿리즈 올해의 소설에 오르며 또 한번 커다란 도약을 이루어냈다. 5년 만에 국내에 소개되는 신작 『위너』는 ‘베어타운 3부작’의 정점을 찍는 소설로 현지 및 해외 출간과 동시에 아마존, 굿리즈, 애플북스 베스트셀러에 오르며 ‘문학계의 승리자’라는 평을 받았다. 이 외의 작품으로 『하루하루가 이별의 날』 『일생일대의 거래』 등이 있다."})})})})})]})}function S(){return(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsx)(g.Z,{title:"응원의 한마디"}),(0,t.jsxs)("div",{className:"flex flex-col flex-grow ml-[28px] mt-[16px] gap-[17px] w-full",children:[(0,t.jsxs)("div",{className:"relative w-full h-[77px] rounded-[15px] bg-background",children:[(0,t.jsx)("div",{className:"font-NotoSansKRMedium text-[13px] text-textColor-secondary absolute top-[7px] right-[18px]",children:"12:45 am"}),(0,t.jsxs)("div",{className:"flex flex-row gap-[13px] mt-[13px]",children:[(0,t.jsx)("div",{className:"relative w-[56px] h-[56px] ml-[13px] rounded-full overflow-hidden",children:(0,t.jsx)(n.default,{src:o.default,alt:"ProfilePic",fill:!0,sizes:1,className:"object-cover"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,t.jsx)("p",{className:"font-NotoSansKRSemiBold text-[16px]",children:"꾸준한 독서가"}),(0,t.jsx)("p",{className:"font-NotoSansKRMedium text-[15px] text-textColor-secondary",children:"더미 데이터 입니다."})]})]})]}),(0,t.jsxs)("div",{className:"relative w-full h-[77px] rounded-[15px] bg-background",children:[(0,t.jsx)("div",{className:"font-NotoSansKRMedium text-[13px] text-textColor-secondary absolute top-[7px] right-[18px]",children:"12:45 am"}),(0,t.jsxs)("div",{className:"flex flex-row gap-[13px] mt-[13px]",children:[(0,t.jsx)("div",{className:"relative w-[56px] h-[56px] ml-[13px] rounded-full overflow-hidden",children:(0,t.jsx)(n.default,{src:o.default,alt:"ProfilePic",fill:!0,sizes:1,className:"object-cover"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,t.jsx)("p",{className:"font-NotoSansKRSemiBold text-[16px]",children:"꾸준한 독서가"}),(0,t.jsx)("p",{className:"font-NotoSansKRMedium text-[15px] text-textColor-secondary",children:"더미 데이터 입니다."})]})]})]}),(0,t.jsxs)("div",{className:"relative w-full h-[77px] rounded-[15px] bg-background",children:[(0,t.jsx)("div",{className:"font-NotoSansKRMedium text-[13px] text-textColor-secondary absolute top-[7px] right-[18px]",children:"12:45 am"}),(0,t.jsxs)("div",{className:"flex flex-row gap-[13px] mt-[13px]",children:[(0,t.jsx)("div",{className:"relative w-[56px] h-[56px] ml-[13px] rounded-full overflow-hidden",children:(0,t.jsx)(n.default,{src:o.default,alt:"ProfilePic",fill:!0,sizes:1,className:"object-cover"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,t.jsx)("p",{className:"font-NotoSansKRSemiBold text-[16px]",children:"꾸준한 독서가"}),(0,t.jsx)("p",{className:"font-NotoSansKRMedium text-[15px] text-textColor-secondary",children:"더미 데이터 입니다."})]})]})]})]})]})}var k=s(98803),Z=s(16463);function R(e){let{book:l}=e,s=(0,Z.useRouter)(),[o,r]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{void 0!=l&&r((0,k.Z)(l))},[l]),(0,t.jsxs)("div",{className:"flex flex-col w-[366px] h-[155px] text-nowrap",children:[(0,t.jsx)(N.Z,{isLoading:void 0==l,children:(0,t.jsx)("p",{className:"font-NotoSansKRSemiBold text-[15px] bg-discriptionPanel",children:void 0!=l?l.pubDate.replace(/-/g,"."):"????.??.??"})}),(0,t.jsxs)("div",{className:"flex flex-row ml-[11px] mt-[8px]",children:[(0,t.jsxs)("div",{className:"relative flex items-center justify-center w-[10px] h-[125px]",children:[(0,t.jsx)("div",{className:"absolute w-[0.5px] h-[125px] bg-primary"}),(0,t.jsx)("div",{className:"absolute w-[10px] h-[10px] bg-primary rounded-full"})]}),(0,t.jsxs)("div",{onClick:function(){void 0!=l&&s.push("/bookdetail/".concat(l.isbn13))},className:"ml-[22px] mt-[11px] flex flex-row rounded-l-[15px] bg-background w-[323px] h-[106px] gap-[25px]",children:[(0,t.jsx)(N.Z,{isLoading:void 0==l,children:(0,t.jsx)("div",{className:"relative ml-[13px] mt-[8px] w-[60px] h-[90px] rounded-[5px] overflow-hidden",children:void 0!=l&&(0,t.jsx)(n.default,{alt:"bookCoverImg",src:l.cover.replace(/coversum/,"cover500"),fill:!0,sizes:1,className:"object-fill"})})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(N.Z,{isLoading:void 0==l,children:(0,t.jsx)("p",{className:"font-NotoSansKRSemiBold text-[17px] mt-[15px] w-[190px] truncate",children:void 0!=l?l.title:"도서제목 로딩중"})}),(0,t.jsx)(N.Z,{isLoading:void 0==l,children:(0,t.jsx)("p",{className:"font-NotoSansKRMedium text-[12px] text-textColor-secondary",children:void 0!=l?l.author:"작가 로딩중"})}),(0,t.jsx)(N.Z,{isLoading:void 0==l,children:(0,t.jsx)(i.Z,{score:o,width:74.21,className:"mt-[3px]"})})]})]})]})]})}function C(e){let{books:l}=e;return(0,t.jsxs)("div",{className:"relative flex flex-col w-[394px] h-full  shrink-0",children:[(0,t.jsx)(g.Z,{title:"타임 라인"}),(0,t.jsx)("div",{className:"flex flex-col ml-[28px] mt-[31px] overflow-y-scroll scroll no-scrollbar",children:l.sort((e,l)=>new Date(e.pubDate)-new Date(l.pubDate)).map((e,l)=>(0,t.jsx)(R,{book:e},l))}),(0,t.jsx)("div",{className:"absolute left-[43.75px] top-[95px] w-[0.5px] h-[555px] bg-primary -z-10"})]})}var P=s(97341),K=s(670);async function E(e,l){async function s(e){try{let l=await fetch("/api/aladinAuthorSearch?Query=".concat(e,"&Start=1"));if(!l.ok)throw Error("Initial fetch failed with status: ".concat(l.status));let{totalResults:s,itemsPerPage:t}=await l.json(),a=Math.ceil(s/t),o=[];for(let l=1;l<=a;l++)o.push(fetch("/api/aladinAuthorSearch?Query=".concat(e,"&Start=").concat(l)));return(await Promise.all(o.map(async e=>{try{let l=await e;if(!l.ok)throw Error("Fetch failed with status: ".concat(l.status));return l.json()}catch(e){console.error("Fetch error:",e)}}))).flatMap(e=>{if(Array.isArray(e.item))return e.item.filter(e=>""!==e.isbn13);console.warn("Unexpected response format:",e)})}catch(e){console.error("Error in getServerSideProps:",e)}}async function t(e,l){return(await Promise.all(e.map(async e=>{let s=await (0,K.Z)(e.isbn13,["authors","ratingInfo"]);return s.subInfo.authors.some(e=>e.authorId==l)?s:null}))).filter(e=>null!==e)}let a=await s(e);return await t(a,l)}function M(e){let{params:l}=e,s=(0,Z.useSearchParams)(),o=l.authorCode,r=s.get("authorName"),[i,n]=(0,a.useState)(Array.from({length:10}));return(0,a.useEffect)(()=>{void 0!=r&&void 0!=o&&async function(){n(await E(r,o))}()},[r,o]),(0,t.jsx)("div",{className:"flex overflow-y-scroll scroll no-scrollbar overflow-x-clip",children:(0,t.jsx)("div",{className:"flex flex-col mt-[179px] w-full h-min bg-discriptionPanel text-black",children:(0,t.jsxs)("div",{className:"flex flex-col flex-grow ml-[60px] -mt-[79px]",children:[(0,t.jsx)(w,{books:i,authorName:r,authorCode:o}),(0,t.jsxs)("div",{className:"flex flex-col w-full mt-[28px] gap-[60px]",children:[(0,t.jsxs)("div",{className:"flex flex-row  gap-[54px] h-[639px]",children:[(0,t.jsxs)("div",{className:"flex flex-col flex-grow gap-[60px]",children:[(0,t.jsx)(y,{authorCode:o}),(0,t.jsx)(S,{})]}),(0,t.jsx)(C,{books:i})]}),(0,t.jsx)(P.Z,{title:"작가의 다른책",books:i})]})]})})})}},84839:function(e,l,s){"use strict";var t=s(57437),a=s(25678),o=s(2265);l.Z=e=>{let{isLoading:l,children:s}=e,r=o.isValidElement(s)&&"p"===s.type;return(0,t.jsx)(t.Fragment,{children:l?(0,t.jsx)(a.E.div,{initial:{backgroundPositionX:"100%"},animate:{backgroundPositionX:"0%"},transition:{duration:1,ease:"linear",repeat:1/0},className:"flex ".concat(r&&"w-min h-min"," bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 bg-[length:300%] bg-[position-x:100%]"),children:(0,t.jsx)("div",{className:"flex ".concat(r&&"w-min h-min"," invisible"),children:s})}):s})}}},function(e){e.O(0,[534,594,84,367,971,23,744],function(){return e(e.s=94150)}),_N_E=e.O()}]);