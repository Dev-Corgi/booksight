exports.id=298,exports.ids=[298],exports.modules={46936:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=i(r(9312)),o=r(67937),s="image/bmp",h="image/x-ms-bmp";function u(t){return(0,o.scan)(t,0,0,t.bitmap.width,t.bitmap.height,function(t,e,r){var i=this.bitmap.data[r+0],n=this.bitmap.data[r+1],a=this.bitmap.data[r+2],o=this.bitmap.data[r+3];this.bitmap.data[r+0]=o,this.bitmap.data[r+1]=a,this.bitmap.data[r+2]=n,this.bitmap.data[r+3]=i}).bitmap}function l(t){return(0,o.scan)({bitmap:t},0,0,t.width,t.height,function(e,r,i){var n=this.bitmap.data[i+0],a=this.bitmap.data[i+1],o=this.bitmap.data[i+2],s=this.bitmap.data[i+3];this.bitmap.data[i+0]=s,this.bitmap.data[i+1]=o,this.bitmap.data[i+2]=a,this.bitmap.data[i+3]=t.is_with_alpha?n:255}).bitmap}var f=function(t){return l(a.default.decode(t))},c=function(t){return a.default.encode(u(t)).data},d=function(){var t,e;return{mime:(0,n.default)({},s,["bmp"]),constants:{MIME_BMP:s,MIME_X_MS_BMP:h},decoders:(t={},(0,n.default)(t,s,f),(0,n.default)(t,h,f),t),encoders:(e={},(0,n.default)(e,s,c),(0,n.default)(e,h,c),e)}};e.default=d,t.exports=e.default},36908:(t,e)=>{"use strict";function r(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a;return{r:(t.r*t.a+e.r*e.a*(1-t.a))/i,g:(t.g*t.a+e.g*e.a*(1-t.a))/i,b:(t.b*t.a+e.b*e.a*(1-t.a))/i,a:i}}function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a;return{r:(e.r*e.a+t.r*t.a*(1-e.a))/i,g:(e.g*e.a+t.g*t.a*(1-e.a))/i,b:(e.b*e.a+t.b*t.a*(1-e.a))/i,a:i}}function n(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,h=e.g*e.a,u=e.b*e.a;return{r:(n*s+n*(1-e.a)+s*(1-t.a))/i,g:(a*h+a*(1-e.a)+h*(1-t.a))/i,b:(o*u+o*(1-e.a)+u*(1-t.a))/i,a:i}}function a(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a;return{r:(n+e.r*e.a)/i,g:(a+e.g*e.a)/i,b:(o+e.b*e.a)/i,a:i}}function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,h=e.g*e.a,u=e.b*e.a;return{r:(n*e.a+s*t.a-n*s+n*(1-e.a)+s*(1-t.a))/i,g:(a*e.a+h*t.a-a*h+a*(1-e.a)+h*(1-t.a))/i,b:(o*e.a+u*t.a-o*u+o*(1-e.a)+u*(1-t.a))/i,a:i}}function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,h=e.g*e.a,u=e.b*e.a;return{r:(2*s<=e.a?2*n*s+n*(1-e.a)+s*(1-t.a):n*(1+e.a)+s*(1+t.a)-2*s*n-e.a*t.a)/i,g:(2*h<=e.a?2*a*h+a*(1-e.a)+h*(1-t.a):a*(1+e.a)+h*(1+t.a)-2*h*a-e.a*t.a)/i,b:(2*u<=e.a?2*o*u+o*(1-e.a)+u*(1-t.a):o*(1+e.a)+u*(1+t.a)-2*u*o-e.a*t.a)/i,a:i}}function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,h=e.g*e.a,u=e.b*e.a;return{r:(Math.min(n*e.a,s*t.a)+n*(1-e.a)+s*(1-t.a))/i,g:(Math.min(a*e.a,h*t.a)+a*(1-e.a)+h*(1-t.a))/i,b:(Math.min(o*e.a,u*t.a)+o*(1-e.a)+u*(1-t.a))/i,a:i}}function u(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,h=e.g*e.a,u=e.b*e.a;return{r:(Math.max(n*e.a,s*t.a)+n*(1-e.a)+s*(1-t.a))/i,g:(Math.max(a*e.a,h*t.a)+a*(1-e.a)+h*(1-t.a))/i,b:(Math.max(o*e.a,u*t.a)+o*(1-e.a)+u*(1-t.a))/i,a:i}}function l(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,h=e.g*e.a,u=e.b*e.a;return{r:(2*n<=t.a?2*n*s+n*(1-e.a)+s*(1-t.a):n*(1+e.a)+s*(1+t.a)-2*s*n-e.a*t.a)/i,g:(2*a<=t.a?2*a*h+a*(1-e.a)+h*(1-t.a):a*(1+e.a)+h*(1+t.a)-2*h*a-e.a*t.a)/i,b:(2*o<=t.a?2*o*u+o*(1-e.a)+u*(1-t.a):o*(1+e.a)+u*(1+t.a)-2*u*o-e.a*t.a)/i,a:i}}function f(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,h=e.g*e.a,u=e.b*e.a;return{r:(n+s-2*Math.min(n*e.a,s*t.a))/i,g:(a+h-2*Math.min(a*e.a,h*t.a))/i,b:(o+u-2*Math.min(o*e.a,u*t.a))/i,a:i}}function c(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,h=e.g*e.a,u=e.b*e.a;return{r:(n*e.a+s*t.a-2*n*s+n*(1-e.a)+s*(1-t.a))/i,g:(a*e.a+h*t.a-2*a*h+a*(1-e.a)+h*(1-t.a))/i,b:(o*e.a+u*t.a-2*o*u+o*(1-e.a)+u*(1-t.a))/i,a:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.srcOver=r,e.dstOver=i,e.multiply=n,e.add=a,e.screen=o,e.overlay=s,e.darken=h,e.lighten=u,e.hardLight=l,e.difference=f,e.exclusion=c},25842:(t,e,r)=>{"use strict";var i=r(64056);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(67937),a=i(r(63428)),o=i(r(36908));function s(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if("function"==typeof i&&(s=i,i={}),!(t instanceof this.constructor))return n.throwError.call(this,"The source must be a Jimp image",s);if("number"!=typeof e||"number"!=typeof r)return n.throwError.call(this,"x and y must be numbers",s);var h=i,u=h.mode,l=h.opacitySource,f=h.opacityDest;u||(u=a.BLEND_SOURCE_OVER),("number"!=typeof l||l<0||l>1)&&(l=1),("number"!=typeof f||f<0||f>1)&&(f=1);var c=o[u];e=Math.round(e),r=Math.round(r);var d=this;return 1!==f&&d.opacity(f),t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,function(t,i,n){var o=d.getPixelIndex(e+t,r+i,a.EDGE_CROP),s=c({r:this.bitmap.data[n+0]/255,g:this.bitmap.data[n+1]/255,b:this.bitmap.data[n+2]/255,a:this.bitmap.data[n+3]/255},{r:d.bitmap.data[o+0]/255,g:d.bitmap.data[o+1]/255,b:d.bitmap.data[o+2]/255,a:d.bitmap.data[o+3]/255},l);d.bitmap.data[o+0]=this.constructor.limit255(255*s.r),d.bitmap.data[o+1]=this.constructor.limit255(255*s.g),d.bitmap.data[o+2]=this.constructor.limit255(255*s.b),d.bitmap.data[o+3]=this.constructor.limit255(255*s.a)}),(0,n.isNodePattern)(s)&&s.call(this,null,this),this}t.exports=e.default},63428:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDGE_CROP=e.EDGE_WRAP=e.EDGE_EXTEND=e.BLEND_EXCLUSION=e.BLEND_DIFFERENCE=e.BLEND_HARDLIGHT=e.BLEND_LIGHTEN=e.BLEND_DARKEN=e.BLEND_OVERLAY=e.BLEND_SCREEN=e.BLEND_ADD=e.BLEND_MULTIPLY=e.BLEND_DESTINATION_OVER=e.BLEND_SOURCE_OVER=e.VERTICAL_ALIGN_BOTTOM=e.VERTICAL_ALIGN_MIDDLE=e.VERTICAL_ALIGN_TOP=e.HORIZONTAL_ALIGN_RIGHT=e.HORIZONTAL_ALIGN_CENTER=e.HORIZONTAL_ALIGN_LEFT=e.AUTO=void 0;var r=-1;e.AUTO=r;var i=1;e.HORIZONTAL_ALIGN_LEFT=i;var n=2;e.HORIZONTAL_ALIGN_CENTER=n;var a=4;e.HORIZONTAL_ALIGN_RIGHT=a;var o=8;e.VERTICAL_ALIGN_TOP=o;var s=16;e.VERTICAL_ALIGN_MIDDLE=s;var h=32;e.VERTICAL_ALIGN_BOTTOM=h;var u="srcOver";e.BLEND_SOURCE_OVER=u;var l="dstOver";e.BLEND_DESTINATION_OVER=l;var f="multiply";e.BLEND_MULTIPLY=f;var c="add";e.BLEND_ADD=c;var d="screen";e.BLEND_SCREEN=d;var p="overlay";e.BLEND_OVERLAY=p;var m="darken";e.BLEND_DARKEN=m;var g="lighten";e.BLEND_LIGHTEN=g;var _="hardLight";e.BLEND_HARDLIGHT=_;var b="difference";e.BLEND_DIFFERENCE=b;var v="exclusion";e.BLEND_EXCLUSION=v;var y=1;e.EDGE_EXTEND=y;var w=2;e.EDGE_WRAP=w;var x=3;e.EDGE_CROP=x},77401:(t,e,r)=>{"use strict";var i,n=r(64056),a=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.addConstants=W,e.addJimpMethods=q,e.jimpEvMethod=V,e.jimpEvChange=Y,Object.defineProperty(e,"addType",{enumerable:!0,get:function(){return P.addType}}),e.default=void 0;for(var o=a(r(62519)),s=a(r(35895)),h=a(r(68326)),u=a(r(42706)),l=a(r(83041)),f=a(r(89899)),c=a(r(33002)),d=a(r(59356)),p=a(r(61092)),m=a(r(12054)),g=a(r(57147)),_=a(r(71017)),b=a(r(82361)),v=r(67937),y=a(r(30473)),w=a(r(78372)),x=a(r(30364)),M=a(r(93945)),E=a(r(75645)),S=a(r(45480)),k=a(r(25842)),I=a(r(61151)),P=n(r(94469)),B=r(11513),A=n(r(63428)),T="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",O=[NaN,NaN],C=2;C<65;C++){var L=(0,y.default)(y.default.BIN,T.slice(0,C))(Array(65).join("1"));O.push(L.length)}function D(){}function z(t){return Object.prototype.toString.call(t).toLowerCase().indexOf("arraybuffer")>-1}function R(t){for(var e=Buffer.alloc(t.byteLength),r=new Uint8Array(t),i=0;i<e.length;++i)e[i]=r[i];return e}function U(t,e){(0,S.default)(t,function(r,i,n){return r?e(r):"headers"in i&&"location"in i.headers?(t.url=i.headers.location,U(t,e)):"object"===(0,m.default)(n)&&Buffer.isBuffer(n)?e(null,n):Error("Could not load Buffer from <"+t.url+"> (HTTP: "+i.statusCode+")")})}function F(t,e){g.default&&"function"==typeof g.default.readFile&&!t.match(/^(http|ftp)s?:\/\/./)?g.default.readFile(t,e):U({url:t},e)}function j(t){return t&&"object"===(0,m.default)(t)&&"number"==typeof t.width&&"number"==typeof t.height&&(Buffer.isBuffer(t.data)||t.data instanceof Uint8Array||"function"==typeof Uint8ClampedArray&&t.data instanceof Uint8ClampedArray)&&(t.data.length===t.width*t.height*4||t.data.length===t.width*t.height*3)}function N(t){if(t.length%3!=0)throw Error("Buffer length is incorrect");for(var e=Buffer.allocUnsafe(t.length/3*4),r=0,i=0;i<t.length;i++)e[r]=t[i],(i+1)%3==0&&(e[++r]=255),r++;return e}var G={data:null,width:null,height:null},H=function(t){function e(){for(var t,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];(0,h.default)(this,e),t=(0,l.default)(this,(0,f.default)(e).call(this)),(0,p.default)((0,c.default)(t),"bitmap",G),(0,p.default)((0,c.default)(t),"_background",0),(0,p.default)((0,c.default)(t),"_originalMime",e.MIME_PNG),(0,p.default)((0,c.default)(t),"_exif",null),(0,p.default)((0,c.default)(t),"_rgba",!0),(0,p.default)((0,c.default)(t),"writeAsync",function(e){return(0,I.default)(t.write,(0,c.default)(t),e)}),(0,p.default)((0,c.default)(t),"getBase64Async",function(e){return(0,I.default)(t.getBase64,(0,c.default)(t),e)}),(0,p.default)((0,c.default)(t),"getBuffer",B.getBuffer),(0,p.default)((0,c.default)(t),"getBufferAsync",B.getBufferAsync),(0,p.default)((0,c.default)(t),"getPixelColour",t.getPixelColor),(0,p.default)((0,c.default)(t),"setPixelColour",t.setPixelColor);var a=(0,c.default)(t),o=D;function s(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e[0];(i||{}).methodName="constructor",setTimeout(function(){var t;i&&o===D?a.emitError("constructor",i):i||a.emitMulti("constructor","initialized"),(t=o).call.apply(t,[a].concat(e))},1)}if(z(i[0])&&(i[0]=R(i[0])),"number"==typeof i[0]&&"number"==typeof i[1]||parseInt(i[0],10)&&parseInt(i[1],10)){var u=parseInt(i[0],10),d=parseInt(i[1],10);if(o=i[2],"number"==typeof i[2]&&(t._background=i[2],o=i[3]),"string"==typeof i[2]&&(t._background=e.cssColorToHex(i[2]),o=i[3]),void 0===o&&(o=D),"function"!=typeof o)return(0,l.default)(t,v.throwError.call((0,c.default)(t),"cb must be a function",s));t.bitmap={data:Buffer.alloc(u*d*4),width:u,height:d};for(var g=0;g<t.bitmap.data.length;g+=4)t.bitmap.data.writeUInt32BE(t._background,g);s(null,(0,c.default)(t))}else if("object"===(0,m.default)(i[0])&&i[0].url){if("function"!=typeof(o=i[1]||D))return(0,l.default)(t,v.throwError.call((0,c.default)(t),"cb must be a function",s));U(i[0],function(e,r){if(e)return v.throwError.call((0,c.default)(t),e,s);t.parseBitmap(r,i[0].url,s)})}else if(i[0]instanceof e){var _=i[0];if(void 0===(o=i[1])&&(o=D),"function"!=typeof o)return(0,l.default)(t,v.throwError.call((0,c.default)(t),"cb must be a function",s));t.bitmap={data:Buffer.from(_.bitmap.data),width:_.bitmap.width,height:_.bitmap.height},t._quality=_._quality,t._deflateLevel=_._deflateLevel,t._deflateStrategy=_._deflateStrategy,t._filterType=_._filterType,t._rgba=_._rgba,t._background=_._background,t._originalMime=_._originalMime,s(null,(0,c.default)(t))}else if(j(i[0])){var b=i[0];o=i[1]||D;var y=b.width*b.height*4===b.data.length?Buffer.from(b.data):N(b.data);t.bitmap={data:y,width:b.width,height:b.height},s(null,(0,c.default)(t))}else if("string"==typeof i[0]){var w=i[0];if(void 0===(o=i[1])&&(o=D),"function"!=typeof o)return(0,l.default)(t,v.throwError.call((0,c.default)(t),"cb must be a function",s));F(w,function(e,r){if(e)return v.throwError.call((0,c.default)(t),e,s);t.parseBitmap(r,w,s)})}else if("object"===(0,m.default)(i[0])&&Buffer.isBuffer(i[0])){var x=i[0];if("function"!=typeof(o=i[1]))return(0,l.default)(t,v.throwError.call((0,c.default)(t),"cb must be a function",s));t.parseBitmap(x,null,s)}else{"function"!=typeof(o=i[i.length-1])&&"function"!=typeof(o=i[i.length-2])&&(o=D);var M=e.__extraConstructors.find(function(t){return t.test.apply(t,i)});if(!M)return(0,l.default)(t,v.throwError.call((0,c.default)(t),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",s));new Promise(function(e,r){var n;(n=M.run).call.apply(n,[(0,c.default)(t),e,r].concat(i))}).then(function(){return s(null,(0,c.default)(t))}).catch(s)}return t}return(0,d.default)(e,t),(0,u.default)(e,[{key:"parseBitmap",value:function(t,e,r){B.parseBitmap.call(this,t,null,r)}},{key:"rgba",value:function(t,e){return"boolean"!=typeof t?v.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",e):(this._rgba=t,(0,v.isNodePattern)(e)&&e.call(this,null,this),this)}},{key:"emitMulti",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=Object.assign(r,{methodName:t,eventName:e}),this.emit("any",r),t&&this.emit(t,r),this.emit(e,r)}},{key:"emitError",value:function(t,e){this.emitMulti(t,"error",e)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===G?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){return this._originalMime||e.MIME_PNG}},{key:"getExtension",value:function(){var t=this.getMIME();return P.getExtension(t)}},{key:"write",value:function(t,e){var r=this;if(!g.default||!g.default.createWriteStream)throw Error("Cant access the filesystem. You can use the getBase64 method.");if("string"!=typeof t)return v.throwError.call(this,"path must be a string",e);if(void 0===e&&(e=D),"function"!=typeof e)return v.throwError.call(this,"cb must be a function",e);var i=P.getType(t)||this.getMIME(),n=_.default.parse(t);return n.dir&&w.default.sync(n.dir),this.getBuffer(i,function(i,n){if(i)return v.throwError.call(r,i,e);var a=g.default.createWriteStream(t);a.on("open",function(){a.write(n),a.end()}).on("error",function(t){return v.throwError.call(r,t,e)}),a.on("finish",function(){e.call(r,null,r)})}),this}},{key:"getBase64",value:function(t,r){return(t===e.AUTO&&(t=this.getMIME()),"string"!=typeof t)?v.throwError.call(this,"mime must be a string",r):"function"!=typeof r?v.throwError.call(this,"cb must be a function",r):(this.getBuffer(t,function(e,i){if(e)return v.throwError.call(this,e,r);var n="data:"+t+";base64,"+i.toString("base64");r.call(this,null,n)}),this)}},{key:"hash",value:function(t,e){if("function"==typeof(t=t||64)&&(e=t,t=64),"number"!=typeof t)return v.throwError.call(this,"base must be a number",e);if(t<2||t>64)return v.throwError.call(this,"base must be a number between 2 and 64",e);var r=this.pHash();for(r=(0,y.default)(y.default.BIN,T.slice(0,t))(r);r.length<O[t];)r="0"+r;return(0,v.isNodePattern)(e)&&e.call(this,null,r),r}},{key:"pHash",value:function(){return new E.default().getHash(this)}},{key:"distanceFromHash",value:function(t){var e=new E.default,r=e.getHash(this);return e.distance(r,t)}},{key:"getPixelIndex",value:function(t,r,i,n){if("function"==typeof i&&void 0===n&&(n=i,i=null),i||(i=e.EDGE_EXTEND),"number"!=typeof t||"number"!=typeof r)return v.throwError.call(this,"x and y must be numbers",n);t=Math.round(t),r=Math.round(r),a=t,o=r,i===e.EDGE_EXTEND&&(t<0&&(a=0),t>=this.bitmap.width&&(a=this.bitmap.width-1),r<0&&(o=0),r>=this.bitmap.height&&(o=this.bitmap.height-1)),i===e.EDGE_WRAP&&(t<0&&(a=this.bitmap.width+t),t>=this.bitmap.width&&(a=t%this.bitmap.width),r<0&&(a=this.bitmap.height+r),r>=this.bitmap.height&&(o=r%this.bitmap.height));var a,o,s=this.bitmap.width*o+a<<2;return(a<0||a>=this.bitmap.width)&&(s=-1),(o<0||o>=this.bitmap.height)&&(s=-1),(0,v.isNodePattern)(n)&&n.call(this,null,s),s}},{key:"getPixelColor",value:function(t,e,r){if("number"!=typeof t||"number"!=typeof e)return v.throwError.call(this,"x and y must be numbers",r);t=Math.round(t),e=Math.round(e);var i=this.getPixelIndex(t,e),n=this.bitmap.data.readUInt32BE(i);return(0,v.isNodePattern)(r)&&r.call(this,null,n),n}},{key:"setPixelColor",value:function(t,e,r,i){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)return v.throwError.call(this,"hex, x and y must be numbers",i);e=Math.round(e),r=Math.round(r);var n=this.getPixelIndex(e,r);return this.bitmap.data.writeUInt32BE(t,n),(0,v.isNodePattern)(i)&&i.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var t=0;t<this.bitmap.height;t++)for(var e=0;e<this.bitmap.width;e++){var r=this.bitmap.width*t+e<<2;if(255!==this.bitmap.data[r+3])return!0}return!1}},{key:"scanIterator",value:function(t,e,r,i){return"number"!=typeof t||"number"!=typeof e?v.throwError.call(this,"x and y must be numbers"):"number"!=typeof r||"number"!=typeof i?v.throwError.call(this,"w and h must be numbers"):(0,v.scanIterator)(this,t,e,r,i)}}]),e}(b.default);function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;Object.entries(t).forEach(function(t){var r=(0,s.default)(t,2),i=r[0],n=r[1];e[i]=n})}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;Object.entries(t).forEach(function(t){var r=(0,s.default)(t,2),i=r[0],n=r[1];e.prototype[i]=n})}function V(t,e,r){var i="before-"+e,n=e.replace(/e$/,"")+"ed";H.prototype[t]=function(){for(var e,a,o=arguments.length,s=Array(o),h=0;h<o;h++)s[h]=arguments[h];var u=s[r.length-1],l=this;"function"==typeof u?(e=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=r[0],o=r[1];a?l.emitError(t,a):l.emitMulti(t,n,(0,p.default)({},t,o)),u.apply(this,r)},s[s.length-1]=e):e=!1,this.emitMulti(t,i);try{a=r.apply(this,s),e||this.emitMulti(t,n,(0,p.default)({},t,a))}catch(e){e.methodName=t,this.emitError(t,e)}return a},H.prototype[t+"Quiet"]=r}function Y(t,e){V(t,"change",e)}W(A),q({composite:k.default}),H.__extraConstructors=[],H.appendConstructorOption=function(t,e,r){H.__extraConstructors.push({name:t,test:e,run:r})},H.read=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return new Promise(function(t,r){(0,o.default)(H,e.concat([function(e,i){e?r(e):t(i)}]))})},H.create=H.read,H.rgbaToInt=function(t,e,r,i,n){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r||"number"!=typeof i)return v.throwError.call(this,"r, g, b and a must be numbers",n);if(t<0||t>255)return v.throwError.call(this,"r must be between 0 and 255",n);if((e<0||e>255)&&v.throwError.call(this,"g must be between 0 and 255",n),r<0||r>255)return v.throwError.call(this,"b must be between 0 and 255",n);if(i<0||i>255)return v.throwError.call(this,"a must be between 0 and 255",n);t=Math.round(t),r=Math.round(r);var a=16777216*t+65536*(e=Math.round(e))+256*r+1*(i=Math.round(i));return(0,v.isNodePattern)(n)&&n.call(this,null,a),a},H.intToRGBA=function(t,e){if("number"!=typeof t)return v.throwError.call(this,"i must be a number",e);var r={};return r.r=Math.floor(t/16777216),r.g=Math.floor((t-16777216*r.r)/65536),r.b=Math.floor((t-16777216*r.r-65536*r.g)/256),r.a=Math.floor((t-16777216*r.r-65536*r.g-256*r.b)/1),(0,v.isNodePattern)(e)&&e.call(this,null,r),r},H.cssColorToHex=function(t){return"number"==typeof(t=t||0)?Number(t):parseInt((0,M.default)(t).toHex8(),16)},H.limit255=function(t){return t=Math.min(t=Math.max(t,0),255)},H.diff=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(t instanceof H)||!(e instanceof H))return v.throwError.call(this,"img1 and img2 must be an Jimp images");var i=t.bitmap,n=e.bitmap;if((i.width!==n.width||i.height!==n.height)&&(i.width*i.height>n.width*n.height?t=t.cloneQuiet().resize(n.width,n.height):e=e.cloneQuiet().resize(i.width,i.height)),"number"!=typeof r||r<0||r>1)return v.throwError.call(this,"threshold must be a number between 0 and 1");var a=new H(i.width,i.height,4294967295);return{percent:(0,x.default)(i.data,n.data,a.bitmap.data,a.bitmap.width,a.bitmap.height,{threshold:r})/(a.bitmap.width*a.bitmap.height),image:a}},H.distance=function(t,e){var r=new E.default,i=r.getHash(t),n=r.getHash(e);return r.distance(i,n)},H.compareHashes=function(t,e){return new E.default().distance(t,e)},H.colorDiff=function(t,e){var r=function(t){return Math.pow(t,2)},i=Math.max,n=195075;return 0===t.a||t.a||(t.a=255),0===e.a||e.a||(e.a=255),(i(r(t.r-e.r),r(t.r-e.r-t.a+e.a))+i(r(t.g-e.g),r(t.g-e.g-t.a+e.a))+i(r(t.b-e.b),r(t.b-e.b-t.a+e.a)))/n},V("clone","clone",function(t){var e=new H(this);return(0,v.isNodePattern)(t)&&t.call(e,null,e),e}),Y("background",function(t,e){return"number"!=typeof t?v.throwError.call(this,"hex must be a hexadecimal rgba value",e):(this._background=t,(0,v.isNodePattern)(e)&&e.call(this,null,this),this)}),Y("scan",function(t,e,r,i,n,a){if("number"!=typeof t||"number"!=typeof e)return v.throwError.call(this,"x and y must be numbers",a);if("number"!=typeof r||"number"!=typeof i)return v.throwError.call(this,"w and h must be numbers",a);if("function"!=typeof n)return v.throwError.call(this,"f must be a function",a);var o=(0,v.scan)(this,t,e,r,i,n);return(0,v.isNodePattern)(a)&&a.call(this,null,o),o}),"BROWSER"===process.env.ENVIRONMENT&&("undefined"!=typeof window&&("undefined"==typeof window?"undefined":(0,m.default)(window))==="object"&&(i=window),"undefined"!=typeof self&&("undefined"==typeof self?"undefined":(0,m.default)(self))==="object"&&(i=self),i.Jimp=H,i.Buffer=Buffer);var Z=H;e.default=Z},75645:t=>{"use strict";function e(t,e){this.size=this.size||t,this.smallerSize=this.smallerSize||e,n(this.size)}function r(t){var e={};return e.r=Math.floor(t/16777216),e.g=Math.floor((t-16777216*e.r)/65536),e.b=Math.floor((t-16777216*e.r-65536*e.g)/256),e.a=Math.floor((t-16777216*e.r-65536*e.g-256*e.b)/1),e}e.prototype.size=32,e.prototype.smallerSize=8,e.prototype.distance=function(t,e){for(var r=0,i=0;i<t.length;i++)t[i]!==e[i]&&r++;return r/t.length},e.prototype.getHash=function(t){(t=t.clone().resize(this.size,this.size)).grayscale();for(var e=[],i=0;i<t.bitmap.width;i++){e[i]=[];for(var n=0;n<t.bitmap.height;n++)e[i][n]=r(t.getPixelColor(i,n)).b}for(var o=a(e,this.size),s=0,h=0;h<this.smallerSize;h++)for(var u=0;u<this.smallerSize;u++)s+=o[h][u];for(var l=s/(this.smallerSize*this.smallerSize),f="",c=0;c<this.smallerSize;c++)for(var d=0;d<this.smallerSize;d++)f+=o[c][d]>l?"1":"0";return f};var i=[];function n(t){for(var e=1;e<t;e++)i[e]=1;i[0]=1/Math.sqrt(2)}function a(t,e){for(var r=e,n=[],a=0;a<r;a++){n[a]=[];for(var o=0;o<r;o++){for(var s=0,h=0;h<r;h++)for(var u=0;u<r;u++)s+=Math.cos((2*h+1)/(2*r)*a*Math.PI)*Math.cos((2*u+1)/(2*r)*o*Math.PI)*t[h][u];s*=i[a]*i[o]/4,n[a][o]=s}}return n}t.exports=e},45480:(t,e,r)=>{"use strict";var i=r(39618),n=i(r(61092)),a=i(r(65684));function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(r,!0).forEach(function(e){(0,n.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}"BROWSER"===process.env.ENVIRONMENT||void 0!==process.versions.electron&&"renderer"===process.type&&"function"==typeof XMLHttpRequest?t.exports=function(t,e){var r=new XMLHttpRequest;r.open("GET",t.url,!0),r.responseType="arraybuffer",r.addEventListener("load",function(){if(r.status<400)try{var i=Buffer.from(this.response);e(null,r,i)}catch(r){return e(Error("Response is not a buffer for url "+t.url+". Error: "+r.message))}else e(Error("HTTP Status "+r.status+" for url "+t.url))}),r.addEventListener("error",function(t){e(t)}),r.send()}:t.exports=function(t,e){var i=(0,a.default)({},t);r(25929)(s({compression:!0},i),function(t,r){null===t?e(null,r,r.body):e(t)})}},11513:(t,e,r)=>{"use strict";var i=r(64056),n=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.parseBitmap=b,e.getBuffer=y,e.getBufferAsync=w;var a=n(r(35895)),o=n(r(16477)),s=n(r(31792)),h=n(r(26236)),u=r(67937),l=i(r(63428)),f=i(r(94469)),c=n(r(61151));function d(t,e){var r;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.default.awrap(s.default.fromBuffer(t));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.mime);case 5:if(!e){i.next=7;break}return i.abrupt("return",f.getType(e));case 7:return i.abrupt("return",null);case 8:case"end":return i.stop()}})}function p(t){return t._exif&&t._exif.tags&&t._exif.tags.Orientation||1}function m(t){var e=t.getWidth(),r=t.getHeight();switch(p(t)){case 1:default:return null;case 2:return function(t,r){return[e-t-1,r]};case 3:return function(t,i){return[e-t-1,r-i-1]};case 4:return function(t,e){return[t,r-e-1]};case 5:return function(t,e){return[e,t]};case 6:return function(t,e){return[e,r-t-1]};case 7:return function(t,i){return[e-i-1,r-t-1]};case 8:return function(t,r){return[e-r-1,t]}}}function g(t,e,r,i){for(var n=t.bitmap.data,o=t.bitmap.width,s=Buffer.alloc(n.length),h=0;h<e;h++)for(var u=0;u<r;u++){var l=i(h,u),f=(0,a.default)(l,2),c=f[0],d=f[1],p=e*u+h<<2,m=o*d+c<<2,g=n.readUInt32BE(m);s.writeUInt32BE(g,p)}t.bitmap.data=s,t.bitmap.width=e,t.bitmap.height=r}function _(t){if(!(2>p(t))){var e=m(t),r=p(t)>4,i=r?t.bitmap.height:t.bitmap.width,n=r?t.bitmap.width:t.bitmap.height;g(t,i,n,e)}}function b(t,e,r){var i,n;return o.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.default.awrap(d(t,e));case 2:if(!("string"!=typeof(i=a.sent))){a.next=5;break}return a.abrupt("return",r(Error("Could not find MIME for Buffer <"+e+">")));case 5:if(this._originalMime=i.toLowerCase(),a.prev=6,n=this.getMIME(),!this.constructor.decoders[n]){a.next=12;break}this.bitmap=this.constructor.decoders[n](t),a.next=13;break;case 12:return a.abrupt("return",u.throwError.call(this,"Unsupported MIME type: "+n,r));case 13:a.next=18;break;case 15:return a.prev=15,a.t0=a.catch(6),a.abrupt("return",r.call(this,a.t0,this));case 18:try{this._exif=h.default.create(t).parse(),_(this)}catch(t){}return r.call(this,null,this),a.abrupt("return",this);case 21:case"end":return a.stop()}},null,this,[[6,15]])}function v(t,e){return new t(e.bitmap.width,e.bitmap.height,e._background).composite(e,0,0).bitmap}function y(t,e){if(t===l.AUTO&&(t=this.getMIME()),"string"!=typeof t)return u.throwError.call(this,"mime must be a string",e);if("function"!=typeof e)return u.throwError.call(this,"cb must be a function",e);if(t=t.toLowerCase(),this._rgba&&this.constructor.hasAlpha[t]?this.bitmap.data=Buffer.from(this.bitmap.data):this.bitmap.data=v(this.constructor,this).data,this.constructor.encoders[t]){var r=this.constructor.encoders[t](this);e.call(this,null,r)}else e.call(this,"Unsupported MIME type: "+t);return this}function w(t){return(0,c.default)(y,this,t)}},94469:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExtension=e.getType=e.addType=void 0;var r={},i=function(t){return Object.entries(r).find(function(e){return e[1].includes(t)})||[]},n=function(t,e){r[t]=e};e.addType=n;var a=function(t){var e=t.split("/").slice(-1);return i(e[e.length-1].split(".").pop())[0]};e.getType=a;var o=function(t){return(r[t.toLowerCase()]||[])[0]};e.getExtension=o},61151:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){for(var r=arguments.length,i=Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return new Promise(function(r,n){i.push(function(t,e){t&&n(t),r(e)}),t.bind(e).apply(void 0,i)})};e.default=r,t.exports=e.default},28450:(t,e,r)=>{"use strict";var i=r(64056),n=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var a=n(r(84653)),o=n(r(61092)),s=n(r(35895)),h=i(r(77401));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(r,!0).forEach(function(e){(0,o.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default,r={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function i(t){Object.entries(t).forEach(function(t){var e=(0,s.default)(t,2),i=e[0],n=e[1];r[i]=l({},r[i],{},n)})}function n(t){var e=t();Array.isArray(e.mime)?h.addType.apply(void 0,(0,a.default)(e.mime)):Object.entries(e.mime).forEach(function(t){return h.addType.apply(void 0,(0,a.default)(t))}),delete e.mime,i(e)}function o(t){var e=t(h.jimpEvChange)||{};e.class||e.constants?i(e):i({class:e})}return t.types&&(t.types.forEach(n),e.decoders=l({},e.decoders,{},r.decoders),e.encoders=l({},e.encoders,{},r.encoders),e.hasAlpha=l({},e.hasAlpha,{},r.hasAlpha)),t.plugins&&t.plugins.forEach(o),(0,h.addJimpMethods)(r.class,e),(0,h.addConstants)(r.constants,e),h.default}t.exports=e.default},14137:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=i(r(65141)),o=r(5071),s="image/gif",h=function(){return{mime:(0,n.default)({},s,["gif"]),constants:{MIME_GIF:s},decoders:(0,n.default)({},s,function(t){var e=new a.default.GifReader(t),r=Buffer.alloc(e.width*e.height*4);return e.decodeAndBlitFrameRGBA(0,r),{data:r,width:e.width,height:e.height}}),encoders:(0,n.default)({},s,function(t){var e=new o.BitmapImage(t.bitmap);o.GifUtil.quantizeDekker(e,256);var r=new o.GifFrame(e);return new o.GifCodec().encodeGif([r],{}).then(function(t){return t.buffer})})}};e.default=h,t.exports=e.default},86130:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=i(r(83347)),o=r(67937),s="image/jpeg",h=function(){return{mime:(0,n.default)({},s,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:s},decoders:(0,n.default)({},s,a.default.decode),encoders:(0,n.default)({},s,function(t){return a.default.encode(t.bitmap,t._quality).data}),class:{_quality:100,quality:function(t,e){return"number"!=typeof t?o.throwError.call(this,"n must be a number",e):t<0||t>100?o.throwError.call(this,"n must be a number 0 - 100",e):(this._quality=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)}}}};e.default=h,t.exports=e.default},35338:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(67937),a=i(r(70745)),o=i(r(5277)),s=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(t,e,r,i){if("number"!=typeof t||"number"!=typeof e)return n.throwError.call(this,"w and h must be numbers",i);if("function"==typeof r&&void 0===i&&(i=r,r=null),t===this.constructor.AUTO&&e===this.constructor.AUTO)return n.throwError.call(this,"w and h cannot both be set to auto",i);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(e/this.bitmap.height)),e===this.constructor.AUTO&&(e=this.bitmap.height*(t/this.bitmap.width)),t<0||e<0)return n.throwError.call(this,"w and h must be positive numbers",i);if(t=Math.round(t),e=Math.round(e),"function"==typeof o.default[r]){var s={data:Buffer.alloc(t*e*4),width:t,height:e};o.default[r](this.bitmap,s),this.bitmap=s}else{var h=this;new a.default(this.bitmap.width,this.bitmap.height,t,e,!0,!0,function(r){h.bitmap.data=Buffer.from(r),h.bitmap.width=t,h.bitmap.height=e}).resize(this.bitmap.data)}return(0,n.isNodePattern)(i)&&i.call(this,null,this),this}}}};e.default=s,t.exports=e.default},70745:t=>{"use strict";function e(t,e,r,i,n,a,o){this.widthOriginal=Math.abs(Math.floor(t)||0),this.heightOriginal=Math.abs(Math.floor(e)||0),this.targetWidth=Math.abs(Math.floor(r)||0),this.targetHeight=Math.abs(Math.floor(i)||0),this.colorChannels=n?4:3,this.interpolationPass=!!a,this.resizeCallback="function"==typeof o?o:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}e.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw Error("Invalid settings specified for the resizer.")},e.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},e.prototype._resizeWidthInterpolatedRGBChannels=function(t,e){var r,i,n=e?4:3,a=this.ratioWeightWidthPass,o=this.widthBuffer,s=0,h=0,u=0,l=0,f=0;for(r=0;s<1/3;r+=n,s+=a)for(h=r,u=0;h<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,h+=this.targetWidthMultipliedByChannels)o[h]=t[u],o[h+1]=t[u+1],o[h+2]=t[u+2],e&&(o[h+3]=t[u+3]);for(s-=1/3,i=this.widthOriginal-1;s<i;r+=n,s+=a)for(l=1-(f=s%1),h=r,u=Math.floor(s)*n;h<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,h+=this.targetWidthMultipliedByChannels)o[h+0]=t[u+0]*l+t[u+n+0]*f,o[h+1]=t[u+1]*l+t[u+n+1]*f,o[h+2]=t[u+2]*l+t[u+n+2]*f,e&&(o[h+3]=t[u+3]*l+t[u+n+3]*f);for(i=this.originalWidthMultipliedByChannels-n;r<this.targetWidthMultipliedByChannels;r+=n)for(h=r,u=i;h<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,h+=this.targetWidthMultipliedByChannels)o[h]=t[u],o[h+1]=t[u+1],o[h+2]=t[u+2],e&&(o[h+3]=t[u+3]);return o},e.prototype._resizeWidthRGBChannels=function(t,e){var r=e?4:3,i=this.ratioWeightWidthPass,n=1/i,a=this.originalWidthMultipliedByChannels-r+1,o=this.targetWidthMultipliedByChannels-r+1,s=this.outputWidthWorkBench,h=this.widthBuffer,u=this.outputWidthWorkBenchOpaquePixelsCount,l=0,f=0,c=0,d=0,p=0,m=0,g=0,_=1,b=0,v=0,y=0,w=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)s[p++]=0,s[p++]=0,s[p++]=0,e&&(s[p++]=0,u[p/r-1]=0);l=i;do{for(p=0,_=Math.min(l,f=1+c-d),m=c;p<this.originalHeightMultipliedByChannels;m+=a)b=t[m],v=t[++m],y=t[++m],w=e?t[++m]:255,s[p++]+=(w?b:0)*_,s[p++]+=(w?v:0)*_,s[p++]+=(w?y:0)*_,e&&(s[p++]+=w*_,u[p/r-1]+=w?_:0);if(l>=f)c+=r,d=c,l-=f;else{d+=l;break}}while(l>0&&c<this.originalWidthMultipliedByChannels);for(p=0,m=g;p<this.originalHeightMultipliedByChannels;m+=o)l=e?u[p/r]:1,_=e?l?1/l:0:n,h[m]=s[p++]*_,h[++m]=s[p++]*_,h[++m]=s[p++]*_,e&&(h[++m]=s[p++]*n);g+=r}while(g<this.targetWidthMultipliedByChannels);return h},e.prototype._resizeHeightRGBChannels=function(t,e){var r=this.ratioWeightHeightPass,i=1/r,n=this.outputHeightWorkBench,a=this.heightBuffer,o=this.outputHeightWorkBenchOpaquePixelsCount,s=0,h=0,u=0,l=0,f=0,c=0,d=0,p=1,m=0,g=0,_=0,b=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)n[f++]=0,n[f++]=0,n[f++]=0,e&&(n[f++]=0,o[f/4-1]=0);s=r;do{for(f=0,p=Math.min(s,h=1+u-l),d=u;f<this.targetWidthMultipliedByChannels;)m=t[d++],g=t[d++],_=t[d++],b=e?t[d++]:255,n[f++]+=(b?m:0)*p,n[f++]+=(b?g:0)*p,n[f++]+=(b?_:0)*p,e&&(n[f++]+=b*p,o[f/4-1]+=b?p:0);if(s>=h)l=u=d,s-=h;else{l+=s;break}}while(s>0&&u<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)s=e?o[f/4]:1,p=e?s?1/s:0:i,a[c++]=Math.round(n[f++]*p),a[c++]=Math.round(n[f++]*p),a[c++]=Math.round(n[f++]*p),e&&(a[c++]=Math.round(n[f++]*i))}while(c<this.finalResultSize);return a},e.prototype.resizeWidthInterpolatedRGB=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!1)},e.prototype.resizeWidthInterpolatedRGBA=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!0)},e.prototype.resizeWidthRGB=function(t){return this._resizeWidthRGBChannels(t,!1)},e.prototype.resizeWidthRGBA=function(t){return this._resizeWidthRGBChannels(t,!0)},e.prototype.resizeHeightInterpolated=function(t){for(var e,r=this.ratioWeightHeightPass,i=this.heightBuffer,n=0,a=0,o=0,s=0,h=0,u=0,l=0;n<1/3;n+=r)for(o=0;o<this.targetWidthMultipliedByChannels;)i[a++]=Math.round(t[o++]);for(n-=1/3,e=this.heightOriginal-1;n<e;n+=r)for(o=0,u=1-(l=n%1),h=(s=Math.floor(n)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels;o<this.targetWidthMultipliedByChannels;++o)i[a++]=Math.round(t[s++]*u+t[h++]*l);for(;a<this.finalResultSize;)for(o=0,s=e*this.targetWidthMultipliedByChannels;o<this.targetWidthMultipliedByChannels;++o)i[a++]=Math.round(t[s++]);return i},e.prototype.resizeHeightRGB=function(t){return this._resizeHeightRGBChannels(t,!1)},e.prototype.resizeHeightRGBA=function(t){return this._resizeHeightRGBChannels(t,!0)},e.prototype.resize=function(t){this.resizeCallback(this.resizeHeight(this.resizeWidth(t)))},e.prototype.bypassResizer=function(t){return t},e.prototype.initializeFirstPassBuffers=function(t){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),!t&&(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},e.prototype.initializeSecondPassBuffers=function(t){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),!t&&(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},e.prototype.generateFloatBuffer=function(t){try{return new Float32Array(t)}catch(t){return[]}},e.prototype.generateFloat64Buffer=function(t){try{return new Float64Array(t)}catch(t){return[]}},e.prototype.generateUint8Buffer=function(t){try{return new Uint8Array(t)}catch(t){return[]}},t.exports=e},5277:t=>{"use strict";t.exports={nearestNeighbor:function(t,e){for(var r=t.width,i=t.height,n=e.width,a=e.height,o=t.data,s=e.data,h=0;h<a;h++)for(var u=0;u<n;u++){var l=(h*n+u)*4,f=Math.floor(u*r/n),c=(Math.floor(h*i/a)*r+f)*4;s[l++]=o[c++],s[l++]=o[c++],s[l++]=o[c++],s[l++]=o[c++]}},bilinearInterpolation:function(t,e){for(var r=t.width,i=t.height,n=e.width,a=e.height,o=t.data,s=e.data,h=function(t,e,r,i,n){return e===i?r:Math.round((t-e)*n+(i-t)*r)},u=function(t,e,i,n,a,u,l,f){var c=(l*r+n)*4+e,d=(l*r+a)*4+e,p=h(i,n,o[c],a,o[d]);if(f===l)s[t+e]=p;else{c=(f*r+n)*4+e,d=(f*r+a)*4+e;var m=h(i,n,o[c],a,o[d]);s[t+e]=h(u,l,p,f,m)}},l=0;l<a;l++)for(var f=0;f<n;f++){var c=(l*n+f)*4,d=f*r/n,p=Math.floor(d),m=Math.min(Math.ceil(d),r-1),g=l*i/a,_=Math.floor(g),b=Math.min(Math.ceil(g),i-1);u(c,0,d,p,m,g,_,b),u(c,1,d,p,m,g,_,b),u(c,2,d,p,m,g,_,b),u(c,3,d,p,m,g,_,b)}},_interpolate2D:function(t,e,r,i){for(var n=t.data,a=e.data,o=t.width,s=t.height,h=e.width,u=e.height,l=Math.max(1,Math.floor(o/h)),f=h*l,c=Math.max(1,Math.floor(s/u)),d=u*c,p=Buffer.alloc(f*s*4),m=0;m<s;m++)for(var g=0;g<f;g++)for(var _=g*(o-1)/f,b=Math.floor(_),v=_-b,y=(m*o+b)*4,w=(m*f+g)*4,x=0;x<4;x++){var M=y+x,E=b>0?n[M-4]:2*n[M]-n[M+4],S=n[M],k=n[M+4],I=b<o-2?n[M+8]:2*n[M+4]-n[M];p[w+x]=i(E,S,k,I,v)}for(var P=Buffer.alloc(f*d*4),B=0;B<d;B++)for(var A=0;A<f;A++)for(var T=B*(s-1)/d,O=Math.floor(T),C=T-O,L=(O*f+A)*4,D=(B*f+A)*4,z=0;z<4;z++){var R=L+z,U=O>0?p[R-4*f]:2*p[R]-p[R+4*f],F=p[R],j=p[R+4*f],N=O<s-2?p[R+8*f]:2*p[R+4*f]-p[R];P[D+z]=i(U,F,j,N,C)}var G=l*c;if(G>1)for(var H=0;H<u;H++)for(var W=0;W<h;W++){for(var q=0,V=0,Y=0,Z=0,J=0,X=0;X<c;X++)for(var Q=H*c+X,K=0;K<l;K++){var $=(Q*f+(W*l+K))*4,tt=P[$+3];tt&&(q+=P[$],V+=P[$+1],Y+=P[$+2],J++),Z+=tt}var te=(H*h+W)*4;a[te]=J?Math.round(q/J):0,a[te+1]=J?Math.round(V/J):0,a[te+2]=J?Math.round(Y/J):0,a[te+3]=Math.round(Z/G)}else e.data=P},bicubicInterpolation:function(t,e,r){var i=function(t,e,r,i,n){var a=i-r-t+e,o=t-e-a;return Math.max(0,Math.min(255,n*n*n*a+n*n*o+(r-t)*n+e))};return this._interpolate2D(t,e,r,i)},hermiteInterpolation:function(t,e,r){var i=function(t,e,r,i,n){var a=e,o=.5*(r-t),s=t-2.5*e+2*r-.5*i;return Math.max(0,Math.min(255,Math.round((((.5*(i-t)+1.5*(e-r))*n+s)*n+o)*n+a)))};return this._interpolate2D(t,e,r,i)},bezierInterpolation:function(t,e,r){var i=function(t,e,r,i,n){var a=e+(r-t)/4,o=r-(i-e)/4,s=1-n;return Math.max(0,Math.min(255,Math.round(e*s*s*s+3*a*s*s*n+3*o*s*n*n+r*n*n*n)))};return this._interpolate2D(t,e,r,i)}}},33136:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=r(81687),o=r(67937),s="image/png",h=-1,u=0,l=1,f=2,c=3,d=4,p=function(){return{mime:(0,n.default)({},s,["png"]),constants:{MIME_PNG:s,PNG_FILTER_AUTO:h,PNG_FILTER_NONE:u,PNG_FILTER_SUB:l,PNG_FILTER_UP:f,PNG_FILTER_AVERAGE:c,PNG_FILTER_PATH:d},hasAlpha:(0,n.default)({},s,!0),decoders:(0,n.default)({},s,a.PNG.sync.read),encoders:(0,n.default)({},s,function(t){var e=new a.PNG({width:t.bitmap.width,height:t.bitmap.height});return e.data=t.bitmap.data,a.PNG.sync.write(e,{width:t.bitmap.width,height:t.bitmap.height,deflateLevel:t._deflateLevel,deflateStrategy:t._deflateStrategy,filterType:t._filterType,colorType:"number"==typeof t._colorType?t._colorType:t._rgba?6:2,inputHasAlpha:t._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:h,_colorType:null,deflateLevel:function(t,e){return"number"!=typeof t?o.throwError.call(this,"l must be a number",e):t<0||t>9?o.throwError.call(this,"l must be a number 0 - 9",e):(this._deflateLevel=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)},deflateStrategy:function(t,e){return"number"!=typeof t?o.throwError.call(this,"s must be a number",e):t<0||t>3?o.throwError.call(this,"s must be a number 0 - 3",e):(this._deflateStrategy=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)},filterType:function(t,e){return"number"!=typeof t?o.throwError.call(this,"n must be a number",e):t<-1||t>4?o.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",e):(this._filterType=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)},colorType:function(t,e){return"number"!=typeof t?o.throwError.call(this,"s must be a number",e):0!==t&&2!==t&&4!==t&&6!==t?o.throwError.call(this,"s must be a number 0, 2, 4, 6.",e):(this._colorType=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)}}}};e.default=p,t.exports=e.default},57314:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=i(r(53833)),o="image/tiff",s=function(){return{mime:(0,n.default)({},o,["tiff","tif"]),constants:{MIME_TIFF:o},decoders:(0,n.default)({},o,function(t){var e=a.default.decode(t),r=e[0];a.default.decodeImages(t,e);var i=a.default.toRGBA8(r);return{data:Buffer.from(i),width:r.t256[0],height:r.t257[0]}}),encoders:(0,n.default)({},o,function(t){var e=a.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return Buffer.from(e)})}};e.default=s,t.exports=e.default},82282:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(22745),a=i(r(86130)),o=i(r(33136)),s=i(r(46936)),h=i(r(57314)),u=i(r(14137)),l=function(){return(0,n.mergeDeep)((0,a.default)(),(0,o.default)(),(0,s.default)(),(0,h.default)(),(0,u.default)())};e.default=l,t.exports=e.default},67937:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.isNodePattern=o,e.throwError=s,e.scan=h,e.scanIterator=u;var n=i(r(16477)),a=n.default.mark(u);function o(t){if(void 0===t)return!1;if("function"!=typeof t)throw TypeError("Callback must be a function");return!0}function s(t,e){if("string"==typeof t&&(t=Error(t)),"function"==typeof e)return e.call(this,t);throw t}function h(t,e,r,i,n,a){e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n);for(var o=r;o<r+n;o++)for(var s=e;s<e+i;s++){var h=t.bitmap.width*o+s<<2;a.call(t,s,o,h)}return t}function u(t,e,r,i,o){var s,h,u;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=Math.round(e),r=Math.round(r),i=Math.round(i),o=Math.round(o),s=r;case 5:if(!(s<r+o)){n.next=17;break}h=e;case 7:if(!(h<e+i)){n.next=14;break}return u=t.bitmap.width*s+h<<2,n.next=11,{x:h,y:s,idx:u,image:t};case 11:h++,n.next=7;break;case 14:s++,n.next=5;break;case 17:case"end":return n.stop()}},a)}},30473:(t,e,r)=>{var i=r(54296);function n(t,e){var r=new i(t,e);return function(t){return r.convert(t)}}n.BIN="01",n.OCT="01234567",n.DEC="0123456789",n.HEX="0123456789abcdef",t.exports=n},54296:t=>{"use strict";function e(t,e){if(!t||!e||!t.length||!e.length)throw Error("Bad alphabet");this.srcAlphabet=t,this.dstAlphabet=e}e.prototype.convert=function(t){var e,r,i,n={},a=this.srcAlphabet.length,o=this.dstAlphabet.length,s=t.length,h="string"==typeof t?"":[];if(!this.isValid(t))throw Error('Number "'+t+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return t;for(e=0;e<s;e++)n[e]=this.srcAlphabet.indexOf(t[e]);do{for(e=0,r=0,i=0;e<s;e++)(r=r*a+n[e])>=o?(n[i++]=parseInt(r/o,10),r%=o):i>0&&(n[i++]=0);s=i,h=this.dstAlphabet.slice(r,r+1).concat(h)}while(0!==i);return h},e.prototype.isValid=function(t){for(var e=0;e<t.length;++e)if(-1===this.srcAlphabet.indexOf(t[e]))return!1;return!0},t.exports=e},9312:(t,e,r)=>{var i=r(26258),n=r(32512);t.exports={encode:i,decode:n}},32512:t=>{function e(t,e){if(this.pos=0,this.buffer=t,this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}e.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=Array(t);for(var e=0;e<t;e++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.palette[e]={red:n,green:i,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},e.prototype.parseRGBA=function(){var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Buffer(e),this[t]()},e.prototype.bit1=function(){for(var t=Math.ceil(this.width/8),e=t%4,r=this.height>=0?this.height-1:-this.height,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<t;n++)for(var a=this.buffer.readUInt8(this.pos++),o=i*this.width*4+32*n,s=0;s<8;s++)if(8*n+s<this.width){var h=this.palette[a>>7-s&1];this.data[o+4*s]=0,this.data[o+4*s+1]=h.blue,this.data[o+4*s+2]=h.green,this.data[o+4*s+3]=h.red}else break;0!=e&&(this.pos+=4-e)}},e.prototype.bit4=function(){if(2==this.compress){this.data.fill(255);for(var t=0,e=this.bottom_up?this.height-1:0,r=!1;t<this.data.length;){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(0==i){if(0==n){this.bottom_up?e--:e++,t=e*this.width*4,r=!1;continue}if(1==n)break;if(2==n){var a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.bottom_up?e-=o:e+=o,t+=o*this.width*4+4*a}else{for(var s=this.buffer.readUInt8(this.pos++),h=0;h<n;h++)r?u.call(this,15&s):u.call(this,(240&s)>>4),1&h&&h+1<n&&(s=this.buffer.readUInt8(this.pos++)),r=!r;(n+1>>1&1)==1&&this.pos++}}else for(var h=0;h<i;h++)r?u.call(this,15&n):u.call(this,(240&n)>>4),r=!r}function u(e){var r=this.palette[e];this.data[t]=0,this.data[t+1]=r.blue,this.data[t+2]=r.green,this.data[t+3]=r.red,t+=4}}else for(var l=Math.ceil(this.width/2),f=l%4,o=this.height-1;o>=0;o--){for(var c=this.bottom_up?o:this.height-1-o,a=0;a<l;a++){var n=this.buffer.readUInt8(this.pos++),t=c*this.width*4+8*a,d=n>>4,p=15&n,m=this.palette[d];if(this.data[t]=0,this.data[t+1]=m.blue,this.data[t+2]=m.green,this.data[t+3]=m.red,2*a+1>=this.width)break;m=this.palette[p],this.data[t+4]=0,this.data[t+4+1]=m.blue,this.data[t+4+2]=m.green,this.data[t+4+3]=m.red}0!=f&&(this.pos+=4-f)}},e.prototype.bit8=function(){if(1==this.compress){this.data.fill(255);for(var t=0,e=this.bottom_up?this.height-1:0;t<this.data.length;){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0==r){if(0==i){this.bottom_up?e--:e++,t=e*this.width*4;continue}if(1==i)break;if(2==i){var n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?e-=a:e+=a,t+=a*this.width*4+4*n}else{for(var o=0;o<i;o++)s.call(this,this.buffer.readUInt8(this.pos++));!0&i&&this.pos++}}else for(var o=0;o<r;o++)s.call(this,i)}function s(e){var r=this.palette[e];this.data[t]=0,this.data[t+1]=r.blue,this.data[t+2]=r.green,this.data[t+3]=r.red,t+=4}}else for(var h=this.width%4,a=this.height-1;a>=0;a--){for(var u=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.buffer.readUInt8(this.pos++),t=u*this.width*4+4*n;if(i<this.palette.length){var l=this.palette[i];this.data[t]=0,this.data[t+1]=l.blue,this.data[t+2]=l.green,this.data[t+3]=l.red}else this.data[t]=0,this.data[t+1]=255,this.data[t+2]=255,this.data[t+3]=255}0!=h&&(this.pos+=4-h)}},e.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,h=(a>>10&e)/e*255|0,u=a>>15?255:0,l=i*this.width*4+4*n;this.data[l]=u,this.data[l+1]=o,this.data[l+2]=s,this.data[l+3]=h}this.pos+=t}},e.prototype.bit16=function(){var t=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var e=[0,0,0],r=0;r<16;r++)this.maskRed>>r&1&&e[0]++,this.maskGreen>>r&1&&e[1]++,this.maskBlue>>r&1&&e[2]++;e[1]+=e[0],e[2]+=e[1],e[0]=8-e[0],e[1]-=8,e[2]-=8;for(var i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var o=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(o&this.maskBlue)<<e[0],h=(o&this.maskGreen)>>e[1],u=(o&this.maskRed)>>e[2],l=n*this.width*4+4*a;this.data[l]=0,this.data[l+1]=s,this.data[l+2]=h,this.data[l+3]=u}this.pos+=t}},e.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=e*this.width*4+4*r;this.data[o]=0,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}this.pos+=this.width%4}},e.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=n,this.data[s+2]=a,this.data[s+3]=o}}else for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=n,this.data[s+2]=a,this.data[s+3]=o}},e.prototype.getData=function(){return this.data},t.exports=function(t){return new e(t)}},26258:t=>{function e(t){this.buffer=t.data,this.width=t.width,this.height=t.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}e.prototype.encode=function(){var t=new Buffer(this.offset+this.rgbSize);this.pos=0,t.write(this.flag,this.pos,2),this.pos+=2,t.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,t.writeUInt32LE(this.reserved,this.pos),this.pos+=4,t.writeUInt32LE(this.offset,this.pos),this.pos+=4,t.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,t.writeUInt32LE(this.width,this.pos),this.pos+=4,t.writeInt32LE(-this.height,this.pos),this.pos+=4,t.writeUInt16LE(this.planes,this.pos),this.pos+=2,t.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,t.writeUInt32LE(this.compress,this.pos),this.pos+=4,t.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,t.writeUInt32LE(this.hr,this.pos),this.pos+=4,t.writeUInt32LE(this.vr,this.pos),this.pos+=4,t.writeUInt32LE(this.colors,this.pos),this.pos+=4,t.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var e=0,r=3*this.width+this.extraBytes,i=0;i<this.height;i++){for(var n=0;n<this.width;n++){var a=this.pos+i*r+3*n;e++,t[a]=this.buffer[e++],t[a+1]=this.buffer[e++],t[a+2]=this.buffer[e++]}if(this.extraBytes>0){var o=this.pos+i*r+3*this.width;t.fill(0,o,o+this.extraBytes)}}return t},t.exports=function(t,r){return void 0===r&&(r=100),{data:new e(t).encode(),width:t.width,height:t.height}}},26236:(t,e,r)=>{var i=r(20123);function n(){return(0,eval)("this")}t.exports={create:function(t,e){return new i(t instanceof(e=e||n()).ArrayBuffer?new(r(72161))(t,0,t.byteLength,!0,e):new(r(64172))(t,0,t.length,!0))}}},64172:t=>{function e(t,e,r,i){this.buffer=t,this.offset=e||0,r="number"==typeof r?r:t.length,this.endPosition=this.offset+r,this.setBigEndian(i)}e.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var e=this.buffer.toString("utf8",this.offset,this.offset+t);return this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new e(t.buffer,r,t.endPosition-r,t.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(t,r){return r="number"==typeof r?r:this.endPosition-(this.offset+t),new e(this.buffer,this.offset+t,r,this.bigEndian)}},t.exports=e},42305:t=>{function e(t){return parseInt(t,10)}var r=3600,i=60;function n(t,r){return t=t.map(e),r=r.map(e),Date.UTC(t[0],t[1]-1,t[2],r[0],r[1],r[2],0)/1e3}function a(t){var a=t.substr(0,10).split("-"),o=t.substr(11,8).split(":"),s=t.substr(19,6).split(":").map(e),h=s[0]*r+s[1]*i,u=n(a,o);if("number"==typeof(u-=h)&&!isNaN(u))return u}function o(t){var e=t.split(" "),r=n(e[0].split(":"),e[1].split(":"));if("number"==typeof r&&!isNaN(r))return r}function s(t){var e=19===t.length&&":"===t.charAt(4);return 25===t.length&&"T"===t.charAt(10)?a(t):e?o(t):void 0}t.exports={parseDateWithSpecFormat:o,parseDateWithTimezoneFormat:a,parseExifDate:s}},72161:t=>{function e(t,e,r,i,n,a){this.global=n,e=e||0,r=r||t.byteLength-e,this.arrayBuffer=t.slice(e,e+r),this.view=new n.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(i),this.offset=0,this.parentOffset=(a||0)+e}e.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return e=String.fromCharCode.apply(null,new this.global.Uint8Array(e)),this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new e(t.arrayBuffer,r,t.arrayBuffer.byteLength-r,!t.littleEndian,t.global,t.parentOffset)},offset:this.offset,getParentOffset:function(){return t.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(t,r){return r="number"==typeof r?r:this.arrayBuffer.byteLength-(this.offset+t),new e(this.arrayBuffer,this.offset+t,r,!this.littleEndian,this.global,this.parentOffset)}},t.exports=e},79443:t=>{t.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},49517:t=>{function e(t,e){switch(t){case 1:return e.nextUInt8();case 3:case 8:return e.nextUInt16();case 4:case 9:return e.nextUInt32();case 5:return[e.nextUInt32(),e.nextUInt32()];case 6:return e.nextInt8();case 10:return[e.nextInt32(),e.nextInt32()];case 11:return e.nextFloat();case 12:return e.nextDouble();default:throw Error("Invalid format while decoding: "+t)}}function r(t){switch(t){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function i(t,i){var n,a,o=i.nextUInt16(),s=i.nextUInt16(),h=r(s),u=i.nextUInt32(),l=h*u;if(l>4&&(i=t.openWithOffset(i.nextUInt32())),2===s){var f=(n=i.nextString(u)).indexOf("\0");-1!==f&&(n=n.substr(0,f))}else if(7===s)n=i.nextBuffer(u);else if(0!==s)for(a=0,n=[];a<u;++a)n.push(e(s,i));return l<4&&i.skip(4-l),[o,n,s]}function n(t,e,r){var n,a,o=e.nextUInt16();for(a=0;a<o;++a)r((n=i(t,e))[0],n[1],n[2])}function a(t){if("Exif\0\0"!==t.nextString(6))throw Error("Invalid EXIF header");var e=t.mark(),r=t.nextUInt16();if(18761===r)t.setBigEndian(!1);else if(19789===r)t.setBigEndian(!0);else throw Error("Invalid TIFF header");if(42!==t.nextUInt16())throw Error("Invalid TIFF data");return e}t.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(t,e){try{r=a(t)}catch(t){return!1}var r,i,o,s,h=r.openWithOffset(t.nextUInt32()),u=this.IFD0;n(r,h,function(t,r,n){switch(t){case 34853:o=r[0];break;case 34665:i=r[0];break;default:e(u,t,r,n)}});var l=h.nextUInt32();if(0!==l){var f=r.openWithOffset(l);n(r,f,e.bind(null,this.IFD1))}if(o){var c=r.openWithOffset(o);n(r,c,e.bind(null,this.GPSIFD))}if(i){var d=r.openWithOffset(i),p=this.InteropIFD;n(r,d,function(t,r,i){40965===t?s=r[0]:e(p,t,r,i)})}if(s){var m=r.openWithOffset(s);n(r,m,e.bind(null,this.InteropIFD))}return!0}}},63258:t=>{t.exports={parseSections:function(t,e){var r,i;for(t.setBigEndian(!0);t.remainingLength()>0&&218!==i;){if(255!==t.nextUInt8())throw Error("Invalid JPEG section offset");r=(i=t.nextUInt8())>=208&&i<=217||218===i?0:t.nextUInt16()-2,e(i,t.branch(0,r)),t.skip(r)}},getSizeFromSOFSection:function(t){return t.skip(1),{height:t.nextUInt16(),width:t.nextUInt16()}},getSectionName:function(t){switch(t){case 216:e="SOI";break;case 196:e="DHT";break;case 219:e="DQT";break;case 221:e="DRI";break;case 218:e="SOS";break;case 254:e="COM";break;case 217:e="EOI";break;default:t>=224&&t<=239?(e="APP",r=t-224):t>=192&&t<=207&&196!==t&&200!==t&&204!==t?(e="SOF",r=t-192):t>=208&&t<=215&&(e="RST",r=t-208)}var e,r,i={name:e};return"number"==typeof r&&(i.index=r),i}}},20123:(t,e,r)=>{var i=r(63258),n=r(49517),a=r(16697);function o(t,e,r,i,n,a,o){this.startMarker=t,this.tags=e,this.imageSize=r,this.thumbnailOffset=i,this.thumbnailLength=n,this.thumbnailType=a,this.app1Offset=o}function s(t){this.stream=t,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}o.prototype={hasThumbnail:function(t){return!!this.thumbnailOffset&&!!this.thumbnailLength&&("string"!=typeof t||("image/jpeg"===t.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===t.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var t,e=this._getThumbnailStream();return i.parseSections(e,function(e,r){"SOF"===i.getSectionName(e).name&&(t=i.getSizeFromSOFSection(r))}),t}},s.prototype={enableBinaryFields:function(t){return this.flags.readBinaryTags=!!t,this},enablePointers:function(t){return this.flags.hidePointers=!t,this},enableTagNames:function(t){return this.flags.resolveTagNames=!!t,this},enableImageSize:function(t){return this.flags.imageSize=!!t,this},enableReturnTags:function(t){return this.flags.returnTags=!!t,this},enableSimpleValues:function(t){return this.flags.simplifyValues=!!t,this},parse:function(){var t,e,s,h,u,l,f,c,d,p=this.stream.mark(),m=p.openWithOffset(0),g=this.flags;return g.resolveTagNames&&(f=r(79443)),g.resolveTagNames?(t={},c=function(e){return t[e.name]},d=function(e,r){t[e.name]=r}):(t=[],c=function(e){var r;for(r=0;r<t.length;++r)if(t[r].type===e.type&&t[r].section===e.section)return t.value},d=function(e,r){var i;for(i=0;i<t.length;++i)if(t[i].type===e.type&&t[i].section===e.section){t.value=r;return}}),i.parseSections(m,function(r,o){var c=o.offsetFrom(p);225===r?n.parseTags(o,function(e,r,i,o){if(g.readBinaryTags||7!==o){if(513===r){if(s=i[0],g.hidePointers)return}else if(514===r){if(h=i[0],g.hidePointers)return}else if(259===r&&(u=i[0],g.hidePointers))return;if(g.returnTags){if(g.simplifyValues&&(i=a.simplifyValue(i,o)),g.resolveTagNames){var l=(e===n.GPSIFD?f.gps:f.exif)[r];l||(l=f.exif[r]),t.hasOwnProperty(l)||(t[l]=i)}else t.push({section:e,type:r,value:i})}}})&&(l=c):g.imageSize&&"SOF"===i.getSectionName(r).name&&(e=i.getSizeFromSOFSection(o))}),g.simplifyValues&&(a.castDegreeValues(c,d),a.castDateValues(c,d)),new o(p,t,e,s,h,u,l)}},t.exports=s},16697:(t,e,r)=>{var i=r(49517),n=r(42305),a=[{section:i.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:i.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],o=[{section:i.SubIFD,type:306,name:"ModifyDate"},{section:i.SubIFD,type:36867,name:"DateTimeOriginal"},{section:i.SubIFD,type:36868,name:"CreateDate"},{section:i.SubIFD,type:306,name:"ModifyDate"}];t.exports={castDegreeValues:function(t,e){a.forEach(function(r){var i=t(r);if(i){var n=t({section:r.section,type:r.refType,name:r.refName})===r.posVal?1:-1;e(r,(i[0]+i[1]/60+i[2]/3600)*n)}})},castDateValues:function(t,e){o.forEach(function(r){var i=t(r);if(i){var a=n.parseExifDate(i);void 0!==a&&e(r,a)}})},simplifyValue:function(t,e){return Array.isArray(t)&&1===(t=t.map(function(t){return 10===e||5===e?t[0]/t[1]:t})).length&&(t=t[0]),t}}},106:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Token=__webpack_require__(40023),strtok3=__webpack_require__(57113),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(28238),supported=__webpack_require__(25554),minimumBytes=4100;async function fromStream(t){let e=await strtok3.fromStream(t);try{return await fromTokenizer(e)}finally{await e.close()}}async function fromBuffer(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);let e=t instanceof Buffer?t:Buffer.from(t);if(e&&e.length>1)return fromTokenizer(strtok3.fromBuffer(e))}function _check(t,e,r){for(let[i,n]of(r={offset:0,...r},e.entries()))if(r.mask){if(n!==(r.mask[i]&t[i+r.offset]))return!1}else if(n!==t[i+r.offset])return!1;return!0}async function fromTokenizer(t){try{return _fromTokenizer(t)}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}}async function _fromTokenizer(t){let e=Buffer.alloc(minimumBytes),r=12,i=(t,r)=>_check(e,t,r),n=(t,e)=>i(stringToBytes(t),e);if(t.fileInfo.size||(t.fileInfo.size=Number.MAX_SAFE_INTEGER),await t.peekBuffer(e,{length:r,mayBeLess:!0}),i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(i([37,33]))return(await t.peekBuffer(e,{length:24,mayBeLess:!0}),n("PS-Adobe-",{offset:2})&&n(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(i([31,160])||i([31,157]))return{ext:"Z",mime:"application/x-compress"};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n("ID3")){await t.ignore(6);let e=await t.readToken(uint32SyncSafeToken);return t.position+e>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(e),fromTokenizer(t))}if(n("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===e[0]||70===e[0])&&i([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n("FLIF"))return{ext:"flif",mime:"image/flif"};if(n("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(n("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(n("FORM"))return{ext:"aif",mime:"audio/aiff"};if(n("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(i([80,75,3,4])){try{for(;t.position+30<t.fileInfo.size;){await t.readBuffer(e,{length:30});let r={compressedSize:e.readUInt32LE(18),uncompressedSize:e.readUInt32LE(22),filenameLength:e.readUInt16LE(26),extraFieldLength:e.readUInt16LE(28)};if(r.filename=await t.readToken(new Token.StringType(r.filenameLength,"utf-8")),await t.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml"))switch(r.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize)switch(await t.readToken(new Token.StringType(r.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===r.compressedSize){let r=-1;for(;r<0&&t.position<t.fileInfo.size;)await t.peekBuffer(e,{mayBeLess:!0}),r=e.indexOf("504B0304",0,"hex"),await t.ignore(r>=0?r:e.length)}else await t.ignore(r.compressedSize)}}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}return{ext:"zip",mime:"application/zip"}}if(n("OggS")){await t.ignore(28);let e=Buffer.alloc(8);return(await t.readBuffer(e),_check(e,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/opus"}:_check(e,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(e,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(e,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(e,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(e,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(i([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(n("ftyp",{offset:4})&&(96&e[8])!=0){let t=e.toString("binary",8,12).replace("\0"," ").trim();switch(t){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(t.startsWith("3g")){if(t.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(n("MThd"))return{ext:"mid",mime:"audio/midi"};if(n("wOFF")&&(i([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(n("wOF2")&&(i([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(i([212,195,178,161])||i([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(n("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(n("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(n("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(i([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(n("%PDF")){await t.ignore(1350);let e=10485760,r=Buffer.alloc(Math.min(e,t.fileInfo.size));return(await t.readBuffer(r,{mayBeLess:!0}),r.includes(Buffer.from("AIPrivateData")))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(i([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(i([73,73,42,0]))return n("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:i([28,0,254,0],{offset:8})||i([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:i([8,0,0,0],{offset:4})&&(i([45,0,254,0],{offset:8})||i([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(e=Buffer.alloc(24),await t.peekBuffer(e),(i([16,251,134,1],{offset:4})||i([8,0,0,0],{offset:4}))&&i([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9}))?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"};if(i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n("MAC "))return{ext:"ape",mime:"audio/ape"};if(i([26,69,223,163])){async function a(){let e=await t.peekNumber(Token.UINT8),r=128,i=0;for(;(e&r)==0&&0!==r;)++i,r>>=1;let n=Buffer.alloc(i+1);return await t.readBuffer(n),n}async function o(){let t=await a(),e=await a();e[0]^=128>>e.length-1;let r=Math.min(6,e.length);return{id:t.readUIntBE(0,t.length),len:e.readUIntBE(e.length-r,r)}}async function s(e,r){for(;r>0;){let e=await o();if(17026===e.id)return t.readToken(new Token.StringType(e.len,"utf-8"));await t.ignore(e.len),--r}}let e=await o();switch(await s(1,e.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(i([82,73,70,70])){if(i([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(i([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(i([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(i([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n("MSCF")||n("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(i([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(i([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(i([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(i([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(n("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(i([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n("IMPM"))return{ext:"it",mime:"audio/x-it"};if(n("-lh0-",{offset:2})||n("-lh1-",{offset:2})||n("-lh2-",{offset:2})||n("-lh3-",{offset:2})||n("-lh4-",{offset:2})||n("-lh5-",{offset:2})||n("-lh6-",{offset:2})||n("-lh7-",{offset:2})||n("-lzs-",{offset:2})||n("-lz4-",{offset:2})||n("-lz5-",{offset:2})||n("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(i([0,0,1,186])){if(i([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(i([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(n("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(i([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n("solid "))return{ext:"stl",mime:"model/stl"};if(n("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(n("!<arch>"))return(await t.ignore(8),"debian-binary"===await t.readToken(new Token.StringType(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(i([137,80,78,71,13,10,26,10])){async function h(){return{length:await t.readToken(Token.INT32_BE),type:await t.readToken(new Token.StringType(4,"binary"))}}await t.ignore(8);do{let e=await h();if(e.length<0)return;switch(e.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(e.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(i([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(i([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(i([102,114,101,101],{offset:4})||i([109,100,97,116],{offset:4})||i([109,111,111,118],{offset:4})||i([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(i([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(n("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(i([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(i([48,38,178,117,142,102,207,17,166,217])){async function u(){let e=Buffer.alloc(16);return await t.readBuffer(e),{id:e,size:Number(await t.readToken(Token.UINT64_LE))}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){let e=await u(),r=e.size-24;if(_check(e.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let e=Buffer.alloc(16);if(r-=await t.readBuffer(e),_check(e,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(e,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(r)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(i([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((i([126,16,4])||i([126,24,4]))&&i([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(i([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(i([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await t.ignore(20),await t.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(i([255,10])||i([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(i([0,0,1,186])||i([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(i([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(i([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(i([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(i([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(e,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),n("BEGIN:")){if(n("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(n("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(n("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(n("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(i([4,0,0,0])&&e.length>=16){let t=e.readUInt32LE(12);if(t>12&&e.length>=t+16)try{let r=e.slice(16,t+16).toString();if(JSON.parse(r).files)return{ext:"asar",mime:"application/x-asar"}}catch(t){}}if(i([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(i([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(i([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(i([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(i([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(i([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await t.peekBuffer(e,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(e))return{ext:"tar",mime:"application/x-tar"};if(i([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(n("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(e.length>=2&&i([255,224],{offset:0,mask:[255,224]})){if(i([16],{offset:1,mask:[22]}))return i([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(i([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(i([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(i([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}let stream=readableStream=>new Promise((resolve,reject)=>{let stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{let t;let e=new stream.PassThrough;t=stream.pipeline?stream.pipeline(readableStream,e,()=>{}):readableStream.pipe(e);let r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{let t=await fromBuffer(r);e.fileType=t}catch(t){reject(t)}resolve(t)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},31792:(t,e,r)=>{"use strict";let i=r(5e3),n=r(106),a={fromFile:async function(t){let e=await i.fromFile(t);try{return await n.fromTokenizer(e)}finally{await e.close()}}};Object.assign(a,n),Object.defineProperty(a,"extensions",{get:()=>n.extensions}),Object.defineProperty(a,"mimeTypes",{get:()=>n.mimeTypes}),t.exports=a},25554:t=>{"use strict";t.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},28238:(t,e)=>{"use strict";e.stringToBytes=t=>[...t].map(t=>t.charCodeAt(0)),e.tarHeaderChecksumMatches=(t,e=0)=>{let r=parseInt(t.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let i=256;for(let r=e;r<e+148;r++)i+=t[r];for(let r=e+156;r<e+512;r++)i+=t[r];return r===i},e.uint32SyncSafeToken={get:(t,e)=>127&t[e+3]|t[e+2]<<7|t[e+1]<<14|t[e]<<21,len:4}},21554:t=>{"use strict";class e{constructor(...t){if(0===t.length)throw Error("constructor requires parameters");let r=t[0];if(null!==r&&"object"==typeof r){if(r instanceof e){let t=r.bitmap;this.bitmap={width:t.width,height:t.height,data:new Buffer(t.width*t.height*4)},t.data.copy(this.bitmap.data)}else if(r.width&&r.height&&r.data)this.bitmap=r;else throw Error("unrecognized constructor parameters")}else if("number"==typeof r&&"number"==typeof t[1]){let e=r,i=t[1],n=t[2];this.bitmap={width:e,height:i},Buffer.isBuffer(n)?this.bitmap.data=n:(this.bitmap.data=new Buffer(e*i*4),"number"==typeof n&&this.fillRGBA(n))}else throw Error("unrecognized constructor parameters")}blit(t,e,r,i,n,a,o){if(i+a>this.bitmap.width)throw Error("copy exceeds width of source bitmap");if(e+a>t.bitmap.width)throw Error("copy exceeds width of target bitmap");if(n+o>this.bitmap.height)throw Error("copy exceeds height of source bitmap");if(r+o>t.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let s=this.bitmap.data,h=t.bitmap.data,u=4*this.bitmap.width,l=4*t.bitmap.width,f=4*a,c=n*u+4*i,d=r*l+4*e;for(;--o>=0;)s.copy(h,d,c,c+f),c+=u,d+=l;return this}fillRGBA(t){let e=this.bitmap.data,r=4*this.bitmap.height,i=0;for(;i<r;)e.writeUInt32BE(t,i),i+=4;for(;i<e.length;)e.copy(e,i,0,r),i+=r;return this}getRGBA(t,e){let r=(e*this.bitmap.width+t)*4;return this.bitmap.data.readUInt32BE(r)}getRGBASet(){let t=new Set,e=this.bitmap.data;for(let r=0;r<e.length;r+=4)t.add(e.readUInt32BE(r,!0));return t}greyscale(){let t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(e,r,i)=>{let n=Math.round(.299*t[i]+.587*t[i+1]+.114*t[i+2]);t[i]=n,t[i+1]=n,t[i+2]=n}),this}reframe(t,r,i,n,a){let o;let s=t<0?0:t,h=r<0?0:r,u=i+s>this.bitmap.width?this.bitmap.width-s:i,l=n+h>this.bitmap.height?this.bitmap.height-h:n,f=t<0?-t:0,c=r<0?-r:0;if(void 0===a){if(s!==t||h!=r||u!==i||l!==n)throw new GifError("fillRGBA required for this reframing");o=new e(i,n)}else o=new e(i,n,a);return this.blit(o,f,c,s,h,u,l),this.bitmap=o.bitmap,this}scale(t){let e;if(1===t)return;if(!Number.isInteger(t)||t<1)throw Error("the scale must be an integer >= 1");let r=this.bitmap.width,i=this.bitmap.height,n=r*t*4,a=this.bitmap.data,o=new Buffer(i*n*t),s=0,h=0;for(let u=0;u<i;++u){e=h;for(let e=0;e<r;++e){let e=a.readUInt32BE(s,!0);for(let r=0;r<t;++r)o.writeUInt32BE(e,h),h+=4;s+=4}for(let r=1;r<t;++r)o.copy(o,h,e,h),h+=n,e+=n}return this.bitmap={width:r*t,height:i*t,data:o},this}scanAllCoords(t){let e=this.bitmap.width,r=this.bitmap.data.length,i=0,n=0;for(let a=0;a<r;a+=4)t(i,n,a),++i===e&&(i=0,++n)}scanAllIndexes(t){let e=this.bitmap.data.length;for(let r=0;r<e;r+=4)t(r)}}t.exports=e},73024:(t,e)=>{"use strict";class r{constructor(t,e,r){this.width=r.width,this.height=r.height,this.loops=r.loops,this.usesTransparency=r.usesTransparency,this.colorScope=r.colorScope,this.frames=e,this.buffer=t}}r.GlobalColorsPreferred=0,r.GlobalColorsOnly=1,r.LocalColorsOnly=2;class i extends Error{constructor(t){super(t),t instanceof Error&&(this.stack="Gif"+t.stack)}}e.Gif=r,e.GifError=i},61872:(t,e,r)=>{"use strict";let i=r(65141),{Gif:n,GifError:a}=r(73024);function o(){let t=r(88072);return o=function(){return t},t}let{GifFrame:s}=r(56930),h=200,u=100;class l{constructor(t={}){this._transparentRGB=null,"number"==typeof t.transparentRGB&&0!==t.transparentRGB&&(this._transparentRGBA=256*t.transparentRGB),this._testInitialBufferSize=0}decodeGif(t){try{let e;try{e=new i.GifReader(t)}catch(t){throw new a(t)}let r=e.numFrames(),o=[],s={width:e.width,height:e.height,loops:e.loopCount()};s.usesTransparency=!1;for(let t=0;t<r;++t){let r=this._decodeFrame(e,t,s.usesTransparency);o.push(r.frame),r.usesTransparency&&(s.usesTransparency=!0)}return Promise.resolve(new n(t,o,s))}catch(t){return Promise.reject(t)}}encodeGif(t,e={}){try{if(null===t||0===t.length)throw new a("there are no frames");let r=o().getMaxDimensions(t);return(e=Object.assign({},e)).width=r.maxWidth,e.height=r.maxHeight,e.loops=e.loops||0,e.colorScope=e.colorScope||n.GlobalColorsPreferred,Promise.resolve(this._encodeGif(t,e))}catch(t){return Promise.reject(t)}}_decodeFrame(t,e,r){let i,n;try{if(i=t.frameInfo(e),n=new Buffer(t.width*t.height*4),t.decodeAndBlitFrameRGBA(e,n),i.width!==t.width||i.height!==t.height){if(i.y&&(n=n.slice(i.y*t.width*4)),t.width>i.width)for(let e=0;e<i.height;++e)n.copy(n,e*i.width*4,(i.x+e*t.width)*4,(i.x+e*t.width)*4+4*i.width);n=n.slice(0,i.width*i.height*4)}}catch(t){throw new a(t)}let o=!1;if(null===this._transparentRGBA){if(!r)for(let t=3;t<n.length;t+=4)0===n[t]&&(o=!0,t=n.length)}else for(let t=3;t<n.length;t+=4)0===n[t]&&(n.writeUInt32BE(this._transparentRGBA,t-3),o=!0);return{frame:new s(i.width,i.height,n,{xOffset:i.x,yOffset:i.y,disposalMethod:i.disposal,interlaced:i.interlaced,delayCentisecs:i.delay}),usesTransparency:o}}_encodeGif(t,e){let r;if(e.colorScope===n.LocalColorsOnly)r=o().getColorInfo(t,0);else if(!(r=o().getColorInfo(t,256)).colors){if(e.colorScope===n.GlobalColorsOnly)throw new a("Too many color indexes for global color table");e.colorScope=n.LocalColorsOnly}e.usesTransparency=r.usesTransparency;let i=r.palettes;return e.colorScope===n.LocalColorsOnly?p(t,e,2e3,i):d(t,e,2e3,r)}_getSizeEstimateGlobal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=h+768,i=b(t);return e.forEach(t=>{r+=g(t,i)}),r}_getSizeEstimateLocal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=h;for(let i=0;i<e.length;++i){let n=b(t[i]);r+=g(e[i],n)}return r}}function f(t,e){let r=t.indexOf(e);return -1===r?null:r}function c(t,e){for(var r,i=0,n=t.length-1;i<=n;)if(t[r=Math.floor((i+n)/2)]>e)n=r-1;else{if(!(t[r]<e))return r;i=r+1}return null}function d(t,e,r,o){let s;let h={colors:o.colors.slice(),usesTransparency:o.usesTransparency};m(h);let u={palette:h.colors,loop:e.loops},l=new Buffer(r);try{s=new i.GifWriter(l,e.width,e.height,u)}catch(t){throw new a(t)}for(let e=0;e<t.length;++e)l=v(s,e,t[e],o,!1);return new n(l.slice(0,s.end()),t,e)}function p(t,e,r,o){let s;let h={loop:e.loops},u=new Buffer(r);try{s=new i.GifWriter(u,e.width,e.height,h)}catch(t){throw new a(t)}for(let e=0;e<t.length;++e)u=v(s,e,t[e],o[e],!0);return new n(u.slice(0,s.end()),t,e)}function m(t){let e=t.colors;t.usesTransparency&&e.push(0);let r=e.length,i=2;for(;r>i;)i<<=1;e.length=i,e.fill(0,r)}function g(t,e){let r=t.bitmap.width*t.bitmap.height;return r=Math.ceil(r*e/8),u+(r+=Math.ceil(r/255))+768}function _(t,e,r){let i=r.colors,n=i.length<=8?f:c,o=e.bitmap.data,s=new Buffer(o.length/4),h=i.length,u=0,l=0;for(;u<o.length;){if(0!==o[u+3]){let t=o.readUInt32BE(u,!0)>>8&16777215;s[l]=n(i,t)}else s[l]=h;u+=4,++l}if(r.usesTransparency){if(256===h)throw new a(`Frame ${t} already has 256 colorsand so can't use transparency`)}else h=null;return{buffer:s,transparentIndex:h}}function b(t){let e=t.indexCount,r=0;for(--e;e;)++r,e>>=1;return r>0?r:1}function v(t,e,r,i,n){if(r.interlaced)throw new a("writing interlaced GIFs is not supported");let o=_(e,r,i),s={delay:r.delayCentisecs,disposal:r.disposalMethod,transparent:o.transparentIndex};n&&(m(i),s.palette=i.colors);try{let e,i=t.getOutputBuffer(),n=t.getOutputBufferPosition(),a=!0;for(;a;)if(e=t.addFrame(r.xOffset,r.yOffset,r.bitmap.width,r.bitmap.height,o.buffer,s),a=!1,e>=i.length-1){let e=new Buffer(1.5*i.length);i.copy(e),t.setOutputBuffer(e),t.setOutputBufferPosition(n),i=e,a=!0}return i}catch(t){throw new a(t)}}e.GifCodec=l},56930:(t,e,r)=>{"use strict";let i=r(21554),{GifError:n}=r(73024);class a extends i{constructor(...t){if(super(...t),t[0]instanceof a){let e=t[0];this.xOffset=e.xOffset,this.yOffset=e.yOffset,this.disposalMethod=e.disposalMethod,this.delayCentisecs=e.delayCentisecs,this.interlaced=e.interlaced}else{let e=t[t.length-1],r={};"object"!=typeof e||e instanceof i||(r=e),this.xOffset=r.xOffset||0,this.yOffset=r.yOffset||0,this.disposalMethod=void 0!==r.disposalMethod?r.disposalMethod:a.DisposeToBackgroundColor,this.delayCentisecs=r.delayCentisecs||8,this.interlaced=r.interlaced||!1}}getPalette(){let t=new Set,e=this.bitmap.data,r=0,i=!1;for(;r<e.length;){if(0===e[r+3])i=!0;else{let i=e.readUInt32BE(r,!0)>>8&16777215;t.add(i)}r+=4}let n=Array(t.size),a=t.values();for(r=0;r<n.length;++r)n[r]=a.next().value;n.sort((t,e)=>t-e);let o=n.length;return i&&++o,{colors:n,usesTransparency:i,indexCount:o}}}a.DisposeToAnything=0,a.DisposeNothing=1,a.DisposeToBackgroundColor=2,a.DisposeToPrevious=3,e.GifFrame=a},88072:(t,e,r)=>{"use strict";let i=r(57147),n=r(2645),a=r(21554),{GifFrame:o}=r(56930),{GifError:s}=r(73024),{GifCodec:h}=r(61872),u=[".jpg",".jpeg",".png",".bmp"],l=new h;function f(t,e,r,i,a){let o;let s=Array.isArray(t)?t:[t],h=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(a){if(0>h.indexOf(a.ditherAlgorithm))throw Error(`Invalid ditherAlgorithm '${a.ditherAlgorithm}'`);void 0===a.serpentine&&(a.serpentine=!0),void 0===a.minimumColorDistanceToDither&&(a.minimumColorDistanceToDither=0),void 0===a.calculateErrorLikeGIMP&&(a.calculateErrorLikeGIMP=!1)}let u=new n.distance.Euclidean,l=new n.palette[e](u,r,i);o=a?new n.image.ErrorDiffusionArray(u,n.image.ErrorDiffusionArrayKernel[a.ditherAlgorithm],a.serpentine,a.minimumColorDistanceToDither,a.calculateErrorLikeGIMP):new n.image.NearestColor(u);let f=[];s.forEach(t=>{let e=t.bitmap.data,r=new Uint32Array(new ArrayBuffer(e.length));for(let t=0,i=0;t<e.length;t+=4,++i)r[i]=e.readUInt32LE(t,!0);let i=n.utils.PointContainer.fromUint32Array(r,t.bitmap.width,t.bitmap.height);l.sample(i),f.push(i)});let c=l.quantizeSync();for(let t=0;t<s.length;++t){let e=s[t].bitmap.data,r=o.quantizeSync(f[t],c).toUint32Array();for(let t=0,i=0;t<e.length;t+=4,++i)e.writeUInt32LE(r[i],t)}}function c(t){return new Promise((e,r)=>{i.readFile(t,(t,i)=>t?r(t):e(i))})}function d(t,e){return new Promise((r,n)=>{i.writeFile(t,e,t=>t?n(t):r())})}e.cloneFrames=function(t){let e=[];return t.forEach(t=>{e.push(new o(t))}),e},e.getColorInfo=function(t,e){let r=!1,i=[];for(let e=0;e<t.length;++e){let n=t[e].getPalette();if(n.usesTransparency&&(r=!0),n.indexCount>256)throw new s(`Frame ${e} uses more than 256 color indexes`);i.push(n)}if(0===e)return{usesTransparency:r,palettes:i};let n=new Set;i.forEach(t=>{t.colors.forEach(t=>{n.add(t)})});let a=n.size;if(r&&++a,e&&a>e)return{usesTransparency:r,palettes:i};let o=Array(n.size),h=n.values();for(let t=0;t<o.length;++t)o[t]=h.next().value;return o.sort((t,e)=>t-e),{colors:o,indexCount:a,usesTransparency:r,palettes:i}},e.copyAsJimp=function(t,r){return e.shareAsJimp(t,new a(r))},e.getMaxDimensions=function(t){let e=0,r=0;return t.forEach(t=>{let i=t.xOffset+t.bitmap.width;i>e&&(e=i);let n=t.yOffset+t.bitmap.height;n>r&&(r=n)}),{maxWidth:e,maxHeight:r}},e.quantizeDekker=function(t,e,r){f(t,"NeuQuantFloat",e=e||256,0,r)},e.quantizeSorokin=function(t,e,r,i){let n;switch(e=e||256,r=r||"min-pop"){case"min-pop":n=2;break;case"top-pop":n=1;break;default:throw Error(`Invalid quantizeSorokin histogram '${r}'`)}f(t,"RGBQuant",e,n,i)},e.quantizeWu=function(t,e,r,i){if(e=e||256,(r=r||5)<1||r>8)throw Error("Invalid quantization quality");f(t,"WuQuant",e,r,i)},e.read=function(t,e){return(e=e||l,Buffer.isBuffer(t))?e.decodeGif(t):c(t).then(t=>e.decodeGif(t))},e.shareAsJimp=function(t,e){let r=new t(e.bitmap.width,e.bitmap.height,0);return r.bitmap.data=e.bitmap.data,r},e.write=function(t,e,r,i){i=i||l;let n=t.match(/\.[a-zA-Z]+$/);if(null!==n&&u.includes(n[0].toLowerCase()))throw Error(`GIF '${t}' has an unexpected suffix`);return i.encodeGif(e,r).then(e=>d(t,e.buffer).then(()=>e))}},5071:(t,e,r)=>{"use strict";let i=r(21554),{Gif:n,GifError:a}=r(73024),{GifCodec:o}=r(61872),{GifFrame:s}=r(56930),h=r(88072);t.exports={BitmapImage:i,Gif:n,GifCodec:o,GifFrame:s,GifUtil:h,GifError:a}},62655:(t,e)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */e.read=function(t,e,r,i,n){var a,o,s=8*n-i-1,h=(1<<s)-1,u=h>>1,l=-7,f=r?n-1:0,c=r?-1:1,d=t[e+f];for(f+=c,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+t[e+f],f+=c,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=i;l>0;o=256*o+t[e+f],f+=c,l-=8);if(0===a)a=1-u;else{if(a===h)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),a-=u}return(d?-1:1)*o*Math.pow(2,a-i)},e.write=function(t,e,r,i,n,a){var o,s,h,u=8*a-n-1,l=(1<<u)-1,f=l>>1,c=23===n?5960464477539062e-23:0,d=i?0:a-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(s=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),o+f>=1?e+=c/h:e+=c*Math.pow(2,1-f),e*h>=2&&(o++,h/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(e*h-1)*Math.pow(2,n),o+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,n),o=0));n>=8;t[r+d]=255&s,d+=p,s/=256,n-=8);for(o=o<<n|s,u+=n;u>0;t[r+d]=255&o,d+=p,o/=256,u-=8);t[r+d-p]|=128*m}},83347:(t,e,r)=>{var i=r(91706),n=r(2699);t.exports={encode:i,decode:n}},2699:t=>{var e=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,i=3406,n=2276,a=1567,o=3784,s=5793,h=2896;function u(){}function l(t,e){for(var r,i,n=0,a=[],o=16;o>0&&!t[o-1];)o--;a.push({children:[],index:0});var s,h=a[0];for(r=0;r<o;r++){for(i=0;i<t[r];i++){for((h=a.pop()).children[h.index]=e[n];h.index>0;){if(0===a.length)throw Error("Could not recreate Huffman Table");h=a.pop()}for(h.index++,a.push(h);a.length<=r;)a.push(s={children:[],index:0}),h.children[h.index]=s.children,h=s;n++}r+1<o&&(a.push(s={children:[],index:0}),h.children[h.index]=s.children,h=s)}return a[0].children}function f(e,r,i,n,a,o,s,h,u,l){i.precision,i.samplesPerLine,i.scanLines;var f,c,d,p=i.mcusPerLine,m=i.progressive;i.maxH,i.maxV;var g=r,_=0,b=0;function v(){if(b>0)return b--,_>>b&1;if(255==(_=e[r++])){var t=e[r++];if(t)throw Error("unexpected marker: "+(_<<8|t).toString(16))}return b=7,_>>>7}function y(t){for(var e,r=t;null!==(e=v());){if("number"==typeof(r=r[e]))return r;if("object"!=typeof r)throw Error("invalid huffman sequence")}return null}function w(t){for(var e=0;t>0;){var r=v();if(null===r)return;e=e<<1|r,t--}return e}function x(t){var e=w(t);return e>=1<<t-1?e:e+(-1<<t)+1}function M(e,r){var i=y(e.huffmanTableDC),n=0===i?0:x(i);r[0]=e.pred+=n;for(var a=1;a<64;){var o=y(e.huffmanTableAC),s=15&o,h=o>>4;if(0===s){if(h<15)break;a+=16;continue}r[t[a+=h]]=x(s),a++}}function E(t,e){var r=y(t.huffmanTableDC),i=0===r?0:x(r)<<u;e[0]=t.pred+=i}function S(t,e){e[0]|=v()<<u}var k=0;function I(e,r){if(k>0){k--;return}for(var i=o,n=s;i<=n;){var a=y(e.huffmanTableAC),h=15&a,l=a>>4;if(0===h){if(l<15){k=w(l)+(1<<l)-1;break}i+=16;continue}r[t[i+=l]]=x(h)*(1<<u),i++}}var P,B=0;function A(e,r){for(var i=o,n=s,a=0;i<=n;){var h=t[i],l=r[h]<0?-1:1;switch(B){case 0:var f=y(e.huffmanTableAC),c=15&f,a=f>>4;if(0===c)a<15?(k=w(a)+(1<<a),B=4):(a=16,B=1);else{if(1!==c)throw Error("invalid ACn encoding");P=x(c),B=a?2:3}continue;case 1:case 2:r[h]?r[h]+=(v()<<u)*l:0==--a&&(B=2==B?3:0);break;case 3:r[h]?r[h]+=(v()<<u)*l:(r[h]=P<<u,B=0);break;case 4:r[h]&&(r[h]+=(v()<<u)*l)}i++}4===B&&0==--k&&(B=0)}function T(t,e,r,i,n){var a=r/p|0,o=r%p,s=a*t.v+i,h=o*t.h+n;void 0===t.blocks[s]&&l.tolerantDecoding||e(t,t.blocks[s][h])}function O(t,e,r){var i=r/t.blocksPerLine|0,n=r%t.blocksPerLine;void 0===t.blocks[i]&&l.tolerantDecoding||e(t,t.blocks[i][n])}var C=n.length;F=m?0===o?0===h?E:S:0===h?I:A:M;var L,D,z,R,U,F,j,N=0;for(f=1==C?n[0].blocksPerLine*n[0].blocksPerColumn:p*i.mcusPerColumn,a||(a=f);N<f;){for(D=0;D<C;D++)n[D].pred=0;if(k=0,1==C)for(U=0,L=n[0];U<a;U++)O(L,F,N),N++;else for(U=0;U<a;U++){for(D=0;D<C;D++)for(z=0,c=(L=n[D]).h,d=L.v;z<d;z++)for(R=0;R<c;R++)T(L,F,N,z,R);if(++N===f)break}if(N===f)do{if(255===e[r]&&0!==e[r+1])break;r+=1}while(r<e.length-2);if(b=0,(j=e[r]<<8|e[r+1])<65280)throw Error("marker was not found");if(j>=65488&&j<=65495)r+=2;else break}return r-g}function c(t,u){var l,f,c=[],d=u.blocksPerLine,p=u.blocksPerColumn,m=d<<3,_=new Int32Array(64),b=new Uint8Array(64);function v(t,l,f){var c,d,p,m,g,_,b,v,y,w,x=u.quantizationTable,M=f;for(w=0;w<64;w++)M[w]=t[w]*x[w];for(w=0;w<8;++w){var E=8*w;if(0==M[1+E]&&0==M[2+E]&&0==M[3+E]&&0==M[4+E]&&0==M[5+E]&&0==M[6+E]&&0==M[7+E]){y=s*M[0+E]+512>>10,M[0+E]=y,M[1+E]=y,M[2+E]=y,M[3+E]=y,M[4+E]=y,M[5+E]=y,M[6+E]=y,M[7+E]=y;continue}c=s*M[0+E]+128>>8,d=s*M[4+E]+128>>8,p=M[2+E],m=M[6+E],g=h*(M[1+E]-M[7+E])+128>>8,v=h*(M[1+E]+M[7+E])+128>>8,_=M[3+E]<<4,b=M[5+E]<<4,y=c-d+1>>1,c=c+d+1>>1,d=y,y=p*o+m*a+128>>8,p=p*a-m*o+128>>8,m=y,y=g-b+1>>1,g=g+b+1>>1,b=y,y=v+_+1>>1,_=v-_+1>>1,v=y,y=c-m+1>>1,c=c+m+1>>1,m=y,y=d-p+1>>1,d=d+p+1>>1,p=y,y=g*n+v*i+2048>>12,g=g*i-v*n+2048>>12,v=y,y=_*r+b*e+2048>>12,_=_*e-b*r+2048>>12,b=y,M[0+E]=c+v,M[7+E]=c-v,M[1+E]=d+b,M[6+E]=d-b,M[2+E]=p+_,M[5+E]=p-_,M[3+E]=m+g,M[4+E]=m-g}for(w=0;w<8;++w){var S=w;if(0==M[8+S]&&0==M[16+S]&&0==M[24+S]&&0==M[32+S]&&0==M[40+S]&&0==M[48+S]&&0==M[56+S]){y=s*f[w+0]+8192>>14,M[0+S]=y,M[8+S]=y,M[16+S]=y,M[24+S]=y,M[32+S]=y,M[40+S]=y,M[48+S]=y,M[56+S]=y;continue}c=s*M[0+S]+2048>>12,d=s*M[32+S]+2048>>12,p=M[16+S],m=M[48+S],g=h*(M[8+S]-M[56+S])+2048>>12,v=h*(M[8+S]+M[56+S])+2048>>12,_=M[24+S],b=M[40+S],y=c-d+1>>1,c=c+d+1>>1,d=y,y=p*o+m*a+2048>>12,p=p*a-m*o+2048>>12,m=y,y=g-b+1>>1,g=g+b+1>>1,b=y,y=v+_+1>>1,_=v-_+1>>1,v=y,y=c-m+1>>1,c=c+m+1>>1,m=y,y=d-p+1>>1,d=d+p+1>>1,p=y,y=g*n+v*i+2048>>12,g=g*i-v*n+2048>>12,v=y,y=_*r+b*e+2048>>12,_=_*e-b*r+2048>>12,b=y,M[0+S]=c+v,M[56+S]=c-v,M[8+S]=d+b,M[48+S]=d-b,M[16+S]=p+_,M[40+S]=p-_,M[24+S]=m+g,M[32+S]=m-g}for(w=0;w<64;++w){var k=128+(M[w]+8>>4);l[w]=k<0?0:k>255?255:k}}g(m*p*8);for(var y=0;y<p;y++){var w=y<<3;for(l=0;l<8;l++)c.push(new Uint8Array(m));for(var x=0;x<d;x++){v(u.blocks[y][x],b,_);var M=0,E=x<<3;for(f=0;f<8;f++){var S=c[w+f];for(l=0;l<8;l++)S[E+l]=b[M++]}}}return c}function d(t){return t<0?0:t>255?255:t}u.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=(function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}).bind(this),e.send(null)},parse:function(e){var r=1e6*this.opts.maxResolutionInMP,i=0;function n(){var t=e[i]<<8|e[i+1];return i+=2,t}function a(){var t=n(),r=e.subarray(i,i+t-2);return i+=r.length,r}function o(t){var e,r,i=1,n=1;for(r in t.components)t.components.hasOwnProperty(r)&&(i<(e=t.components[r]).h&&(i=e.h),n<e.v&&(n=e.v));var a=Math.ceil(t.samplesPerLine/8/i),o=Math.ceil(t.scanLines/8/n);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/i),h=Math.ceil(Math.ceil(t.scanLines/8)*e.v/n),u=a*e.h,l=o*e.v,f=[];g(l*u*256);for(var c=0;c<l;c++){for(var d=[],p=0;p<u;p++)d.push(new Int32Array(64));f.push(d)}e.blocksPerLine=s,e.blocksPerColumn=h,e.blocks=f}t.maxH=i,t.maxV=n,t.mcusPerLine=a,t.mcusPerColumn=o}e.length;var s=null,h=null,u=[],d=[],p=[],m=[],_=n(),b=-1;if(this.comments=[],65496!=_)throw Error("SOI not found");for(_=n();65497!=_;){switch(_){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=a();if(65534===_){var y=String.fromCharCode.apply(null,v);this.comments.push(y)}65504===_&&74===v[0]&&70===v[1]&&73===v[2]&&70===v[3]&&0===v[4]&&(s={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),65505===_&&69===v[0]&&120===v[1]&&105===v[2]&&102===v[3]&&0===v[4]&&(this.exifBuffer=v.subarray(5,v.length)),65518===_&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&0===v[5]&&(h={version:v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:for(var w=n()+i-2;i<w;){var x=e[i++];g(256);var M=new Int32Array(64);if(x>>4==0)for(A=0;A<64;A++){var E=t[A];M[E]=e[i++]}else if(x>>4==1)for(A=0;A<64;A++){var E=t[A];M[E]=n()}else throw Error("DQT: invalid table spec");u[15&x]=M}break;case 65472:case 65473:case 65474:n(),(I={}).extended=65473===_,I.progressive=65474===_,I.precision=e[i++],I.scanLines=n(),I.samplesPerLine=n(),I.components={},I.componentsOrder=[];var S=I.scanLines*I.samplesPerLine;if(S>r){var k=Math.ceil((S-r)/1e6);throw Error(`maxResolutionInMP limit exceeded by ${k}MP`)}var I,P,B,A,T,O=e[i++];for(B=0;B<O;B++){T=e[i];var C=e[i+1]>>4,L=15&e[i+1],D=e[i+2];if(C<=0||L<=0)throw Error("Invalid sampling factor, expected values above 0");I.componentsOrder.push(T),I.components[T]={h:C,v:L,quantizationIdx:D},i+=3}o(I),d.push(I);break;case 65476:var z=n();for(B=2;B<z;){var R=e[i++],U=new Uint8Array(16),F=0;for(A=0;A<16;A++,i++)F+=U[A]=e[i];g(16+F);var j=new Uint8Array(F);for(A=0;A<F;A++,i++)j[A]=e[i];B+=17+F,(R>>4==0?m:p)[15&R]=l(U,j)}break;case 65501:n(),P=n();break;case 65500:n(),n();break;case 65498:n();var N,G=e[i++],H=[];for(B=0;B<G;B++){N=I.components[e[i++]];var W=e[i++];N.huffmanTableDC=m[W>>4],N.huffmanTableAC=p[15&W],H.push(N)}var q=e[i++],V=e[i++],Y=e[i++],Z=f(e,i,I,H,P,q,V,Y>>4,15&Y,this.opts);i+=Z;break;case 65535:255!==e[i]&&i--;break;default:if(255==e[i-3]&&e[i-2]>=192&&e[i-2]<=254){i-=3;break}if(224===_||225==_){if(-1!==b)throw Error(`first unknown JPEG marker at offset ${b.toString(16)}, second unknown JPEG marker ${_.toString(16)} at offset ${(i-1).toString(16)}`);b=i-1;let t=n();if(255===e[i+t-2]){i+=t-2;break}}throw Error("unknown JPEG marker "+_.toString(16))}_=n()}if(1!=d.length)throw Error("only single frame JPEGs supported");for(var B=0;B<d.length;B++){var J=d[B].components;for(var A in J)J[A].quantizationTable=u[J[A].quantizationIdx],delete J[A].quantizationIdx}this.width=I.samplesPerLine,this.height=I.scanLines,this.jfif=s,this.adobe=h,this.components=[];for(var B=0;B<I.componentsOrder.length;B++){var N=I.components[I.componentsOrder[B]];this.components.push({lines:c(I,N),scaleX:N.h/I.maxH,scaleY:N.v/I.maxV})}},getData:function(t,e){var r,i,n,a,o,s,h,u,l,f,c,p,m,_,b,v,y,w,x,M,E,S=this.width/t,k=this.height/e,I=0,P=t*e*this.components.length;g(P);var B=new Uint8Array(P);switch(this.components.length){case 1:for(f=0,r=this.components[0];f<e;f++)for(l=0,o=r.lines[0|f*r.scaleY*k];l<t;l++)c=o[0|l*r.scaleX*S],B[I++]=c;break;case 2:for(f=0,r=this.components[0],i=this.components[1];f<e;f++)for(l=0,o=r.lines[0|f*r.scaleY*k],s=i.lines[0|f*i.scaleY*k];l<t;l++)c=o[0|l*r.scaleX*S],B[I++]=c,c=s[0|l*i.scaleX*S],B[I++]=c;break;case 3:for(E=!0,this.adobe&&this.adobe.transformCode?E=!0:void 0!==this.opts.colorTransform&&(E=!!this.opts.colorTransform),r=this.components[0],i=this.components[1],n=this.components[2],f=0;f<e;f++)for(l=0,o=r.lines[0|f*r.scaleY*k],s=i.lines[0|f*i.scaleY*k],h=n.lines[0|f*n.scaleY*k];l<t;l++)E?(c=o[0|l*r.scaleX*S],p=s[0|l*i.scaleX*S],w=d(c+1.402*((m=h[0|l*n.scaleX*S])-128)),x=d(c-.3441363*(p-128)-.71413636*(m-128)),M=d(c+1.772*(p-128))):(w=o[0|l*r.scaleX*S],x=s[0|l*i.scaleX*S],M=h[0|l*n.scaleX*S]),B[I++]=w,B[I++]=x,B[I++]=M;break;case 4:if(!this.adobe)throw Error("Unsupported color mode (4 components)");for(E=!1,this.adobe&&this.adobe.transformCode?E=!0:void 0!==this.opts.colorTransform&&(E=!!this.opts.colorTransform),r=this.components[0],i=this.components[1],n=this.components[2],a=this.components[3],f=0;f<e;f++)for(l=0,o=r.lines[0|f*r.scaleY*k],s=i.lines[0|f*i.scaleY*k],h=n.lines[0|f*n.scaleY*k],u=a.lines[0|f*a.scaleY*k];l<t;l++)E?(c=o[0|l*r.scaleX*S],p=s[0|l*i.scaleX*S],m=h[0|l*n.scaleX*S],_=u[0|l*a.scaleX*S],b=255-d(c+1.402*(m-128)),v=255-d(c-.3441363*(p-128)-.71413636*(m-128)),y=255-d(c+1.772*(p-128))):(b=o[0|l*r.scaleX*S],v=s[0|l*i.scaleX*S],y=h[0|l*n.scaleX*S],_=u[0|l*a.scaleX*S]),B[I++]=255-b,B[I++]=255-v,B[I++]=255-y,B[I++]=255-_;break;default:throw Error("Unsupported color mode")}return B},copyToImageData:function(t,e){var r,i,n,a,o,s,h,u,l,f=t.width,c=t.height,p=t.data,m=this.getData(f,c),g=0,_=0;switch(this.components.length){case 1:for(l=0;l<c;l++)for(u=0;u<f;u++)r=m[g++],p[_++]=r,p[_++]=r,p[_++]=r,e&&(p[_++]=255);break;case 3:for(l=0;l<c;l++)for(u=0;u<f;u++)o=m[g++],s=m[g++],h=m[g++],p[_++]=o,p[_++]=s,p[_++]=h,e&&(p[_++]=255);break;case 4:for(l=0;l<c;l++)for(u=0;u<f;u++)n=m[g++],a=m[g++],r=m[g++],o=255-d(n*(1-(i=m[g++])/255)+i),s=255-d(a*(1-i/255)+i),h=255-d(r*(1-i/255)+i),p[_++]=o,p[_++]=s,p[_++]=h,e&&(p[_++]=255);break;default:throw Error("Unsupported color mode")}}};var p=0,m=0;function g(t=0){var e=p+t;if(e>m){var r=Math.ceil((e-m)/1024/1024);throw Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}p=e}return u.resetMaxMemoryUsage=function(t){p=0,m=t},u.getBytesAllocated=function(){return p},u.requestMemoryAllocation=g,u}();function r(t,r={}){var i={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...r},n=new Uint8Array(t),a=new e;a.opts=i,e.resetMaxMemoryUsage(1048576*i.maxMemoryUsageInMB),a.parse(n);var o=i.formatAsRGBA?4:3,s=a.width*a.height*o;try{e.requestMemoryAllocation(s);var h={width:a.width,height:a.height,exifBuffer:a.exifBuffer,data:i.useTArray?new Uint8Array(s):Buffer.alloc(s)};a.comments.length>0&&(h.comments=a.comments)}catch(t){if(t instanceof RangeError)throw Error("Could not allocate enough memory for the image. Required: "+s);if(t instanceof ReferenceError&&"Buffer is not defined"===t.message)throw Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw t}return a.copyToImageData(h,i.formatAsRGBA),h}t.exports=r},91706:t=>{function e(t){var e,r,i,n,a,o=Math.floor,s=Array(64),h=Array(64),u=Array(64),l=Array(64),f=Array(65535),c=Array(65535),d=Array(64),p=Array(64),m=[],g=0,_=7,b=Array(64),v=Array(64),y=Array(64),w=Array(256),x=Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var i=o((e[r]*t+50)/100);i<1?i=1:i>255&&(i=255),s[M[r]]=i}for(var n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var f=o((n[a]*t+50)/100);f<1?f=1:f>255&&(f=255),h[M[a]]=f}for(var c=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)u[d]=1/(s[M[d]]*c[p]*c[m]*8),l[d]=1/(h[M[d]]*c[p]*c[m]*8),d++}function C(t,e){for(var r=0,i=0,n=[],a=1;a<=16;a++){for(var o=1;o<=t[a];o++)n[e[i]]=[],n[e[i]][0]=r,n[e[i]][1]=a,i++,r++;r*=2}return n}function L(){e=C(E,S),r=C(P,B),i=C(k,I),n=C(A,T)}function D(){for(var t=1,e=2,r=1;r<=15;r++){for(var i=t;i<e;i++)c[32767+i]=r,f[32767+i]=[],f[32767+i][1]=r,f[32767+i][0]=i;for(var n=-(e-1);n<=-t;n++)c[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=e-1+n;t<<=1,e<<=1}}function z(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}function R(t){for(var e=t[0],r=t[1]-1;r>=0;)e&1<<r&&(g|=1<<_),r--,--_<0&&(255==g?(U(255),U(0)):U(g),_=7,g=0)}function U(t){m.push(t)}function F(t){U(t>>8&255),U(255&t)}function j(t,e){var r,i,n,a,o,s,h,u,l,f,c=0,p=8,m=64;for(l=0;l<p;++l){r=t[c],i=t[c+1],n=t[c+2],a=t[c+3],o=t[c+4],s=t[c+5],h=t[c+6];var g=r+(u=t[c+7]),_=r-u,b=i+h,v=i-h,y=n+s,w=n-s,x=a+o,M=a-o,E=g+x,S=g-x,k=b+y,I=b-y;t[c]=E+k,t[c+4]=E-k;var P=(I+S)*.707106781;t[c+2]=S+P,t[c+6]=S-P,E=M+w,k=w+v;var B=(E-(I=v+_))*.382683433,A=.5411961*E+B,T=1.306562965*I+B,O=.707106781*k,C=_+O,L=_-O;t[c+5]=L+A,t[c+3]=L-A,t[c+1]=C+T,t[c+7]=C-T,c+=8}for(l=0,c=0;l<p;++l){r=t[c],i=t[c+8],n=t[c+16],a=t[c+24],o=t[c+32],s=t[c+40],h=t[c+48];var D=r+(u=t[c+56]),z=r-u,R=i+h,U=i-h,F=n+s,j=n-s,N=a+o,G=a-o,H=D+N,W=D-N,q=R+F,V=R-F;t[c]=H+q,t[c+32]=H-q;var Y=(V+W)*.707106781;t[c+16]=W+Y,t[c+48]=W-Y,H=G+j,q=j+U;var Z=(H-(V=U+z))*.382683433,J=.5411961*H+Z,X=1.306562965*V+Z,Q=.707106781*q,K=z+Q,$=z-Q;t[c+40]=$+J,t[c+24]=$-J,t[c+8]=K+X,t[c+56]=K-X,c++}for(l=0;l<m;++l)f=t[l]*e[l],d[l]=f>0?f+.5|0:f-.5|0;return d}function N(){F(65504),F(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),F(1),F(1),U(0),U(0)}function G(t){if(t){F(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?F(t.length+2):(F(t.length+5+2),U(69),U(120),U(105),U(102),U(0));for(var e=0;e<t.length;e++)U(t[e])}}function H(t,e){F(65472),F(17),U(8),F(e),F(t),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}function W(){F(65499),F(132),U(0);for(var t=0;t<64;t++)U(s[t]);U(1);for(var e=0;e<64;e++)U(h[e])}function q(){F(65476),F(418),U(0);for(var t=0;t<16;t++)U(E[t+1]);for(var e=0;e<=11;e++)U(S[e]);U(16);for(var r=0;r<16;r++)U(k[r+1]);for(var i=0;i<=161;i++)U(I[i]);U(1);for(var n=0;n<16;n++)U(P[n+1]);for(var a=0;a<=11;a++)U(B[a]);U(17);for(var o=0;o<16;o++)U(A[o+1]);for(var s=0;s<=161;s++)U(T[s])}function V(t){void 0!==t&&t.constructor===Array&&t.forEach(t=>{if("string"==typeof t){F(65534);var e,r=t.length;for(F(r+2),e=0;e<r;e++)U(t.charCodeAt(e))}})}function Y(){F(65498),F(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0)}function Z(t,e,r,i,n){for(var a,o,s=n[0],h=n[240],u=16,l=63,d=64,m=j(t,e),g=0;g<d;++g)p[M[g]]=m[g];var _=p[0]-r;r=p[0],0==_?R(i[0]):(R(i[c[a=32767+_]]),R(f[a]));for(var b=63;b>0&&0==p[b];b--);if(0==b)return R(s),r;for(var v=1;v<=b;){for(var y=v;0==p[v]&&v<=b;++v);var w=v-y;if(w>=u){o=w>>4;for(var x=1;x<=o;++x)R(h);w&=15}R(n[(w<<4)+c[a=32767+p[v]]]),R(f[a]),v++}return b!=l&&R(s),r}function J(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}function X(t){if(t<=0&&(t=1),t>100&&(t=100),a!=t){var e=0;e=t<50?Math.floor(5e3/t):Math.floor(200-2*t),O(e),a=t}}this.encode=function(t,a){new Date().getTime(),a&&X(a),m=[],g=0,_=7,F(65496),N(),V(t.comments),G(t.exifBuffer),W(),H(t.width,t.height),q(),Y();var o=0,s=0,h=0;g=0,_=7,this.encode.displayName="_encode_";for(var f,c,d,p,w,M,E,S,k,I=t.data,P=t.width,B=t.height,A=4*P,T=0;T<B;){for(k=0;k<A;){for(S=0,w=p=A*T+k,M=-1,E=0;S<64;S++)w=p+(E=S>>3)*A+(M=(7&S)*4),T+E>=B&&(w-=A*(T+1+E-B)),k+M>=A&&(w-=k+M-A+4),f=I[w++],c=I[w++],d=I[w++],b[S]=(x[f]+x[c+256>>0]+x[d+512>>0]>>16)-128,v[S]=(x[f+768>>0]+x[c+1024>>0]+x[d+1280>>0]>>16)-128,y[S]=(x[f+1280>>0]+x[c+1536>>0]+x[d+1792>>0]>>16)-128;o=Z(b,u,o,e,i),s=Z(v,l,s,r,n),h=Z(y,l,h,r,n),k+=32}T+=8}if(_>=0){var O=[];O[1]=_+1,O[0]=(1<<_+1)-1,R(O)}return F(65497),Buffer.from(m)},function(){new Date().getTime(),t||(t=50),J(),L(),D(),z(),X(t),new Date().getTime()}()}function r(t,r){return void 0===r&&(r=50),{data:new e(r).encode(t,r),width:t.width,height:t.height}}t.exports=r},44654:(t,e,r)=>{var i=r(7017)(r(39288),"DataView");t.exports=i},27513:(t,e,r)=>{var i=r(7392),n=r(29247),a=r(84190),o=r(66193),s=r(66681);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}h.prototype.clear=i,h.prototype.delete=n,h.prototype.get=a,h.prototype.has=o,h.prototype.set=s,t.exports=h},58148:(t,e,r)=>{var i=r(31797),n=r(82142),a=r(83226),o=r(84001),s=r(31127);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}h.prototype.clear=i,h.prototype.delete=n,h.prototype.get=a,h.prototype.has=o,h.prototype.set=s,t.exports=h},67926:(t,e,r)=>{var i=r(7017)(r(39288),"Map");t.exports=i},30095:(t,e,r)=>{var i=r(86487),n=r(93976),a=r(91053),o=r(29941),s=r(70144);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}h.prototype.clear=i,h.prototype.delete=n,h.prototype.get=a,h.prototype.has=o,h.prototype.set=s,t.exports=h},9186:(t,e,r)=>{var i=r(7017)(r(39288),"Promise");t.exports=i},39746:(t,e,r)=>{var i=r(7017)(r(39288),"Set");t.exports=i},43484:(t,e,r)=>{var i=r(30095),n=r(51793),a=r(59191);function o(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new i;++e<r;)this.add(t[e])}o.prototype.add=o.prototype.push=n,o.prototype.has=a,t.exports=o},82006:(t,e,r)=>{var i=r(58148),n=r(82795),a=r(9113),o=r(80934),s=r(68732),h=r(5525);function u(t){var e=this.__data__=new i(t);this.size=e.size}u.prototype.clear=n,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=h,t.exports=u},76245:(t,e,r)=>{var i=r(39288).Symbol;t.exports=i},89377:(t,e,r)=>{var i=r(39288).Uint8Array;t.exports=i},35803:(t,e,r)=>{var i=r(7017)(r(39288),"WeakMap");t.exports=i},39137:t=>{function e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}t.exports=e},98821:t=>{function e(t,e){for(var r=-1,i=null==t?0:t.length;++r<i&&!1!==e(t[r],r,t););return t}t.exports=e},17536:t=>{function e(t,e){for(var r=-1,i=null==t?0:t.length,n=0,a=[];++r<i;){var o=t[r];e(o,r,t)&&(a[n++]=o)}return a}t.exports=e},77133:(t,e,r)=>{var i=r(84643),n=r(46148),a=r(32966),o=r(10750),s=r(19699),h=r(42191),u=Object.prototype.hasOwnProperty;function l(t,e){var r=a(t),l=!r&&n(t),f=!r&&!l&&o(t),c=!r&&!l&&!f&&h(t),d=r||l||f||c,p=d?i(t.length,String):[],m=p.length;for(var g in t)(e||u.call(t,g))&&!(d&&("length"==g||f&&("offset"==g||"parent"==g)||c&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m)))&&p.push(g);return p}t.exports=l},29738:t=>{function e(t,e){for(var r=-1,i=null==t?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}t.exports=e},18939:t=>{function e(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}t.exports=e},83057:t=>{function e(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}t.exports=e},29126:(t,e,r)=>{var i=r(15216),n=r(64111),a=Object.prototype.hasOwnProperty;function o(t,e,r){var o=t[e];a.call(t,e)&&n(o,r)&&(void 0!==r||e in t)||i(t,e,r)}t.exports=o},33646:(t,e,r)=>{var i=r(64111);function n(t,e){for(var r=t.length;r--;)if(i(t[r][0],e))return r;return -1}t.exports=n},794:(t,e,r)=>{var i=r(44295),n=r(85865);function a(t,e){return t&&i(e,n(e),t)}t.exports=a},34633:(t,e,r)=>{var i=r(44295),n=r(58698);function a(t,e){return t&&i(e,n(e),t)}t.exports=a},15216:(t,e,r)=>{var i=r(99e3);function n(t,e,r){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}t.exports=n},75424:(t,e,r)=>{var i=r(82006),n=r(98821),a=r(29126),o=r(794),s=r(34633),h=r(70892),u=r(11160),l=r(23256),f=r(16591),c=r(67),d=r(68340),p=r(74963),m=r(80834),g=r(1679),_=r(71814),b=r(32966),v=r(10750),y=r(18674),w=r(62880),x=r(35531),M=r(85865),E=r(58698),S=1,k=2,I=4,P="[object Arguments]",B="[object Array]",A="[object Boolean]",T="[object Date]",O="[object Error]",C="[object Function]",L="[object GeneratorFunction]",D="[object Map]",z="[object Number]",R="[object Object]",U="[object RegExp]",F="[object Set]",j="[object String]",N="[object Symbol]",G="[object WeakMap]",H="[object ArrayBuffer]",W="[object DataView]",q="[object Float32Array]",V="[object Float64Array]",Y="[object Int8Array]",Z="[object Int16Array]",J="[object Int32Array]",X="[object Uint8Array]",Q="[object Uint8ClampedArray]",K="[object Uint16Array]",$="[object Uint32Array]",tt={};function te(t,e,r,B,A,T){var O,D=e&S,z=e&k,U=e&I;if(r&&(O=A?r(t,B,A,T):r(t)),void 0!==O)return O;if(!w(t))return t;var F=b(t);if(F){if(O=m(t),!D)return u(t,O)}else{var j=p(t),N=j==C||j==L;if(v(t))return h(t,D);if(j==R||j==P||N&&!A){if(O=z||N?{}:_(t),!D)return z?f(t,s(O,t)):l(t,o(O,t))}else{if(!tt[j])return A?t:{};O=g(t,j,D)}}T||(T=new i);var G=T.get(t);if(G)return G;T.set(t,O),x(t)?t.forEach(function(i){O.add(te(i,e,r,i,t,T))}):y(t)&&t.forEach(function(i,n){O.set(n,te(i,e,r,n,t,T))});var H=U?z?d:c:z?E:M,W=F?void 0:H(t);return n(W||t,function(i,n){W&&(i=t[n=i]),a(O,n,te(i,e,r,n,t,T))}),O}tt[P]=tt[B]=tt[H]=tt[W]=tt[A]=tt[T]=tt[q]=tt[V]=tt[Y]=tt[Z]=tt[J]=tt[D]=tt[z]=tt[R]=tt[U]=tt[F]=tt[j]=tt[N]=tt[X]=tt[Q]=tt[K]=tt[$]=!0,tt[O]=tt[C]=tt[G]=!1,t.exports=te},39016:(t,e,r)=>{var i=r(62880),n=Object.create,a=function(){function t(){}return function(e){if(!i(e))return{};if(n)return n(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=a},57706:(t,e,r)=>{var i=r(59796),n=r(15271)(i);t.exports=n},16868:(t,e,r)=>{var i=r(57706);function n(t,e){var r=[];return i(t,function(t,i,n){e(t,i,n)&&r.push(t)}),r}t.exports=n},67917:(t,e,r)=>{var i=r(13012)();t.exports=i},59796:(t,e,r)=>{var i=r(67917),n=r(85865);function a(t,e){return t&&i(t,e,n)}t.exports=a},57305:(t,e,r)=>{var i=r(80204),n=r(1094);function a(t,e){e=i(e,t);for(var r=0,a=e.length;null!=t&&r<a;)t=t[n(e[r++])];return r&&r==a?t:void 0}t.exports=a},24003:(t,e,r)=>{var i=r(18939),n=r(32966);function a(t,e,r){var a=e(t);return n(t)?a:i(a,r(t))}t.exports=a},1534:(t,e,r)=>{var i=r(76245),n=r(34244),a=r(13390),o="[object Null]",s="[object Undefined]",h=i?i.toStringTag:void 0;function u(t){return null==t?void 0===t?s:o:h&&h in Object(t)?n(t):a(t)}t.exports=u},50045:t=>{function e(t,e){return null!=t&&e in Object(t)}t.exports=e},79574:(t,e,r)=>{var i=r(1534),n=r(91380),a="[object Arguments]";function o(t){return n(t)&&i(t)==a}t.exports=o},88132:(t,e,r)=>{var i=r(80588),n=r(91380);function a(t,e,r,o,s){return t===e||(null!=t&&null!=e&&(n(t)||n(e))?i(t,e,r,o,a,s):t!=t&&e!=e)}t.exports=a},80588:(t,e,r)=>{var i=r(82006),n=r(12317),a=r(99487),o=r(1958),s=r(74963),h=r(32966),u=r(10750),l=r(42191),f=1,c="[object Arguments]",d="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;function g(t,e,r,g,_,b){var v=h(t),y=h(e),w=v?d:s(t),x=y?d:s(e);w=w==c?p:w,x=x==c?p:x;var M=w==p,E=x==p,S=w==x;if(S&&u(t)){if(!u(e))return!1;v=!0,M=!1}if(S&&!M)return b||(b=new i),v||l(t)?n(t,e,r,g,_,b):a(t,e,w,r,g,_,b);if(!(r&f)){var k=M&&m.call(t,"__wrapped__"),I=E&&m.call(e,"__wrapped__");if(k||I){var P=k?t.value():t,B=I?e.value():e;return b||(b=new i),_(P,B,r,g,b)}}return!!S&&(b||(b=new i),o(t,e,r,g,_,b))}t.exports=g},87962:(t,e,r)=>{var i=r(74963),n=r(91380),a="[object Map]";function o(t){return n(t)&&i(t)==a}t.exports=o},7240:(t,e,r)=>{var i=r(82006),n=r(88132),a=1,o=2;function s(t,e,r,s){var h=r.length,u=h,l=!s;if(null==t)return!u;for(t=Object(t);h--;){var f=r[h];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++h<u;){var c=(f=r[h])[0],d=t[c],p=f[1];if(l&&f[2]){if(void 0===d&&!(c in t))return!1}else{var m=new i;if(s)var g=s(d,p,c,t,e,m);if(!(void 0===g?n(p,d,a|o,s,m):g))return!1}}return!0}t.exports=s},74104:(t,e,r)=>{var i=r(85586),n=r(15621),a=r(62880),o=r(81708),s=/[\\^$.*+?()[\]{}|]/g,h=/^\[object .+?Constructor\]$/,u=Object.prototype,l=Function.prototype.toString,f=u.hasOwnProperty,c=RegExp("^"+l.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(t){return!(!a(t)||n(t))&&(i(t)?c:h).test(o(t))}t.exports=d},62923:(t,e,r)=>{var i=r(74963),n=r(91380),a="[object Set]";function o(t){return n(t)&&i(t)==a}t.exports=o},17633:(t,e,r)=>{var i=r(1534),n=r(99002),a=r(91380),o="[object Arguments]",s="[object Array]",h="[object Boolean]",u="[object Date]",l="[object Error]",f="[object Function]",c="[object Map]",d="[object Number]",p="[object Object]",m="[object RegExp]",g="[object Set]",_="[object String]",b="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",w="[object Float64Array]",x="[object Int8Array]",M="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",B={};function A(t){return a(t)&&n(t.length)&&!!B[i(t)]}B["[object Float32Array]"]=B[w]=B[x]=B[M]=B[E]=B[S]=B[k]=B[I]=B[P]=!0,B[o]=B[s]=B[v]=B[h]=B[y]=B[u]=B[l]=B[f]=B[c]=B[d]=B[p]=B[m]=B[g]=B[_]=B[b]=!1,t.exports=A},44729:(t,e,r)=>{var i=r(71069),n=r(44723),a=r(24576),o=r(32966),s=r(94416);function h(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?o(t)?n(t[0],t[1]):i(t):s(t)}t.exports=h},54190:(t,e,r)=>{var i=r(83314),n=r(66045),a=Object.prototype.hasOwnProperty;function o(t){if(!i(t))return n(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}t.exports=o},75806:(t,e,r)=>{var i=r(62880),n=r(83314),a=r(22350),o=Object.prototype.hasOwnProperty;function s(t){if(!i(t))return a(t);var e=n(t),r=[];for(var s in t)"constructor"==s&&(e||!o.call(t,s))||r.push(s);return r}t.exports=s},71069:(t,e,r)=>{var i=r(7240),n=r(35906),a=r(17106);function o(t){var e=n(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(r){return r===t||i(r,t,e)}}t.exports=o},44723:(t,e,r)=>{var i=r(88132),n=r(9459),a=r(1433),o=r(76958),s=r(61623),h=r(17106),u=r(1094),l=1,f=2;function c(t,e){return o(t)&&s(e)?h(u(t),e):function(r){var o=n(r,t);return void 0===o&&o===e?a(r,t):i(e,o,l|f)}}t.exports=c},78974:t=>{function e(t){return function(e){return null==e?void 0:e[t]}}t.exports=e},3243:(t,e,r)=>{var i=r(57305);function n(t){return function(e){return i(e,t)}}t.exports=n},44563:(t,e,r)=>{var i=r(24576),n=r(21112),a=r(234);function o(t,e){return a(n(t,e,i),t+"")}t.exports=o},44578:(t,e,r)=>{var i=r(44347),n=r(99e3),a=r(24576),o=n?function(t,e){return n(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:a;t.exports=o},84643:t=>{function e(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}t.exports=e},96115:(t,e,r)=>{var i=r(76245),n=r(29738),a=r(32966),o=r(76871),s=1/0,h=i?i.prototype:void 0,u=h?h.toString:void 0;function l(t){if("string"==typeof t)return t;if(a(t))return n(t,l)+"";if(o(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}t.exports=l},96291:t=>{function e(t){return function(e){return t(e)}}t.exports=e},5354:t=>{function e(t,e){return t.has(e)}t.exports=e},80204:(t,e,r)=>{var i=r(32966),n=r(76958),a=r(31364),o=r(41029);function s(t,e){return i(t)?t:n(t,e)?[t]:a(o(t))}t.exports=s},8265:(t,e,r)=>{var i=r(89377);function n(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}t.exports=n},70892:(t,e,r)=>{t=r.nmd(t);var i=r(39288),n=e&&!e.nodeType&&e,a=n&&t&&!t.nodeType&&t,o=a&&a.exports===n?i.Buffer:void 0,s=o?o.allocUnsafe:void 0;function h(t,e){if(e)return t.slice();var r=t.length,i=s?s(r):new t.constructor(r);return t.copy(i),i}t.exports=h},90465:(t,e,r)=>{var i=r(8265);function n(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}t.exports=n},84879:t=>{var e=/\w*$/;function r(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}t.exports=r},76204:(t,e,r)=>{var i=r(76245),n=i?i.prototype:void 0,a=n?n.valueOf:void 0;function o(t){return a?Object(a.call(t)):{}}t.exports=o},68845:(t,e,r)=>{var i=r(8265);function n(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}t.exports=n},11160:t=>{function e(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}t.exports=e},44295:(t,e,r)=>{var i=r(29126),n=r(15216);function a(t,e,r,a){var o=!r;r||(r={});for(var s=-1,h=e.length;++s<h;){var u=e[s],l=a?a(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),o?n(r,u,l):i(r,u,l)}return r}t.exports=a},23256:(t,e,r)=>{var i=r(44295),n=r(26102);function a(t,e){return i(t,n(t),e)}t.exports=a},16591:(t,e,r)=>{var i=r(44295),n=r(77980);function a(t,e){return i(t,n(t),e)}t.exports=a},35987:(t,e,r)=>{var i=r(39288)["__core-js_shared__"];t.exports=i},15271:(t,e,r)=>{var i=r(17632);function n(t,e){return function(r,n){if(null==r)return r;if(!i(r))return t(r,n);for(var a=r.length,o=e?a:-1,s=Object(r);(e?o--:++o<a)&&!1!==n(s[o],o,s););return r}}t.exports=n},13012:t=>{function e(t){return function(e,r,i){for(var n=-1,a=Object(e),o=i(e),s=o.length;s--;){var h=o[t?s:++n];if(!1===r(a[h],h,a))break}return e}}t.exports=e},99e3:(t,e,r)=>{var i=r(7017),n=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},12317:(t,e,r)=>{var i=r(43484),n=r(83057),a=r(5354),o=1,s=2;function h(t,e,r,h,u,l){var f=r&o,c=t.length,d=e.length;if(c!=d&&!(f&&d>c))return!1;var p=l.get(t),m=l.get(e);if(p&&m)return p==e&&m==t;var g=-1,_=!0,b=r&s?new i:void 0;for(l.set(t,e),l.set(e,t);++g<c;){var v=t[g],y=e[g];if(h)var w=f?h(y,v,g,e,t,l):h(v,y,g,t,e,l);if(void 0!==w){if(w)continue;_=!1;break}if(b){if(!n(e,function(t,e){if(!a(b,e)&&(v===t||u(v,t,r,h,l)))return b.push(e)})){_=!1;break}}else if(!(v===y||u(v,y,r,h,l))){_=!1;break}}return l.delete(t),l.delete(e),_}t.exports=h},99487:(t,e,r)=>{var i=r(76245),n=r(89377),a=r(64111),o=r(12317),s=r(59616),h=r(78874),u=1,l=2,f="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Map]",m="[object Number]",g="[object RegExp]",_="[object Set]",b="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",w="[object DataView]",x=i?i.prototype:void 0,M=x?x.valueOf:void 0;function E(t,e,r,i,x,E,S){switch(r){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case y:if(t.byteLength!=e.byteLength||!E(new n(t),new n(e)))break;return!0;case f:case c:case m:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case b:return t==e+"";case p:var k=s;case _:var I=i&u;if(k||(k=h),t.size!=e.size&&!I)break;var P=S.get(t);if(P)return P==e;i|=l,S.set(t,e);var B=o(k(t),k(e),i,x,E,S);return S.delete(t),B;case v:if(M)return M.call(t)==M.call(e)}return!1}t.exports=E},1958:(t,e,r)=>{var i=r(67),n=1,a=Object.prototype.hasOwnProperty;function o(t,e,r,o,s,h){var u=r&n,l=i(t),f=l.length;if(f!=i(e).length&&!u)return!1;for(var c=f;c--;){var d=l[c];if(!(u?d in e:a.call(e,d)))return!1}var p=h.get(t),m=h.get(e);if(p&&m)return p==e&&m==t;var g=!0;h.set(t,e),h.set(e,t);for(var _=u;++c<f;){var b=t[d=l[c]],v=e[d];if(o)var y=u?o(v,b,d,e,t,h):o(b,v,d,t,e,h);if(!(void 0===y?b===v||s(b,v,r,o,h):y)){g=!1;break}_||(_="constructor"==d)}if(g&&!_){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(g=!1)}return h.delete(t),h.delete(e),g}t.exports=o},37611:t=>{var e="object"==typeof global&&global&&global.Object===Object&&global;t.exports=e},67:(t,e,r)=>{var i=r(24003),n=r(26102),a=r(85865);function o(t){return i(t,a,n)}t.exports=o},68340:(t,e,r)=>{var i=r(24003),n=r(77980),a=r(58698);function o(t){return i(t,a,n)}t.exports=o},4326:(t,e,r)=>{var i=r(24587);function n(t,e){var r=t.__data__;return i(e)?r["string"==typeof e?"string":"hash"]:r.map}t.exports=n},35906:(t,e,r)=>{var i=r(61623),n=r(85865);function a(t){for(var e=n(t),r=e.length;r--;){var a=e[r],o=t[a];e[r]=[a,o,i(o)]}return e}t.exports=a},7017:(t,e,r)=>{var i=r(74104),n=r(12751);function a(t,e){var r=n(t,e);return i(r)?r:void 0}t.exports=a},89083:(t,e,r)=>{var i=r(87181)(Object.getPrototypeOf,Object);t.exports=i},34244:(t,e,r)=>{var i=r(76245),n=Object.prototype,a=n.hasOwnProperty,o=n.toString,s=i?i.toStringTag:void 0;function h(t){var e=a.call(t,s),r=t[s];try{t[s]=void 0;var i=!0}catch(t){}var n=o.call(t);return i&&(e?t[s]=r:delete t[s]),n}t.exports=h},26102:(t,e,r)=>{var i=r(17536),n=r(95252),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:i(o(t=Object(t)),function(e){return a.call(t,e)})}:n;t.exports=s},77980:(t,e,r)=>{var i=r(18939),n=r(89083),a=r(26102),o=r(95252),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,a(t)),t=n(t);return e}:o;t.exports=s},74963:(t,e,r)=>{var i=r(44654),n=r(67926),a=r(9186),o=r(39746),s=r(35803),h=r(1534),u=r(81708),l="[object Map]",f="[object Object]",c="[object Promise]",d="[object Set]",p="[object WeakMap]",m="[object DataView]",g=u(i),_=u(n),b=u(a),v=u(o),y=u(s),w=h;(i&&w(new i(new ArrayBuffer(1)))!=m||n&&w(new n)!=l||a&&w(a.resolve())!=c||o&&w(new o)!=d||s&&w(new s)!=p)&&(w=function(t){var e=h(t),r=e==f?t.constructor:void 0,i=r?u(r):"";if(i)switch(i){case g:return m;case _:return l;case b:return c;case v:return d;case y:return p}return e}),t.exports=w},12751:t=>{function e(t,e){return null==t?void 0:t[e]}t.exports=e},23932:(t,e,r)=>{var i=r(80204),n=r(46148),a=r(32966),o=r(19699),s=r(99002),h=r(1094);function u(t,e,r){e=i(e,t);for(var u=-1,l=e.length,f=!1;++u<l;){var c=h(e[u]);if(!(f=null!=t&&r(t,c)))break;t=t[c]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&s(l)&&o(c,l)&&(a(t)||n(t))}t.exports=u},7392:(t,e,r)=>{var i=r(67193);function n(){this.__data__=i?i(null):{},this.size=0}t.exports=n},29247:t=>{function e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=e},84190:(t,e,r)=>{var i=r(67193),n="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;function o(t){var e=this.__data__;if(i){var r=e[t];return r===n?void 0:r}return a.call(e,t)?e[t]:void 0}t.exports=o},66193:(t,e,r)=>{var i=r(67193),n=Object.prototype.hasOwnProperty;function a(t){var e=this.__data__;return i?void 0!==e[t]:n.call(e,t)}t.exports=a},66681:(t,e,r)=>{var i=r(67193),n="__lodash_hash_undefined__";function a(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===e?n:e,this}t.exports=a},80834:t=>{var e=Object.prototype.hasOwnProperty;function r(t){var r=t.length,i=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(i.index=t.index,i.input=t.input),i}t.exports=r},1679:(t,e,r)=>{var i=r(8265),n=r(90465),a=r(84879),o=r(76204),s=r(68845),h="[object Boolean]",u="[object Date]",l="[object Map]",f="[object Number]",c="[object RegExp]",d="[object Set]",p="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",v="[object Float64Array]",y="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",M="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",k="[object Uint32Array]";function I(t,e,r){var I=t.constructor;switch(e){case g:return i(t);case h:case u:return new I(+t);case _:return n(t,r);case b:case v:case y:case w:case x:case M:case E:case S:case k:return s(t,r);case l:return new I;case f:case p:return new I(t);case c:return a(t);case d:return new I;case m:return o(t)}}t.exports=I},71814:(t,e,r)=>{var i=r(39016),n=r(89083),a=r(83314);function o(t){return"function"!=typeof t.constructor||a(t)?{}:i(n(t))}t.exports=o},19699:t=>{var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(t,i){var n=typeof t;return!!(i=null==i?e:i)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<i}t.exports=i},47760:(t,e,r)=>{var i=r(64111),n=r(17632),a=r(19699),o=r(62880);function s(t,e,r){if(!o(r))return!1;var s=typeof e;return("number"==s?!!(n(r)&&a(e,r.length)):"string"==s&&e in r)&&i(r[e],t)}t.exports=s},76958:(t,e,r)=>{var i=r(32966),n=r(76871),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function s(t,e){if(i(t))return!1;var r=typeof t;return!!("number"==r||"symbol"==r||"boolean"==r||null==t||n(t))||o.test(t)||!a.test(t)||null!=e&&t in Object(e)}t.exports=s},24587:t=>{function e(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=e},15621:(t,e,r)=>{var i=r(35987),n=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function a(t){return!!n&&n in t}t.exports=a},83314:t=>{var e=Object.prototype;function r(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}t.exports=r},61623:(t,e,r)=>{var i=r(62880);function n(t){return t==t&&!i(t)}t.exports=n},31797:t=>{function e(){this.__data__=[],this.size=0}t.exports=e},82142:(t,e,r)=>{var i=r(33646),n=Array.prototype.splice;function a(t){var e=this.__data__,r=i(e,t);return!(r<0)&&(r==e.length-1?e.pop():n.call(e,r,1),--this.size,!0)}t.exports=a},83226:(t,e,r)=>{var i=r(33646);function n(t){var e=this.__data__,r=i(e,t);return r<0?void 0:e[r][1]}t.exports=n},84001:(t,e,r)=>{var i=r(33646);function n(t){return i(this.__data__,t)>-1}t.exports=n},31127:(t,e,r)=>{var i=r(33646);function n(t,e){var r=this.__data__,n=i(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}t.exports=n},86487:(t,e,r)=>{var i=r(27513),n=r(58148),a=r(67926);function o(){this.size=0,this.__data__={hash:new i,map:new(a||n),string:new i}}t.exports=o},93976:(t,e,r)=>{var i=r(4326);function n(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}t.exports=n},91053:(t,e,r)=>{var i=r(4326);function n(t){return i(this,t).get(t)}t.exports=n},29941:(t,e,r)=>{var i=r(4326);function n(t){return i(this,t).has(t)}t.exports=n},70144:(t,e,r)=>{var i=r(4326);function n(t,e){var r=i(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}t.exports=n},59616:t=>{function e(t){var e=-1,r=Array(t.size);return t.forEach(function(t,i){r[++e]=[i,t]}),r}t.exports=e},17106:t=>{function e(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}t.exports=e},85244:(t,e,r)=>{var i=r(97300),n=500;function a(t){var e=i(t,function(t){return r.size===n&&r.clear(),t}),r=e.cache;return e}t.exports=a},67193:(t,e,r)=>{var i=r(7017)(Object,"create");t.exports=i},66045:(t,e,r)=>{var i=r(87181)(Object.keys,Object);t.exports=i},22350:t=>{function e(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}t.exports=e},7553:(t,e,r)=>{t=r.nmd(t);var i=r(37611),n=e&&!e.nodeType&&e,a=n&&t&&!t.nodeType&&t,o=a&&a.exports===n&&i.process,s=function(){try{var t=a&&a.require&&a.require("util").types;if(t)return t;return o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s},13390:t=>{var e=Object.prototype.toString;function r(t){return e.call(t)}t.exports=r},87181:t=>{function e(t,e){return function(r){return t(e(r))}}t.exports=e},21112:(t,e,r)=>{var i=r(39137),n=Math.max;function a(t,e,r){return e=n(void 0===e?t.length-1:e,0),function(){for(var a=arguments,o=-1,s=n(a.length-e,0),h=Array(s);++o<s;)h[o]=a[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=a[o];return u[e]=r(h),i(t,this,u)}}t.exports=a},39288:(t,e,r)=>{var i=r(37611),n="object"==typeof self&&self&&self.Object===Object&&self,a=i||n||Function("return this")();t.exports=a},51793:t=>{var e="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,e),this}t.exports=r},59191:t=>{function e(t){return this.__data__.has(t)}t.exports=e},78874:t=>{function e(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}t.exports=e},234:(t,e,r)=>{var i=r(44578),n=r(72347)(i);t.exports=n},72347:t=>{var e=800,r=16,i=Date.now;function n(t){var n=0,a=0;return function(){var o=i(),s=r-(o-a);if(a=o,s>0){if(++n>=e)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}t.exports=n},82795:(t,e,r)=>{var i=r(58148);function n(){this.__data__=new i,this.size=0}t.exports=n},9113:t=>{function e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}t.exports=e},80934:t=>{function e(t){return this.__data__.get(t)}t.exports=e},68732:t=>{function e(t){return this.__data__.has(t)}t.exports=e},5525:(t,e,r)=>{var i=r(58148),n=r(67926),a=r(30095),o=200;function s(t,e){var r=this.__data__;if(r instanceof i){var s=r.__data__;if(!n||s.length<o-1)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(t,e),this.size=r.size,this}t.exports=s},31364:(t,e,r)=>{var i=r(85244),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=i(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(n,function(t,r,i,n){e.push(i?n.replace(a,"$1"):r||t)}),e});t.exports=o},1094:(t,e,r)=>{var i=r(76871),n=1/0;function a(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}t.exports=a},81708:t=>{var e=Function.prototype.toString;function r(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}t.exports=r},85154:(t,e,r)=>{var i=r(75424),n=4;function a(t){return i(t,n)}t.exports=a},44347:t=>{function e(t){return function(){return t}}t.exports=e},87432:(t,e,r)=>{var i=r(44563),n=r(64111),a=r(47760),o=r(58698),s=Object.prototype,h=s.hasOwnProperty,u=i(function(t,e){t=Object(t);var r=-1,i=e.length,u=i>2?e[2]:void 0;for(u&&a(e[0],e[1],u)&&(i=1);++r<i;)for(var l=e[r],f=o(l),c=-1,d=f.length;++c<d;){var p=f[c],m=t[p];(void 0===m||n(m,s[p])&&!h.call(t,p))&&(t[p]=l[p])}return t});t.exports=u},64111:t=>{function e(t,e){return t===e||t!=t&&e!=e}t.exports=e},15961:(t,e,r)=>{var i=r(17536),n=r(16868),a=r(44729),o=r(32966);function s(t,e){return(o(t)?i:n)(t,a(e,3))}t.exports=s},9459:(t,e,r)=>{var i=r(57305);function n(t,e,r){var n=null==t?void 0:i(t,e);return void 0===n?r:n}t.exports=n},1433:(t,e,r)=>{var i=r(50045),n=r(23932);function a(t,e){return null!=t&&n(t,e,i)}t.exports=a},24576:t=>{function e(t){return t}t.exports=e},46148:(t,e,r)=>{var i=r(79574),n=r(91380),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,h=i(function(){return arguments}())?i:function(t){return n(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=h},32966:t=>{var e=Array.isArray;t.exports=e},17632:(t,e,r)=>{var i=r(85586),n=r(99002);function a(t){return null!=t&&n(t.length)&&!i(t)}t.exports=a},10750:(t,e,r)=>{t=r.nmd(t);var i=r(39288),n=r(89531),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,s=o&&o.exports===a?i.Buffer:void 0,h=(s?s.isBuffer:void 0)||n;t.exports=h},85586:(t,e,r)=>{var i=r(1534),n=r(62880),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",h="[object Proxy]";function u(t){if(!n(t))return!1;var e=i(t);return e==o||e==s||e==a||e==h}t.exports=u},99002:t=>{var e=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}t.exports=r},18674:(t,e,r)=>{var i=r(87962),n=r(96291),a=r(7553),o=a&&a.isMap,s=o?n(o):i;t.exports=s},62880:t=>{function e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=e},91380:t=>{function e(t){return null!=t&&"object"==typeof t}t.exports=e},35531:(t,e,r)=>{var i=r(62923),n=r(96291),a=r(7553),o=a&&a.isSet,s=o?n(o):i;t.exports=s},76871:(t,e,r)=>{var i=r(1534),n=r(91380),a="[object Symbol]";function o(t){return"symbol"==typeof t||n(t)&&i(t)==a}t.exports=o},42191:(t,e,r)=>{var i=r(17633),n=r(96291),a=r(7553),o=a&&a.isTypedArray,s=o?n(o):i;t.exports=s},85865:(t,e,r)=>{var i=r(77133),n=r(54190),a=r(17632);function o(t){return a(t)?i(t):n(t)}t.exports=o},58698:(t,e,r)=>{var i=r(77133),n=r(75806),a=r(17632);function o(t){return a(t)?i(t,!0):n(t)}t.exports=o},97300:(t,e,r)=>{var i=r(30095),n="Expected a function";function a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw TypeError(n);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var o=t.apply(this,i);return r.cache=a.set(n,o)||a,o};return r.cache=new(a.Cache||i),r}a.Cache=i,t.exports=a},94416:(t,e,r)=>{var i=r(78974),n=r(3243),a=r(76958),o=r(1094);function s(t){return a(t)?i(o(t)):n(t)}t.exports=s},95252:t=>{function e(){return[]}t.exports=e},89531:t=>{function e(){return!1}t.exports=e},41029:(t,e,r)=>{var i=r(96115);function n(t){return null==t?"":i(t)}t.exports=n},78372:(t,e,r)=>{var i=r(71017),n=r(57147),a=parseInt("0777",8);function o(t,e,r,s){"function"==typeof e?(r=e,e={}):e&&"object"==typeof e||(e={mode:e});var h=e.mode,u=e.fs||n;void 0===h&&(h=a),s||(s=null);var l=r||function(){};t=i.resolve(t),u.mkdir(t,h,function(r){if(!r)return l(null,s=s||t);if("ENOENT"===r.code){if(i.dirname(t)===t)return l(r);o(i.dirname(t),e,function(r,i){r?l(r,i):o(t,e,l,i)})}else u.stat(t,function(t,e){t||!e.isDirectory()?l(r,s):l(null,s)})})}t.exports=o.mkdirp=o.mkdirP=o,o.sync=function t(e,r,o){r&&"object"==typeof r||(r={mode:r});var s,h=r.mode,u=r.fs||n;void 0===h&&(h=a),o||(o=null),e=i.resolve(e);try{u.mkdirSync(e,h),o=o||e}catch(n){if("ENOENT"===n.code)o=t(i.dirname(e),r,o),t(e,r,o);else{try{s=u.statSync(e)}catch(t){throw n}if(!s.isDirectory())throw n}}return o}},72413:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(81140)),a=r(85154),o=function(){function t(t,e){void 0===e&&(e={}),this._src=t,this._opts=e,this._opts.filters=a(n.default.DefaultOpts.filters)}return t.prototype.maxColorCount=function(t){return this._opts.colorCount=t,this},t.prototype.maxDimension=function(t){return this._opts.maxDimension=t,this},t.prototype.addFilter=function(t){return this._opts.filters.push(t),this},t.prototype.removeFilter=function(t){var e=this._opts.filters.indexOf(t);return e>0&&this._opts.filters.splice(e),this},t.prototype.clearFilters=function(){return this._opts.filters=[],this},t.prototype.quality=function(t){return this._opts.quality=t,this},t.prototype.useImageClass=function(t){return this._opts.ImageClass=t,this},t.prototype.useGenerator=function(t){return this._opts.generator=t,this},t.prototype.useQuantizer=function(t){return this._opts.quantizer=t,this},t.prototype.build=function(){return new n.default(this._src,this._opts)},t.prototype.getPalette=function(t){return this.build().getPalette(t)},t.prototype.getSwatches=function(t){return this.build().getPalette(t)},t}();e.default=o},37314:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Swatch=void 0;var i=r(72213),n=r(15961),a=function(){function t(t,e){this._rgb=t,this._population=e}return t.applyFilter=function(t,e){return"function"==typeof e?n(t,function(t){return e(t.r,t.g,t.b,255)}):t},Object.defineProperty(t.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){if(!this._hsl){var t=this._rgb,e=t[0],r=t[1],n=t[2];this._hsl=i.rgbToHsl(e,r,n)}return this._hsl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){if(!this._hex){var t=this._rgb,e=t[0],r=t[1],n=t[2];this._hex=i.rgbToHex(e,r,n)}return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"population",{get:function(){return this._population},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},t.prototype.getRgb=function(){return this._rgb},t.prototype.getHsl=function(){return this.hsl},t.prototype.getPopulation=function(){return this._population},t.prototype.getHex=function(){return this.hex},t.prototype.getYiq=function(){if(!this._yiq){var t=this._rgb;this._yiq=(299*t[0]+587*t[1]+114*t[2])/1e3}return this._yiq},Object.defineProperty(t.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=200>this.getYiq()?"#fff":"#000"),this._titleTextColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=150>this.getYiq()?"#fff":"#000"),this._bodyTextColor},enumerable:!1,configurable:!0}),t.prototype.getTitleTextColor=function(){return this.titleTextColor},t.prototype.getBodyTextColor=function(){return this.bodyTextColor},t}();e.Swatch=a},24900:(t,e)=>{"use strict";function r(t,e,r,i){return i>=125&&!(t>250&&e>250&&r>250)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},1525:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineFilters=void 0;var i=r(24900);function n(t){return Array.isArray(t)&&0!==t.length?function(e,r,i,n){if(0===n)return!1;for(var a=0;a<t.length;a++)if(!t[a](e,r,i,n))return!1;return!0}:null}Object.defineProperty(e,"Default",{enumerable:!0,get:function(){return i.default}}),e.combineFilters=n},45105:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(37314),n=r(72213),a=r(87432),o={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function s(t){var e=0;return t.forEach(function(t){e=Math.max(e,t.getPopulation())}),e}function h(t,e){return t.Vibrant===e||t.DarkVibrant===e||t.LightVibrant===e||t.Muted===e||t.DarkMuted===e||t.LightMuted===e}function u(t,e,r,i,n,a,o){function s(t,e){return 1-Math.abs(t-e)}return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,i=0,n=0;n<t.length;n+=2){var a=t[n],o=t[n+1];r+=a*o,i+=o}return r/i}(s(t,e),o.weightSaturation,s(r,i),o.weightLuma,n/a,o.weightPopulation)}function l(t,e,r,i,n,a,o,s,l,f){var c=null,d=0;return e.forEach(function(e){var p=e.getHsl(),m=p[1],g=p[2];if(m>=s&&m<=l&&g>=n&&g<=a&&!h(t,e)){var _=u(m,o,g,i,e.getPopulation(),r,f);(null===c||_>d)&&(c=e,d=_)}}),c}function f(t,e,r){var i={};return i.Vibrant=l(i,t,e,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),i.LightVibrant=l(i,t,e,r.targetLightLuma,r.minLightLuma,1,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),i.DarkVibrant=l(i,t,e,r.targetDarkLuma,0,r.maxDarkLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),i.Muted=l(i,t,e,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),i.LightMuted=l(i,t,e,r.targetLightLuma,r.minLightLuma,1,r.targetMutesSaturation,0,r.maxMutesSaturation,r),i.DarkMuted=l(i,t,e,r.targetDarkLuma,0,r.maxDarkLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),i}function c(t,e,r){if(null===t.Vibrant&&null===t.DarkVibrant&&null===t.LightVibrant){if(null===t.DarkVibrant&&null!==t.DarkMuted){var a=t.DarkMuted.getHsl(),o=a[0],s=a[1],h=a[2];h=r.targetDarkLuma,t.DarkVibrant=new i.Swatch(n.hslToRgb(o,s,h),0)}if(null===t.LightVibrant&&null!==t.LightMuted){var u=t.LightMuted.getHsl(),o=u[0],s=u[1],h=u[2];h=r.targetDarkLuma,t.DarkVibrant=new i.Swatch(n.hslToRgb(o,s,h),0)}}if(null===t.Vibrant&&null!==t.DarkVibrant){var l=t.DarkVibrant.getHsl(),o=l[0],s=l[1],h=l[2];h=r.targetNormalLuma,t.Vibrant=new i.Swatch(n.hslToRgb(o,s,h),0)}else if(null===t.Vibrant&&null!==t.LightVibrant){var f=t.LightVibrant.getHsl(),o=f[0],s=f[1],h=f[2];h=r.targetNormalLuma,t.Vibrant=new i.Swatch(n.hslToRgb(o,s,h),0)}if(null===t.DarkVibrant&&null!==t.Vibrant){var c=t.Vibrant.getHsl(),o=c[0],s=c[1],h=c[2];h=r.targetDarkLuma,t.DarkVibrant=new i.Swatch(n.hslToRgb(o,s,h),0)}if(null===t.LightVibrant&&null!==t.Vibrant){var d=t.Vibrant.getHsl(),o=d[0],s=d[1],h=d[2];h=r.targetLightLuma,t.LightVibrant=new i.Swatch(n.hslToRgb(o,s,h),0)}if(null===t.Muted&&null!==t.Vibrant){var p=t.Vibrant.getHsl(),o=p[0],s=p[1],h=p[2];h=r.targetMutesSaturation,t.Muted=new i.Swatch(n.hslToRgb(o,s,h),0)}if(null===t.DarkMuted&&null!==t.DarkVibrant){var m=t.DarkVibrant.getHsl(),o=m[0],s=m[1],h=m[2];h=r.targetMutesSaturation,t.DarkMuted=new i.Swatch(n.hslToRgb(o,s,h),0)}if(null===t.LightMuted&&null!==t.LightVibrant){var g=t.LightVibrant.getHsl(),o=g[0],s=g[1],h=g[2];h=r.targetMutesSaturation,t.LightMuted=new i.Swatch(n.hslToRgb(o,s,h),0)}}var d=function(t,e){e=a({},e,o);var r=s(t),i=f(t,r,e);return c(i,r,e),i};e.default=d},99614:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(45105);Object.defineProperty(e,"Default",{enumerable:!0,get:function(){return i.default}})},76036:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageBase=void 0;var r=function(){function t(){}return t.prototype.scaleDown=function(t){var e=this.getWidth(),r=this.getHeight(),i=1;if(t.maxDimension>0){var n=Math.max(e,r);n>t.maxDimension&&(i=t.maxDimension/n)}else i=1/t.quality;i<1&&this.resize(e*i,r*i,i)},t.prototype.applyFilter=function(t){var e=this.getImageData();if("function"==typeof t)for(var r=e.data,i=r.length/4,n=void 0,a=void 0,o=void 0,s=void 0,h=void 0,u=0;u<i;u++)a=r[(n=4*u)+0],t(a,o=r[n+1],s=r[n+2],h=r[n+3])||(r[n+3]=0);return Promise.resolve(e)},t}();e.ImageBase=r},90798:function(t,e,r){"use strict";var i=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return a(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var h=r(76036),u=o(r(13685)),l=o(r(95687)),f=s(r(28450)),c=s(r(82282)),d=s(r(35338)),p=f.default({types:[c.default],plugins:[d.default]}),m=/^(\w+):\/\/.*/i,g={http:u,https:l},_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._loadByProtocolHandler=function(t,e){return new Promise(function(r,i){t.get(e,function(t){var e=Buffer.alloc(0);t.on("data",function(t){e=Buffer.concat([e,t])}),t.on("end",function(){return r(e)}),t.on("error",function(t){return i(t)})}).on("error",function(t){return i(t)})})},e.prototype._loadFromPath=function(t){var e=this,r=m.exec(t);if(!r)return this._loadByJimp(t);var i=r[1].toLocaleLowerCase(),n=g[i];return n?this._loadByProtocolHandler(n,t).then(function(t){return e._loadByJimp(t)}):Promise.reject(Error("Unsupported protocol: "+i))},e.prototype._loadByJimp=function(t){var e=this;return p.read(t).then(function(t){return e._image=t,e})},e.prototype.load=function(t){return"string"==typeof t?this._loadFromPath(t):t instanceof Buffer?this._loadByJimp(t):Promise.reject(Error("Cannot load image from HTMLImageElement in node environment"))},e.prototype.clear=function(){},e.prototype.update=function(t){},e.prototype.getWidth=function(){return this._image.bitmap.width},e.prototype.getHeight=function(){return this._image.bitmap.height},e.prototype.resize=function(t,e,r){this._image.resize(t,e)},e.prototype.getPixelCount=function(){var t=this._image.bitmap;return t.width*t.height},e.prototype.getImageData=function(){return this._image.bitmap},e.prototype.remove=function(){},e}(h.ImageBase);e.default=_},19985:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},n=i(r(81140)),a=i(r(90798));n.default.DefaultOpts.ImageClass=a.default,t.exports=n.default},61926:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebWorker=void 0;var i=r(17637);Object.defineProperty(e,"MMCQ",{enumerable:!0,get:function(){return i.default}}),e.WebWorker=null},17637:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(37314),a=i(r(28828)),o=i(r(38548)),s=.75;function h(t,e){for(var r=t.size();t.size()<e;){var i=t.pop();if(i&&i.count()>0){var n=i.split(),a=n[0],o=n[1];if(t.push(a),o&&o.count()>0&&t.push(o),t.size()===r)break;r=t.size()}else break}}var u=function(t,e){if(0===t.length||e.colorCount<2||e.colorCount>256)throw Error("Wrong MMCQ parameters");var r=a.default.build(t);Object.keys(r.hist).length;var i=new o.default(function(t,e){return t.count()-e.count()});i.push(r),h(i,s*e.colorCount);var n=new o.default(function(t,e){return t.count()*t.volume()-e.count()*e.volume()});return n.contents=i.contents,h(n,e.colorCount-n.size()),l(n)};function l(t){for(var e=[];t.size();){var r=t.pop(),i=r.avg();i[0],i[1],i[2],e.push(new n.Swatch(i,r.count()))}return e}e.default=u},38548:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._comparator=t,this.contents=[],this._sorted=!1}return t.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},t.prototype.push=function(t){this.contents.push(t),this._sorted=!1},t.prototype.peek=function(t){return this._sort(),t="number"==typeof t?t:this.contents.length-1,this.contents[t]},t.prototype.pop=function(){return this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this._sort(),this.contents.map(t)},t}();e.default=r},28828:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(72213),n=function(){function t(t,e,r,i,n,a,o){this._volume=-1,this._count=-1,this.dimension={r1:t,r2:e,g1:r,g2:i,b1:n,b2:a},this.hist=o}return t.build=function(e,r){var n,a,o,s,h,u,l,f,c,d=new Uint32Array(1<<3*i.SIGBITS);n=o=h=0,a=s=u=Number.MAX_VALUE;for(var p=e.length/4,m=0;m<p;){var g=4*m;if(m++,l=e[g+0],f=e[g+1],c=e[g+2],0!==e[g+3]){l>>=i.RSHIFT,f>>=i.RSHIFT,c>>=i.RSHIFT;var _=i.getColorIndex(l,f,c);d[_]+=1,l>n&&(n=l),l<a&&(a=l),f>o&&(o=f),f<s&&(s=f),c>h&&(h=c),c<u&&(u=c)}}return new t(a,n,s,o,u,h,d)},t.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},t.prototype.volume=function(){if(this._volume<0){var t=this.dimension,e=t.r1,r=t.r2,i=t.g1,n=t.g2,a=t.b1,o=t.b2;this._volume=(r-e+1)*(n-i+1)*(o-a+1)}return this._volume},t.prototype.count=function(){if(this._count<0){for(var t=this.hist,e=this.dimension,r=e.r1,n=e.r2,a=e.g1,o=e.g2,s=e.b1,h=e.b2,u=0,l=r;l<=n;l++)for(var f=a;f<=o;f++)for(var c=s;c<=h;c++)u+=t[i.getColorIndex(l,f,c)];this._count=u}return this._count},t.prototype.clone=function(){var e=this.hist,r=this.dimension;return new t(r.r1,r.r2,r.g1,r.g2,r.b1,r.b2,e)},t.prototype.avg=function(){if(!this._avg){var t=this.hist,e=this.dimension,r=e.r1,n=e.r2,a=e.g1,o=e.g2,s=e.b1,h=e.b2,u=0,l=1<<8-i.SIGBITS,f=void 0,c=void 0,d=void 0;f=c=d=0;for(var p=r;p<=n;p++)for(var m=a;m<=o;m++)for(var g=s;g<=h;g++){var _=t[i.getColorIndex(p,m,g)];u+=_,f+=_*(p+.5)*l,c+=_*(m+.5)*l,d+=_*(g+.5)*l}u?this._avg=[~~(f/u),~~(c/u),~~(d/u)]:this._avg=[~~(l*(r+n+1)/2),~~(l*(a+o+1)/2),~~(l*(s+h+1)/2)]}return this._avg},t.prototype.contains=function(t){var e=t[0],r=t[1],n=t[2],a=this.dimension,o=a.r1,s=a.r2,h=a.g1,u=a.g2,l=a.b1,f=a.b2;return e>>=i.RSHIFT,r>>=i.RSHIFT,n>>=i.RSHIFT,e>=o&&e<=s&&r>=h&&r<=u&&n>=l&&n<=f},t.prototype.split=function(){var t,e,r=this.hist,n=this.dimension,a=n.r1,o=n.r2,s=n.g1,h=n.g2,u=n.b1,l=n.b2,f=this.count();if(!f)return[];if(1===f)return[this.clone()];var c=o-a+1,d=h-s+1,p=Math.max(c,d,l-u+1),m=null;t=e=0;var g=null;if(p===c){g="r",m=new Uint32Array(o+1);for(var _=a;_<=o;_++){t=0;for(var b=s;b<=h;b++)for(var v=u;v<=l;v++){var y=i.getColorIndex(_,b,v);t+=r[y]}e+=t,m[_]=e}}else if(p===d){g="g",m=new Uint32Array(h+1);for(var b=s;b<=h;b++){t=0;for(var _=a;_<=o;_++)for(var v=u;v<=l;v++){var y=i.getColorIndex(_,b,v);t+=r[y]}e+=t,m[b]=e}}else{g="b",m=new Uint32Array(l+1);for(var v=u;v<=l;v++){t=0;for(var _=a;_<=o;_++)for(var b=s;b<=h;b++){var y=i.getColorIndex(_,b,v);t+=r[y]}e+=t,m[v]=e}}for(var w=-1,x=new Uint32Array(m.length),M=0;M<m.length;M++){var E=m[M];w<0&&E>e/2&&(w=M),x[M]=e-E}var S=this;return function(t){var e=t+"1",r=t+"2",i=S.dimension[e],n=S.dimension[r],a=S.clone(),o=S.clone(),s=w-i,h=n-w;for(s<=h?n=Math.max(0,n=Math.min(n-1,~~(w+h/2))):(n=Math.max(i,~~(w-1-s/2)),n=Math.min(S.dimension[r],n));!m[n];)n++;for(var u=x[n];!u&&m[n-1];)u=x[--n];return a.dimension[r]=n,o.dimension[e]=n+1,[a,o]}(g)},t}();e.default=n},72213:(t,e)=>{"use strict";function r(){var t,e,r=new Promise(function(r,i){t=r,e=i});return{resolve:t,reject:e,promise:r}}function i(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return null===e?null:[e[1],e[2],e[3]].map(function(t){return parseInt(t,16)})}function n(t,e,r){return"#"+(16777216+(t<<16)+(e<<8)+r).toString(16).slice(1,7)}function a(t,e,r){var i,n,a=Math.max(t/=255,e/=255,r/=255),o=Math.min(t,e,r),s=(a+o)/2;if(a===o)i=n=0;else{var h=a-o;switch(n=s>.5?h/(2-a-o):h/(a+o),a){case t:i=(e-r)/h+(e<r?6:0);break;case e:i=(r-t)/h+2;break;case r:i=(t-e)/h+4}i/=6}return[i,n,s]}function o(t,e,r){function i(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(0===e)n=a=o=r;else{var n,a,o,s=r<.5?r*(1+e):r+e-r*e,h=2*r-s;n=i(h,s,t+1/3),a=i(h,s,t),o=i(h,s,t-1/3)}return[255*n,255*a,255*o]}function s(t,e,r){return t/=255,e/=255,r/=255,[.4124*(t=(t>.04045?Math.pow((t+.005)/1.055,2.4):t/12.92)*100)+.3576*(e=(e>.04045?Math.pow((e+.005)/1.055,2.4):e/12.92)*100)+.1805*(r=(r>.04045?Math.pow((r+.005)/1.055,2.4):r/12.92)*100),.2126*t+.7152*e+.0722*r,.0193*t+.1192*e+.9505*r]}function h(t,e,r){return t/=95.047,e/=100,r/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116)-16,500*(t-e),200*(e-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function u(t,e,r){var i=s(t,e,r);return h(i[0],i[1],i[2])}function l(t,e){var r=1,i=1,n=1,a=t[0],o=t[1],s=t[2],h=e[0],u=e[1],l=e[2],f=a-h,c=o-u,d=s-l,p=Math.sqrt(o*o+s*s),m=h-a,g=Math.sqrt(u*u+l*l)-p,_=Math.sqrt(f*f+c*c+d*d),b=Math.sqrt(_)>Math.sqrt(Math.abs(m))+Math.sqrt(Math.abs(g))?Math.sqrt(_*_-m*m-g*g):0,v=1+.045*p,y=1+.015*p;return Math.sqrt((m/=r)*m+(g/=i*v)*g+(b/=n*y)*b)}function f(t,e){return l(u.apply(void 0,t),u.apply(void 0,e))}function c(t,e){return f(i(t),i(e))}function d(t){return t<e.DELTAE94_DIFF_STATUS.NA?"N/A":t<=e.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":t<=e.DELTAE94_DIFF_STATUS.CLOSE?"Close":t<=e.DELTAE94_DIFF_STATUS.GOOD?"Good":t<e.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"}function p(t,r,i){return(t<<2*e.SIGBITS)+(r<<e.SIGBITS)+i}Object.defineProperty(e,"__esModule",{value:!0}),e.getColorIndex=e.getColorDiffStatus=e.hexDiff=e.rgbDiff=e.deltaE94=e.rgbToCIELab=e.xyzToCIELab=e.rgbToXyz=e.hslToRgb=e.rgbToHsl=e.rgbToHex=e.hexToRgb=e.defer=e.RSHIFT=e.SIGBITS=e.DELTAE94_DIFF_STATUS=void 0,e.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},e.SIGBITS=5,e.RSHIFT=8-e.SIGBITS,e.defer=r,e.hexToRgb=i,e.rgbToHex=n,e.rgbToHsl=a,e.hslToRgb=o,e.rgbToXyz=s,e.xyzToCIELab=h,e.rgbToCIELab=u,e.deltaE94=l,e.rgbDiff=f,e.hexDiff=c,e.getColorDiffStatus=d,e.getColorIndex=p},81140:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(37314),h=o(r(72413)),u=a(r(72213)),l=a(r(61926)),f=a(r(99614)),c=a(r(1525)),d=r(87432),p=function(){function t(e,r){this._src=e,this.opts=d({},r,t.DefaultOpts),this.opts.combinedFilter=c.combineFilters(this.opts.filters)}return t.from=function(t){return new h.default(t)},t.prototype._process=function(t,e){var r=e.quantizer,i=e.generator;return t.scaleDown(e),t.applyFilter(e.combinedFilter).then(function(t){return r(t.data,e)}).then(function(t){return s.Swatch.applyFilter(t,e.combinedFilter)}).then(function(t){return Promise.resolve(i(t))})},t.prototype.palette=function(){return this.swatches()},t.prototype.swatches=function(){return this._palette},t.prototype.getPalette=function(t){var e=this,r=new this.opts.ImageClass,i=r.load(this._src).then(function(t){return e._process(t,e.opts)}).then(function(t){return e._palette=t,r.remove(),t},function(t){throw r.remove(),t});return t&&i.then(function(e){return t(null,e)},function(e){return t(e)}),i},t.Builder=h.default,t.Quantizer=l,t.Generator=f,t.Filter=c,t.Util=u,t.Swatch=s.Swatch,t.DefaultOpts={colorCount:64,quality:5,generator:f.Default,ImageClass:null,quantizer:l.MMCQ,filters:[c.Default]},t}();e.default=p},65141:(t,e)=>{"use strict";function r(t,e,r,n){var a=0,n=void 0===n?{}:n,o=void 0===n.loop?null:n.loop,s=void 0===n.palette?null:n.palette;if(e<=0||r<=0||e>65535||r>65535)throw Error("Width/Height invalid.");function h(t){var e=t.length;if(e<2||e>256||e&e-1)throw Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[a++]=71,t[a++]=73,t[a++]=70,t[a++]=56,t[a++]=57,t[a++]=97;var u=0,l=0;if(null!==s){for(var f=h(s);f>>=1;)++u;if(f=1<<u,--u,void 0!==n.background){if((l=n.background)>=f)throw Error("Background index out of range.");if(0===l)throw Error("Background index explicitly passed as 0.")}}if(t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=(null!==s?128:0)|u,t[a++]=l,t[a++]=0,null!==s)for(var c=0,d=s.length;c<d;++c){var p=s[c];t[a++]=p>>16&255,t[a++]=p>>8&255,t[a++]=255&p}if(null!==o){if(o<0||o>65535)throw Error("Loop count invalid.");t[a++]=33,t[a++]=255,t[a++]=11,t[a++]=78,t[a++]=69,t[a++]=84,t[a++]=83,t[a++]=67,t[a++]=65,t[a++]=80,t[a++]=69,t[a++]=50,t[a++]=46,t[a++]=48,t[a++]=3,t[a++]=1,t[a++]=255&o,t[a++]=o>>8&255,t[a++]=0}var m=!1;this.addFrame=function(e,r,n,o,u,l){if(!0===m&&(--a,m=!1),l=void 0===l?{}:l,e<0||r<0||e>65535||r>65535)throw Error("x/y invalid.");if(n<=0||o<=0||n>65535||o>65535)throw Error("Width/Height invalid.");if(u.length<n*o)throw Error("Not enough pixels for the frame size.");var f=!0,c=l.palette;if(null==c&&(f=!1,c=s),null==c)throw Error("Must supply either a local or global palette.");for(var d=h(c),p=0;d>>=1;)++p;d=1<<p;var g=void 0===l.delay?0:l.delay,_=void 0===l.disposal?0:l.disposal;if(_<0||_>3)throw Error("Disposal out of range.");var b=!1,v=0;if(void 0!==l.transparent&&null!==l.transparent&&(b=!0,(v=l.transparent)<0||v>=d))throw Error("Transparent color index.");if((0!==_||b||0!==g)&&(t[a++]=33,t[a++]=249,t[a++]=4,t[a++]=_<<2|(!0===b?1:0),t[a++]=255&g,t[a++]=g>>8&255,t[a++]=v,t[a++]=0),t[a++]=44,t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=255&n,t[a++]=n>>8&255,t[a++]=255&o,t[a++]=o>>8&255,t[a++]=!0===f?128|p-1:0,!0===f)for(var y=0,w=c.length;y<w;++y){var x=c[y];t[a++]=x>>16&255,t[a++]=x>>8&255,t[a++]=255&x}return a=i(t,a,p<2?2:p,u)},this.end=function(){return!1===m&&(t[a++]=59,m=!0),a},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(t){a=t}}function i(t,e,r,i){t[e++]=r;var n=e++,a=1<<r,o=a-1,s=a+1,h=s+1,u=r+1,l=0,f=0;function c(r){for(;l>=r;)t[e++]=255&f,f>>=8,l-=8,e===n+256&&(t[n]=255,n=e++)}function d(t){f|=t<<l,l+=u,c(8)}var p=i[0]&o,m={};d(a);for(var g=1,_=i.length;g<_;++g){var b=i[g]&o,v=p<<8|b,y=m[v];if(void 0===y){for(f|=p<<l,l+=u;l>=8;)t[e++]=255&f,f>>=8,l-=8,e===n+256&&(t[n]=255,n=e++);4096===h?(d(a),h=s+1,u=r+1,m={}):(h>=1<<u&&++u,m[v]=h++),p=b}else p=y}return d(p),d(s),c(1),n+1===e?t[n]=0:(t[n]=e-n-1,t[e++]=0),e}function n(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||(t[e++]+1&253)!=56||97!==t[e++])throw Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,n=t[e++],o=n>>7,s=1<<(7&n)+1;t[e++],t[e++];var h=null,u=null;o&&(h=e,u=s,e+=3*s);var l=!0,f=[],c=0,d=null,p=0,m=null;for(this.width=r,this.height=i;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){var g=t[e++];if(!(g>=0))throw Error("Invalid block size");if(0===g)break;e+=g}break;case 249:if(4!==t[e++]||0!==t[e+4])throw Error("Invalid graphics extension block.");var _=t[e++];c=t[e++]|t[e++]<<8,d=t[e++],(1&_)==0&&(d=null),p=_>>2&7,e++;break;case 254:for(;;){var g=t[e++];if(!(g>=0))throw Error("Invalid block size");if(0===g)break;e+=g}break;default:throw Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++],M=x>>7,E=x>>6&1,S=1<<(7&x)+1,k=h,I=u,P=!1;if(M){var P=!0;k=e,I=S,e+=3*S}var B=e;for(e++;;){var g=t[e++];if(!(g>=0))throw Error("Invalid block size");if(0===g)break;e+=g}f.push({x:b,y:v,width:y,height:w,has_local_palette:P,palette_offset:k,palette_size:I,data_offset:B,data_length:e-B,transparent_index:d,interlaced:!!E,delay:c,disposal:p});break;case 59:l=!1;break;default:throw Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return m},this.frameInfo=function(t){if(t<0||t>=f.length)throw Error("Frame index out of range.");return f[t]},this.decodeAndBlitFrameBGRA=function(e,i){var n=this.frameInfo(e),o=n.width*n.height,s=new Uint8Array(o);a(t,n.data_offset,s,o);var h=n.palette_offset,u=n.transparent_index;null===u&&(u=256);var l=n.width,f=r-l,c=l,d=(n.y*r+n.x)*4,p=((n.y+n.height)*r+n.x)*4,m=d,g=4*f;!0===n.interlaced&&(g+=28*r);for(var _=8,b=0,v=s.length;b<v;++b){var y=s[b];if(0===c&&(m+=g,c=l,m>=p&&(g=4*f+4*r*(_-1),m=d+(l+f)*(_<<1),_>>=1)),y===u)m+=4;else{var w=t[h+3*y],x=t[h+3*y+1],M=t[h+3*y+2];i[m++]=M,i[m++]=x,i[m++]=w,i[m++]=255}--c}},this.decodeAndBlitFrameRGBA=function(e,i){var n=this.frameInfo(e),o=n.width*n.height,s=new Uint8Array(o);a(t,n.data_offset,s,o);var h=n.palette_offset,u=n.transparent_index;null===u&&(u=256);var l=n.width,f=r-l,c=l,d=(n.y*r+n.x)*4,p=((n.y+n.height)*r+n.x)*4,m=d,g=4*f;!0===n.interlaced&&(g+=28*r);for(var _=8,b=0,v=s.length;b<v;++b){var y=s[b];if(0===c&&(m+=g,c=l,m>=p&&(g=4*f+4*r*(_-1),m=d+(l+f)*(_<<1),_>>=1)),y===u)m+=4;else{var w=t[h+3*y],x=t[h+3*y+1],M=t[h+3*y+2];i[m++]=w,i[m++]=x,i[m++]=M,i[m++]=255}--c}}}function a(t,e,r,i){for(var n=t[e++],a=1<<n,o=a+1,s=o+1,h=n+1,u=(1<<h)-1,l=0,f=0,c=0,d=t[e++],p=new Int32Array(4096),m=null;;){for(;l<16&&0!==d;)f|=t[e++]<<l,l+=8,1===d?d=t[e++]:--d;if(l<h)break;var g=f&u;if(f>>=h,l-=h,g===a){s=o+1,u=(1<<(h=n+1))-1,m=null;continue}if(g===o)break;for(var _=g<s?g:m,b=0,v=_;v>a;)v=p[v]>>8,++b;var y=v;if(c+b+(_!==g?1:0)>i){console.log("Warning, gif stream longer than expected.");return}r[c++]=y;var w=c+=b;for(_!==g&&(r[c++]=y),v=_;b--;)v=p[v],r[--w]=255&v,v>>=8;null!==m&&s<4096&&(p[s++]=m<<8|y,s>=u+1&&h<12&&(++h,u=u<<1|1)),m=g}return c!==i&&console.log("Warning, gif stream shorter than expected."),r}try{e.GifWriter=r,e.GifReader=n}catch(t){}},52207:(t,e,r)=>{"use strict";var i=r(97630).assign,n=r(98604),a=r(7194),o=r(74103),s={};i(s,n,a,o),t.exports=s},98604:(t,e,r)=>{"use strict";var i=r(42713),n=r(97630),a=r(1197),o=r(58115),s=r(46019),h=Object.prototype.toString,u=0,l=4,f=0,c=1,d=2,p=-1,m=0,g=8;function _(t){if(!(this instanceof _))return new _(t);this.options=n.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e,r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var u=i.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(u!==f)throw Error(o[u]);if(r.header&&i.deflateSetHeader(this.strm,r.header),r.dictionary){if(e="string"==typeof r.dictionary?a.string2buf(r.dictionary):"[object ArrayBuffer]"===h.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,(u=i.deflateSetDictionary(this.strm,e))!==f)throw Error(o[u]);this._dict_set=!0}}function b(t,e){var r=new _(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}function v(t,e){return(e=e||{}).raw=!0,b(t,e)}function y(t,e){return(e=e||{}).gzip=!0,b(t,e)}_.prototype.push=function(t,e){var r,o,s=this.strm,p=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?l:u,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===h.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new n.Buf8(p),s.next_out=0,s.avail_out=p),(r=i.deflate(s,o))!==c&&r!==f)return this.onEnd(r),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&(o===l||o===d))&&("string"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(s.output,s.next_out))):this.onData(n.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&r!==c);return o===l?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===f):(o===d&&(this.onEnd(f),s.avail_out=0),!0)},_.prototype.onData=function(t){this.chunks.push(t)},_.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=_,e.deflate=b,e.deflateRaw=v,e.gzip=y},7194:(t,e,r)=>{"use strict";var i=r(97057),n=r(97630),a=r(1197),o=r(74103),s=r(58115),h=r(46019),u=r(67591),l=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,e.windowBits);if(r!==o.Z_OK||(this.header=new u,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=i.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK)))throw Error(s[r])}function c(t,e){var r=new f(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}function d(t,e){return(e=e||{}).raw=!0,c(t,e)}f.prototype.push=function(t,e){var r,s,h,u,f,c=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?c.input=a.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?c.input=new Uint8Array(t):c.input=t,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new n.Buf8(d),c.next_out=0,c.avail_out=d),(r=i.inflate(c,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(r=i.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;c.next_out&&(0===c.avail_out||r===o.Z_STREAM_END||0===c.avail_in&&(s===o.Z_FINISH||s===o.Z_SYNC_FLUSH))&&("string"===this.options.to?(h=a.utf8border(c.output,c.next_out),u=c.next_out-h,f=a.buf2string(c.output,h),c.next_out=u,c.avail_out=d-u,u&&n.arraySet(c.output,c.output,h,u,0),this.onData(f)):this.onData(n.shrinkBuf(c.output,c.next_out))),0===c.avail_in&&0===c.avail_out&&(m=!0)}while((c.avail_in>0||0===c.avail_out)&&r!==o.Z_STREAM_END);return(r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH)?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):(s===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),c.avail_out=0),!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=f,e.inflate=c,e.inflateRaw=d,e.ungzip=c},97630:(t,e)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+i),n);return}for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){var e,r,i,n,a,o;for(e=0,i=0,r=t.length;e<r;e++)i+=t[e].length;for(e=0,o=new Uint8Array(i),n=0,r=t.length;e<r;e++)a=t[e],o.set(a,n),n+=a.length;return o}},a={arraySet:function(t,e,r,i,n){for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},1197:(t,e,r)=>{"use strict";var i=r(97630),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function h(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r}o[254]=o[254]=1,e.string2buf=function(t){var e,r,n,a,o,s=t.length,h=0;for(a=0;a<s;a++)(64512&(r=t.charCodeAt(a)))==55296&&a+1<s&&(64512&(n=t.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),a++),h+=r<128?1:r<2048?2:r<65536?3:4;for(o=0,e=new i.Buf8(h),a=0;o<h;a++)(64512&(r=t.charCodeAt(a)))==55296&&a+1<s&&(64512&(n=t.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?e[o++]=r:(r<2048?e[o++]=192|r>>>6:(r<65536?e[o++]=224|r>>>12:(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63),e[o++]=128|r>>>6&63),e[o++]=128|63&r);return e},e.buf2binstring=function(t){return h(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,i,n,a,s=e||t.length,u=Array(2*s);for(i=0,r=0;r<s;){if((n=t[r++])<128){u[i++]=n;continue}if((a=o[n])>4){u[i++]=65533,r+=a-1;continue}for(n&=2===a?31:3===a?15:7;a>1&&r<s;)n=n<<6|63&t[r++],a--;if(a>1){u[i++]=65533;continue}n<65536?u[i++]=n:(n-=65536,u[i++]=55296|n>>10&1023,u[i++]=56320|1023&n)}return h(u,i)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&(192&t[r])==128;)r--;return r<0||0===r?e:r+o[t[r]]>e?r:e}},26151:t=>{"use strict";function e(t,e,r,i){for(var n=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){o=r>2e3?2e3:r,r-=o;do a=a+(n=n+e[i++]|0)|0;while(--o);n%=65521,a%=65521}return n|a<<16|0}t.exports=e},74103:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},86919:t=>{"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();function r(t,r,i,n){var a=e,o=n+i;t^=-1;for(var s=n;s<o;s++)t=t>>>8^a[(t^r[s])&255];return -1^t}t.exports=r},42713:(t,e,r)=>{"use strict";var i,n=r(97630),a=r(46922),o=r(26151),s=r(86919),h=r(58115),u=0,l=1,f=3,c=4,d=5,p=0,m=1,g=-2,_=-3,b=-5,v=-1,y=1,w=2,x=3,M=4,E=0,S=2,k=8,I=9,P=15,B=8,A=286,T=30,O=19,C=573,L=15,D=3,z=258,R=262,U=32,F=42,j=69,N=73,G=91,H=103,W=113,q=666,V=1,Y=2,Z=3,J=4,X=3;function Q(t,e){return t.msg=h[e],e}function K(t){return(t<<1)-(t>4?9:0)}function $(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(n.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function te(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function tr(t,e){t.pending_buf[t.pending++]=e}function ti(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function tn(t,e,r,i){var a=t.avail_in;return(a>i&&(a=i),0===a)?0:(t.avail_in-=a,n.arraySet(e,t.input,t.next_in,a,r),1===t.state.wrap?t.adler=o(t.adler,e,a,r):2===t.state.wrap&&(t.adler=s(t.adler,e,a,r)),t.next_in+=a,t.total_in+=a,a)}function ta(t,e){var r,i,n=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,h=t.strstart>t.w_size-R?t.strstart-(t.w_size-R):0,u=t.window,l=t.w_mask,f=t.prev,c=t.strstart+z,d=u[a+o-1],p=u[a+o];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(r=e)+o]!==p||u[r+o-1]!==d||u[r]!==u[a]||u[++r]!==u[a+1])continue;a+=2,r++;do;while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<c);if(i=z-(c-a),a=c-z,i>o){if(t.match_start=e,o=i,i>=s)break;d=u[a+o-1],p=u[a+o]}}while((e=f[e&l])>h&&0!=--n);return o<=t.lookahead?o:t.lookahead}function to(t){var e,r,i,a,o,s=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-R)){n.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=r=t.hash_size;do i=t.head[--e],t.head[e]=i>=s?i-s:0;while(--r);e=r=s;do i=t.prev[--e],t.prev[e]=i>=s?i-s:0;while(--r);a+=s}if(0===t.strm.avail_in)break;if(r=tn(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=r,t.lookahead+t.insert>=D)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+D-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<D)););}while(t.lookahead<R&&0!==t.strm.avail_in)}function ts(t,e){for(var r,i;;){if(t.lookahead<R){if(to(t),t.lookahead<R&&e===u)return V;if(0===t.lookahead)break}if(r=0,t.lookahead>=D&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-R&&(t.match_length=ta(t,r)),t.match_length>=D){if(i=a._tr_tally(t,t.strstart-t.match_start,t.match_length-D),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=D){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask}else i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(te(t,!1),0===t.strm.avail_out))return V}return(t.insert=t.strstart<D-1?t.strstart:D-1,e===c)?(te(t,!0),0===t.strm.avail_out)?Z:J:t.last_lit&&(te(t,!1),0===t.strm.avail_out)?V:Y}function th(t,e){for(var r,i,n;;){if(t.lookahead<R){if(to(t),t.lookahead<R&&e===u)return V;if(0===t.lookahead)break}if(r=0,t.lookahead>=D&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=D-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-R&&(t.match_length=ta(t,r),t.match_length<=5&&(t.strategy===y||t.match_length===D&&t.strstart-t.match_start>4096)&&(t.match_length=D-1)),t.prev_length>=D&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-D,i=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-D),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!=--t.prev_length);if(t.match_available=0,t.match_length=D-1,t.strstart++,i&&(te(t,!1),0===t.strm.avail_out))return V}else if(t.match_available){if((i=a._tr_tally(t,0,t.window[t.strstart-1]))&&te(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return V}else t.match_available=1,t.strstart++,t.lookahead--}return(t.match_available&&(i=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<D-1?t.strstart:D-1,e===c)?(te(t,!0),0===t.strm.avail_out)?Z:J:t.last_lit&&(te(t,!1),0===t.strm.avail_out)?V:Y}function tu(t,e){for(var r,i,n,o,s=t.window;;){if(t.lookahead<=z){if(to(t),t.lookahead<=z&&e===u)return V;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=D&&t.strstart>0&&(i=s[n=t.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){o=t.strstart+z;do;while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<o);t.match_length=z-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=D?(r=a._tr_tally(t,1,t.match_length-D),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(te(t,!1),0===t.strm.avail_out))return V}return(t.insert=0,e===c)?(te(t,!0),0===t.strm.avail_out)?Z:J:t.last_lit&&(te(t,!1),0===t.strm.avail_out)?V:Y}function tl(t,e){for(var r;;){if(0===t.lookahead&&(to(t),0===t.lookahead)){if(e===u)return V;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(te(t,!1),0===t.strm.avail_out))return V}return(t.insert=0,e===c)?(te(t,!0),0===t.strm.avail_out)?Z:J:t.last_lit&&(te(t,!1),0===t.strm.avail_out)?V:Y}function tf(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function tc(t){t.window_size=2*t.w_size,$(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=D-1,t.match_available=0,t.ins_h=0}function td(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*C),this.dyn_dtree=new n.Buf16((2*T+1)*2),this.bl_tree=new n.Buf16((2*O+1)*2),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(L+1),this.heap=new n.Buf16(2*A+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*A+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function tp(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=S,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?F:W,t.adler=2===e.wrap?0:1,e.last_flush=u,a._tr_init(e),p):Q(t,g)}function tm(t){var e=tp(t);return e===p&&tc(t.state),e}function tg(t,e){return t&&t.state&&2===t.state.wrap?(t.state.gzhead=e,p):g}function t_(t,e,r,i,a,o){if(!t)return g;var s=1;if(e===v&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>I||r!==k||i<8||i>15||e<0||e>9||o<0||o>M)return Q(t,g);8===i&&(i=9);var h=new td;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=i,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+D-1)/D),h.window=new n.Buf8(2*h.w_size),h.head=new n.Buf16(h.hash_size),h.prev=new n.Buf16(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new n.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=o,h.method=r,tm(t)}function tb(t,e){return t_(t,e,k,P,B,E)}function tv(t,e){if(!t||!t.state||e>d||e<0)return t?Q(t,g):g;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===q&&e!==c)return Q(t,0===t.avail_out?b:g);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===F){if(2===n.wrap)t.adler=0,tr(n,31),tr(n,139),tr(n,8),n.gzhead?(tr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),tr(n,255&n.gzhead.time),tr(n,n.gzhead.time>>8&255),tr(n,n.gzhead.time>>16&255),tr(n,n.gzhead.time>>24&255),tr(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),tr(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(tr(n,255&n.gzhead.extra.length),tr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=s(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=j):(tr(n,0),tr(n,0),tr(n,0),tr(n,0),tr(n,0),tr(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),tr(n,X),n.status=W);else{var r,n,o,h,_=k+(n.w_bits-8<<4)<<8,v=-1;_|=(v=n.strategy>=w||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(_|=U),_+=31-_%31,n.status=W,ti(n,_),0!==n.strstart&&(ti(n,t.adler>>>16),ti(n,65535&t.adler)),t.adler=1}}if(n.status===j){if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),tt(t),o=n.pending,n.pending!==n.pending_buf_size));)tr(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=N)}else n.status=N}if(n.status===N){if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),tt(t),o=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,tr(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),0===h&&(n.gzindex=0,n.status=G)}else n.status=G}if(n.status===G){if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),tt(t),o=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,tr(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),0===h&&(n.status=H)}else n.status=H}if(n.status===H&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&tt(t),n.pending+2<=n.pending_buf_size&&(tr(n,255&t.adler),tr(n,t.adler>>8&255),t.adler=0,n.status=W)):n.status=W),0!==n.pending){if(tt(t),0===t.avail_out)return n.last_flush=-1,p}else if(0===t.avail_in&&K(e)<=K(r)&&e!==c)return Q(t,b);if(n.status===q&&0!==t.avail_in)return Q(t,b);if(0!==t.avail_in||0!==n.lookahead||e!==u&&n.status!==q){var y=n.strategy===w?tl(n,e):n.strategy===x?tu(n,e):i[n.level].func(n,e);if((y===Z||y===J)&&(n.status=q),y===V||y===Z)return 0===t.avail_out&&(n.last_flush=-1),p;if(y===Y&&(e===l?a._tr_align(n):e!==d&&(a._tr_stored_block(n,0,0,!1),e===f&&($(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),tt(t),0===t.avail_out))return n.last_flush=-1,p}return e!==c?p:n.wrap<=0?m:(2===n.wrap?(tr(n,255&t.adler),tr(n,t.adler>>8&255),tr(n,t.adler>>16&255),tr(n,t.adler>>24&255),tr(n,255&t.total_in),tr(n,t.total_in>>8&255),tr(n,t.total_in>>16&255),tr(n,t.total_in>>24&255)):(ti(n,t.adler>>>16),ti(n,65535&t.adler)),tt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?p:m)}function ty(t){var e;return t&&t.state?(e=t.state.status)!==F&&e!==j&&e!==N&&e!==G&&e!==H&&e!==W&&e!==q?Q(t,g):(t.state=null,e===W?Q(t,_):p):g}function tw(t,e){var r,i,a,s,h,u,l,f,c=e.length;if(!t||!t.state||2===(s=(r=t.state).wrap)||1===s&&r.status!==F||r.lookahead)return g;for(1===s&&(t.adler=o(t.adler,e,c,0)),r.wrap=0,c>=r.w_size&&(0===s&&($(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new n.Buf8(r.w_size),n.arraySet(f,e,c-r.w_size,r.w_size,0),e=f,c=r.w_size),h=t.avail_in,u=t.next_in,l=t.input,t.avail_in=c,t.next_in=0,t.input=e,to(r);r.lookahead>=D;){i=r.strstart,a=r.lookahead-(D-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+D-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--a);r.strstart=i,r.lookahead=D-1,to(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=D-1,r.match_available=0,t.next_in=u,t.input=l,t.avail_in=h,r.wrap=s,p}i=[new tf(0,0,0,0,function(t,e){var r=65535;for(65535>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(to(t),0===t.lookahead&&e===u)return V;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,te(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-R&&(te(t,!1),0===t.strm.avail_out))return V}return(t.insert=0,e===c)?(te(t,!0),0===t.strm.avail_out)?Z:J:(t.strstart>t.block_start&&(te(t,!1),t.strm.avail_out),V)}),new tf(4,4,8,4,ts),new tf(4,5,16,8,ts),new tf(4,6,32,32,ts),new tf(4,4,16,16,th),new tf(8,16,32,32,th),new tf(8,16,128,128,th),new tf(8,32,128,256,th),new tf(32,128,258,1024,th),new tf(32,258,258,4096,th)],e.deflateInit=tb,e.deflateInit2=t_,e.deflateReset=tm,e.deflateResetKeep=tp,e.deflateSetHeader=tg,e.deflate=tv,e.deflateEnd=ty,e.deflateSetDictionary=tw,e.deflateInfo="pako deflate (from Nodeca project)"},67591:t=>{"use strict";function e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=e},5638:t=>{"use strict";var e=30,r=12;t.exports=function(t,i){var n,a,o,s,h,u,l,f,c,d,p,m,g,_,b,v,y,w,x,M,E,S,k,I,P;n=t.state,a=t.next_in,I=t.input,o=a+(t.avail_in-5),s=t.next_out,P=t.output,h=s-(i-t.avail_out),u=s+(t.avail_out-257),l=n.dmax,f=n.wsize,c=n.whave,d=n.wnext,p=n.window,m=n.hold,g=n.bits,_=n.lencode,b=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do for(g<15&&(m+=I[a++]<<g,g+=8,m+=I[a++]<<g,g+=8),w=_[m&v];;){if(m>>>=x=w>>>24,g-=x,0==(x=w>>>16&255))P[s++]=65535&w;else if(16&x)for(M=65535&w,(x&=15)&&(g<x&&(m+=I[a++]<<g,g+=8),M+=m&(1<<x)-1,m>>>=x,g-=x),g<15&&(m+=I[a++]<<g,g+=8,m+=I[a++]<<g,g+=8),w=b[m&y];;){if(m>>>=x=w>>>24,g-=x,16&(x=w>>>16&255)){if(E=65535&w,g<(x&=15)&&(m+=I[a++]<<g,(g+=8)<x&&(m+=I[a++]<<g,g+=8)),(E+=m&(1<<x)-1)>l){t.msg="invalid distance too far back",n.mode=e;break t}if(m>>>=x,g-=x,E>(x=s-h)){if((x=E-x)>c&&n.sane){t.msg="invalid distance too far back",n.mode=e;break t}if(S=0,k=p,0===d){if(S+=f-x,x<M){M-=x;do P[s++]=p[S++];while(--x);S=s-E,k=P}}else if(d<x){if(S+=f+d-x,(x-=d)<M){M-=x;do P[s++]=p[S++];while(--x);if(S=0,d<M){M-=x=d;do P[s++]=p[S++];while(--x);S=s-E,k=P}}}else if(S+=d-x,x<M){M-=x;do P[s++]=p[S++];while(--x);S=s-E,k=P}for(;M>2;)P[s++]=k[S++],P[s++]=k[S++],P[s++]=k[S++],M-=3;M&&(P[s++]=k[S++],M>1&&(P[s++]=k[S++]))}else{S=s-E;do P[s++]=P[S++],P[s++]=P[S++],P[s++]=P[S++],M-=3;while(M>2);M&&(P[s++]=P[S++],M>1&&(P[s++]=P[S++]))}}else if((64&x)==0){w=b[(65535&w)+(m&(1<<x)-1)];continue}else{t.msg="invalid distance code",n.mode=e;break t}break}else if((64&x)==0){w=_[(65535&w)+(m&(1<<x)-1)];continue}else if(32&x){n.mode=r;break t}else{t.msg="invalid literal/length code",n.mode=e;break t}break}while(a<o&&s<u);a-=M=g>>3,g-=M<<3,m&=(1<<g)-1,t.next_in=a,t.next_out=s,t.avail_in=a<o?5+(o-a):5-(a-o),t.avail_out=s<u?257+(u-s):257-(s-u),n.hold=m,n.bits=g}},97057:(t,e,r)=>{"use strict";var i,n,a=r(97630),o=r(26151),s=r(86919),h=r(5638),u=r(28009),l=0,f=1,c=2,d=4,p=5,m=6,g=0,_=1,b=2,v=-2,y=-3,w=-4,x=-5,M=8,E=1,S=2,k=3,I=4,P=5,B=6,A=7,T=8,O=9,C=10,L=11,D=12,z=13,R=14,U=15,F=16,j=17,N=18,G=19,H=20,W=21,q=22,V=23,Y=24,Z=25,J=26,X=27,Q=28,K=29,$=30,tt=31,te=852,tr=592,ti=15;function tn(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function ta(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function to(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=E,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new a.Buf32(te),e.distcode=e.distdyn=new a.Buf32(tr),e.sane=1,e.back=-1,g):v}function ts(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,to(t)):v}function th(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?v:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,ts(t)):v}function tu(t,e){var r,i;return t?(i=new ta,t.state=i,i.window=null,(r=th(t,e))!==g&&(t.state=null),r):v}function tl(t){return tu(t,ti)}var tf=!0;function tc(t){if(tf){var e;for(i=new a.Buf32(512),n=new a.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(u(f,t.lens,0,288,i,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;u(c,t.lens,0,32,n,0,t.work,{bits:5}),tf=!1}t.lencode=i,t.lenbits=9,t.distcode=n,t.distbits=5}function td(t,e,r,i){var n,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new a.Buf8(o.wsize)),i>=o.wsize?(a.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((n=o.wsize-o.wnext)>i&&(n=i),a.arraySet(o.window,e,r-i,n,o.wnext),(i-=n)?(a.arraySet(o.window,e,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0}function tp(t,e){var r,i,n,te,tr,ti,ta,to,ts,th,tu,tl,tf,tp,tm,tg,t_,tb,tv,ty,tw,tx,tM,tE,tS=0,tk=new a.Buf8(4),tI=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return v;(r=t.state).mode===D&&(r.mode=z),tr=t.next_out,n=t.output,ta=t.avail_out,te=t.next_in,i=t.input,ti=t.avail_in,to=r.hold,ts=r.bits,th=ti,tu=ta,tx=g;e:for(;;)switch(r.mode){case E:if(0===r.wrap){r.mode=z;break}for(;ts<16;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if(2&r.wrap&&35615===to){r.check=0,tk[0]=255&to,tk[1]=to>>>8&255,r.check=s(r.check,tk,2,0),to=0,ts=0,r.mode=S;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&to)<<8)+(to>>8))%31){t.msg="incorrect header check",r.mode=$;break}if((15&to)!==M){t.msg="unknown compression method",r.mode=$;break}if(to>>>=4,ts-=4,tw=(15&to)+8,0===r.wbits)r.wbits=tw;else if(tw>r.wbits){t.msg="invalid window size",r.mode=$;break}r.dmax=1<<tw,t.adler=r.check=1,r.mode=512&to?C:D,to=0,ts=0;break;case S:for(;ts<16;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if(r.flags=to,(255&r.flags)!==M){t.msg="unknown compression method",r.mode=$;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=$;break}r.head&&(r.head.text=to>>8&1),512&r.flags&&(tk[0]=255&to,tk[1]=to>>>8&255,r.check=s(r.check,tk,2,0)),to=0,ts=0,r.mode=k;case k:for(;ts<32;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}r.head&&(r.head.time=to),512&r.flags&&(tk[0]=255&to,tk[1]=to>>>8&255,tk[2]=to>>>16&255,tk[3]=to>>>24&255,r.check=s(r.check,tk,4,0)),to=0,ts=0,r.mode=I;case I:for(;ts<16;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}r.head&&(r.head.xflags=255&to,r.head.os=to>>8),512&r.flags&&(tk[0]=255&to,tk[1]=to>>>8&255,r.check=s(r.check,tk,2,0)),to=0,ts=0,r.mode=P;case P:if(1024&r.flags){for(;ts<16;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}r.length=to,r.head&&(r.head.extra_len=to),512&r.flags&&(tk[0]=255&to,tk[1]=to>>>8&255,r.check=s(r.check,tk,2,0)),to=0,ts=0}else r.head&&(r.head.extra=null);r.mode=B;case B:if(1024&r.flags&&((tl=r.length)>ti&&(tl=ti),tl&&(r.head&&(tw=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),a.arraySet(r.head.extra,i,te,tl,tw)),512&r.flags&&(r.check=s(r.check,i,tl,te)),ti-=tl,te+=tl,r.length-=tl),r.length))break e;r.length=0,r.mode=A;case A:if(2048&r.flags){if(0===ti)break e;tl=0;do tw=i[te+tl++],r.head&&tw&&r.length<65536&&(r.head.name+=String.fromCharCode(tw));while(tw&&tl<ti);if(512&r.flags&&(r.check=s(r.check,i,tl,te)),ti-=tl,te+=tl,tw)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=T;case T:if(4096&r.flags){if(0===ti)break e;tl=0;do tw=i[te+tl++],r.head&&tw&&r.length<65536&&(r.head.comment+=String.fromCharCode(tw));while(tw&&tl<ti);if(512&r.flags&&(r.check=s(r.check,i,tl,te)),ti-=tl,te+=tl,tw)break e}else r.head&&(r.head.comment=null);r.mode=O;case O:if(512&r.flags){for(;ts<16;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if(to!==(65535&r.check)){t.msg="header crc mismatch",r.mode=$;break}to=0,ts=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=D;break;case C:for(;ts<32;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}t.adler=r.check=tn(to),to=0,ts=0,r.mode=L;case L:if(0===r.havedict)return t.next_out=tr,t.avail_out=ta,t.next_in=te,t.avail_in=ti,r.hold=to,r.bits=ts,b;t.adler=r.check=1,r.mode=D;case D:if(e===p||e===m)break e;case z:if(r.last){to>>>=7&ts,ts-=7&ts,r.mode=X;break}for(;ts<3;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}switch(r.last=1&to,ts-=1,3&(to>>>=1)){case 0:r.mode=R;break;case 1:if(tc(r),r.mode=H,e===m){to>>>=2,ts-=2;break e}break;case 2:r.mode=j;break;case 3:t.msg="invalid block type",r.mode=$}to>>>=2,ts-=2;break;case R:for(to>>>=7&ts,ts-=7&ts;ts<32;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if((65535&to)!=(to>>>16^65535)){t.msg="invalid stored block lengths",r.mode=$;break}if(r.length=65535&to,to=0,ts=0,r.mode=U,e===m)break e;case U:r.mode=F;case F:if(tl=r.length){if(tl>ti&&(tl=ti),tl>ta&&(tl=ta),0===tl)break e;a.arraySet(n,i,te,tl,tr),ti-=tl,te+=tl,ta-=tl,tr+=tl,r.length-=tl;break}r.mode=D;break;case j:for(;ts<14;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if(r.nlen=(31&to)+257,to>>>=5,ts-=5,r.ndist=(31&to)+1,to>>>=5,ts-=5,r.ncode=(15&to)+4,to>>>=4,ts-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=$;break}r.have=0,r.mode=N;case N:for(;r.have<r.ncode;){for(;ts<3;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}r.lens[tI[r.have++]]=7&to,to>>>=3,ts-=3}for(;r.have<19;)r.lens[tI[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,tM={bits:r.lenbits},tx=u(l,r.lens,0,19,r.lencode,0,r.work,tM),r.lenbits=tM.bits,tx){t.msg="invalid code lengths set",r.mode=$;break}r.have=0,r.mode=G;case G:for(;r.have<r.nlen+r.ndist;){for(;tm=(tS=r.lencode[to&(1<<r.lenbits)-1])>>>24,tg=tS>>>16&255,t_=65535&tS,!(tm<=ts);){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if(t_<16)to>>>=tm,ts-=tm,r.lens[r.have++]=t_;else{if(16===t_){for(tE=tm+2;ts<tE;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if(to>>>=tm,ts-=tm,0===r.have){t.msg="invalid bit length repeat",r.mode=$;break}tw=r.lens[r.have-1],tl=3+(3&to),to>>>=2,ts-=2}else if(17===t_){for(tE=tm+3;ts<tE;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}to>>>=tm,ts-=tm,tw=0,tl=3+(7&to),to>>>=3,ts-=3}else{for(tE=tm+7;ts<tE;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}to>>>=tm,ts-=tm,tw=0,tl=11+(127&to),to>>>=7,ts-=7}if(r.have+tl>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=$;break}for(;tl--;)r.lens[r.have++]=tw}}if(r.mode===$)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=$;break}if(r.lenbits=9,tM={bits:r.lenbits},tx=u(f,r.lens,0,r.nlen,r.lencode,0,r.work,tM),r.lenbits=tM.bits,tx){t.msg="invalid literal/lengths set",r.mode=$;break}if(r.distbits=6,r.distcode=r.distdyn,tM={bits:r.distbits},tx=u(c,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,tM),r.distbits=tM.bits,tx){t.msg="invalid distances set",r.mode=$;break}if(r.mode=H,e===m)break e;case H:r.mode=W;case W:if(ti>=6&&ta>=258){t.next_out=tr,t.avail_out=ta,t.next_in=te,t.avail_in=ti,r.hold=to,r.bits=ts,h(t,tu),tr=t.next_out,n=t.output,ta=t.avail_out,te=t.next_in,i=t.input,ti=t.avail_in,to=r.hold,ts=r.bits,r.mode===D&&(r.back=-1);break}for(r.back=0;tm=(tS=r.lencode[to&(1<<r.lenbits)-1])>>>24,tg=tS>>>16&255,t_=65535&tS,!(tm<=ts);){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if(tg&&(240&tg)==0){for(tb=tm,tv=tg,ty=t_;tm=(tS=r.lencode[ty+((to&(1<<tb+tv)-1)>>tb)])>>>24,tg=tS>>>16&255,t_=65535&tS,!(tb+tm<=ts);){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}to>>>=tb,ts-=tb,r.back+=tb}if(to>>>=tm,ts-=tm,r.back+=tm,r.length=t_,0===tg){r.mode=J;break}if(32&tg){r.back=-1,r.mode=D;break}if(64&tg){t.msg="invalid literal/length code",r.mode=$;break}r.extra=15&tg,r.mode=q;case q:if(r.extra){for(tE=r.extra;ts<tE;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}r.length+=to&(1<<r.extra)-1,to>>>=r.extra,ts-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=V;case V:for(;tm=(tS=r.distcode[to&(1<<r.distbits)-1])>>>24,tg=tS>>>16&255,t_=65535&tS,!(tm<=ts);){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if((240&tg)==0){for(tb=tm,tv=tg,ty=t_;tm=(tS=r.distcode[ty+((to&(1<<tb+tv)-1)>>tb)])>>>24,tg=tS>>>16&255,t_=65535&tS,!(tb+tm<=ts);){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}to>>>=tb,ts-=tb,r.back+=tb}if(to>>>=tm,ts-=tm,r.back+=tm,64&tg){t.msg="invalid distance code",r.mode=$;break}r.offset=t_,r.extra=15&tg,r.mode=Y;case Y:if(r.extra){for(tE=r.extra;ts<tE;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}r.offset+=to&(1<<r.extra)-1,to>>>=r.extra,ts-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=$;break}r.mode=Z;case Z:if(0===ta)break e;if(tl=tu-ta,r.offset>tl){if((tl=r.offset-tl)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=$;break}tl>r.wnext?(tl-=r.wnext,tf=r.wsize-tl):tf=r.wnext-tl,tl>r.length&&(tl=r.length),tp=r.window}else tp=n,tf=tr-r.offset,tl=r.length;tl>ta&&(tl=ta),ta-=tl,r.length-=tl;do n[tr++]=tp[tf++];while(--tl);0===r.length&&(r.mode=W);break;case J:if(0===ta)break e;n[tr++]=r.length,ta--,r.mode=W;break;case X:if(r.wrap){for(;ts<32;){if(0===ti)break e;ti--,to|=i[te++]<<ts,ts+=8}if(tu-=ta,t.total_out+=tu,r.total+=tu,tu&&(t.adler=r.check=r.flags?s(r.check,n,tu,tr-tu):o(r.check,n,tu,tr-tu)),tu=ta,(r.flags?to:tn(to))!==r.check){t.msg="incorrect data check",r.mode=$;break}to=0,ts=0}r.mode=Q;case Q:if(r.wrap&&r.flags){for(;ts<32;){if(0===ti)break e;ti--,to+=i[te++]<<ts,ts+=8}if(to!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=$;break}to=0,ts=0}r.mode=K;case K:tx=_;break e;case $:tx=y;break e;case tt:return w;default:return v}return(t.next_out=tr,t.avail_out=ta,t.next_in=te,t.avail_in=ti,r.hold=to,r.bits=ts,(r.wsize||tu!==t.avail_out&&r.mode<$&&(r.mode<X||e!==d))&&td(t,t.output,t.next_out,tu-t.avail_out))?(r.mode=tt,w):(th-=t.avail_in,tu-=t.avail_out,t.total_in+=th,t.total_out+=tu,r.total+=tu,r.wrap&&tu&&(t.adler=r.check=r.flags?s(r.check,n,tu,t.next_out-tu):o(r.check,n,tu,t.next_out-tu)),t.data_type=r.bits+(r.last?64:0)+(r.mode===D?128:0)+(r.mode===H||r.mode===U?256:0),(0===th&&0===tu||e===d)&&tx===g&&(tx=x),tx)}function tm(t){if(!t||!t.state)return v;var e=t.state;return e.window&&(e.window=null),t.state=null,g}function tg(t,e){var r;return t&&t.state&&(2&(r=t.state).wrap)!=0?(r.head=e,e.done=!1,g):v}function t_(t,e){var r,i,n=e.length;return t&&t.state&&(0===(r=t.state).wrap||r.mode===L)?r.mode===L&&(i=o(i=1,e,n,0))!==r.check?y:td(t,e,n,n)?(r.mode=tt,w):(r.havedict=1,g):v}e.inflateReset=ts,e.inflateReset2=th,e.inflateResetKeep=to,e.inflateInit=tl,e.inflateInit2=tu,e.inflate=tp,e.inflateEnd=tm,e.inflateGetHeader=tg,e.inflateSetDictionary=t_,e.inflateInfo="pako inflate (from Nodeca project)"},28009:(t,e,r)=>{"use strict";var i=r(97630),n=15,a=852,o=592,s=0,h=1,u=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,p,m,g,_,b){var v,y,w,x,M,E,S,k,I,P=b.bits,B=0,A=0,T=0,O=0,C=0,L=0,D=0,z=0,R=0,U=0,F=null,j=0,N=new i.Buf16(n+1),G=new i.Buf16(n+1),H=null,W=0;for(B=0;B<=n;B++)N[B]=0;for(A=0;A<p;A++)N[e[r+A]]++;for(C=P,O=n;O>=1&&0===N[O];O--);if(C>O&&(C=O),0===O)return m[g++]=20971520,m[g++]=20971520,b.bits=1,0;for(T=1;T<O&&0===N[T];T++);for(C<T&&(C=T),z=1,B=1;B<=n;B++)if(z<<=1,(z-=N[B])<0)return -1;if(z>0&&(t===s||1!==O))return -1;for(B=1,G[1]=0;B<n;B++)G[B+1]=G[B]+N[B];for(A=0;A<p;A++)0!==e[r+A]&&(_[G[e[r+A]]++]=A);if(t===s?(F=H=_,E=19):t===h?(F=l,j-=257,H=f,W-=257,E=256):(F=c,H=d,E=-1),U=0,A=0,B=T,M=g,L=C,D=0,w=-1,x=(R=1<<C)-1,t===h&&R>a||t===u&&R>o)return 1;for(;;){S=B-D,_[A]<E?(k=0,I=_[A]):_[A]>E?(k=H[W+_[A]],I=F[j+_[A]]):(k=96,I=0),v=1<<B-D,T=y=1<<L;do m[M+(U>>D)+(y-=v)]=S<<24|k<<16|I|0;while(0!==y);for(v=1<<B-1;U&v;)v>>=1;if(0!==v?(U&=v-1,U+=v):U=0,A++,0==--N[B]){if(B===O)break;B=e[r+_[A]]}if(B>C&&(U&x)!==w){for(0===D&&(D=C),M+=T,z=1<<(L=B-D);L+D<O&&!((z-=N[L+D])<=0);)L++,z<<=1;if(R+=1<<L,t===h&&R>a||t===u&&R>o)return 1;m[w=U&x]=C<<24|L<<16|M-g|0}}return 0!==U&&(m[M+U]=B-D<<24|4194304),b.bits=C,0}},58115:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},46922:(t,e,r)=>{"use strict";var i,n,a,o=r(97630),s=4,h=0,u=1,l=2;function f(t){for(var e=t.length;--e>=0;)t[e]=0}var c=0,d=1,p=2,m=3,g=258,_=29,b=256,v=286,y=30,w=19,x=573,M=15,E=16,S=7,k=256,I=16,P=17,B=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=512,D=Array(576);f(D);var z=Array(2*y);f(z);var R=Array(L);f(R);var U=Array(g-m+1);f(U);var F=Array(_);f(F);var j=Array(y);function N(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function G(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function H(t){return t<256?R[t]:R[256+(t>>>7)]}function W(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function q(t,e,r){t.bi_valid>E-r?(t.bi_buf|=e<<t.bi_valid&65535,W(t,t.bi_buf),t.bi_buf=e>>E-t.bi_valid,t.bi_valid+=r-E):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function V(t,e,r){q(t,r[2*e],r[2*e+1])}function Y(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function Z(t){16===t.bi_valid?(W(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function J(t,e){var r,i,n,a,o,s,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=M;a++)t.bl_count[a]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<x;r++)(a=h[2*h[2*(i=t.heap[r])+1]+1]+1)>p&&(a=p,m++),h[2*i+1]=a,!(i>u)&&(t.bl_count[a]++,o=0,i>=d&&(o=c[i-d]),s=h[2*i],t.opt_len+=s*(a+o),f&&(t.static_len+=s*(l[2*i+1]+o)));if(0!==m){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(i=t.bl_count[a];0!==i;)!((n=t.heap[--r])>u)&&(h[2*n+1]!==a&&(t.opt_len+=(a-h[2*n+1])*h[2*n],h[2*n+1]=a),i--)}}function X(t,e,r){var i,n,a=Array(M+1),o=0;for(i=1;i<=M;i++)a[i]=o=o+r[i-1]<<1;for(n=0;n<=e;n++){var s=t[2*n+1];0!==s&&(t[2*n]=Y(a[s]++,s))}}function Q(){var t,e,r,o,s,h=Array(M+1);for(o=0,r=0;o<_-1;o++)for(t=0,F[o]=r;t<1<<A[o];t++)U[r++]=o;for(U[r-1]=o,s=0,o=0;o<16;o++)for(t=0,j[o]=s;t<1<<T[o];t++)R[s++]=o;for(s>>=7;o<y;o++)for(t=0,j[o]=s<<7;t<1<<T[o]-7;t++)R[256+s++]=o;for(e=0;e<=M;e++)h[e]=0;for(t=0;t<=143;)D[2*t+1]=8,t++,h[8]++;for(;t<=255;)D[2*t+1]=9,t++,h[9]++;for(;t<=279;)D[2*t+1]=7,t++,h[7]++;for(;t<=287;)D[2*t+1]=8,t++,h[8]++;for(X(D,v+1,h),t=0;t<y;t++)z[2*t+1]=5,z[2*t]=Y(t,5);i=new N(D,A,b+1,v,M),n=new N(z,T,0,y,M),a=new N([],O,0,w,S)}function K(t){var e;for(e=0;e<v;e++)t.dyn_ltree[2*e]=0;for(e=0;e<y;e++)t.dyn_dtree[2*e]=0;for(e=0;e<w;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*k]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function $(t){t.bi_valid>8?W(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function tt(t,e,r,i){$(t),i&&(W(t,r),W(t,~r)),o.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function te(t,e,r,i){var n=2*e,a=2*r;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[r]}function tr(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&te(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!te(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function ti(t,e,r){var i,n,a,o,s=0;if(0!==t.last_lit)do i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],n=t.pending_buf[t.l_buf+s],s++,0===i?V(t,n,e):(V(t,(a=U[n])+b+1,e),0!==(o=A[a])&&q(t,n-=F[a],o),V(t,a=H(--i),r),0!==(o=T[a])&&q(t,i-=j[a],o));while(s<t.last_lit);V(t,k,e)}function tn(t,e){var r,i,n,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(r=0,t.heap_len=0,t.heap_max=x;r<h;r++)0!==a[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,s&&(t.static_len-=o[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;r>=1;r--)tr(t,a,r);n=h;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],tr(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,a[2*n]=a[2*r]+a[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,a[2*r+1]=a[2*i+1]=n,t.heap[1]=n++,tr(t,a,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],J(t,e),X(a,u,t.bl_count)}function ta(t,e,r){var i,n,a=-1,o=e[1],s=0,h=7,u=4;for(0===o&&(h=138,u=3),e[(r+1)*2+1]=65535,i=0;i<=r;i++)n=o,o=e[(i+1)*2+1],++s<h&&n===o||(s<u?t.bl_tree[2*n]+=s:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[2*I]++):s<=10?t.bl_tree[2*P]++:t.bl_tree[2*B]++,s=0,a=n,0===o?(h=138,u=3):n===o?(h=6,u=3):(h=7,u=4))}function to(t,e,r){var i,n,a=-1,o=e[1],s=0,h=7,u=4;for(0===o&&(h=138,u=3),i=0;i<=r;i++)if(n=o,o=e[(i+1)*2+1],!(++s<h)||n!==o){if(s<u)do V(t,n,t.bl_tree);while(0!=--s);else 0!==n?(n!==a&&(V(t,n,t.bl_tree),s--),V(t,I,t.bl_tree),q(t,s-3,2)):s<=10?(V(t,P,t.bl_tree),q(t,s-3,3)):(V(t,B,t.bl_tree),q(t,s-11,7));s=0,a=n,0===o?(h=138,u=3):n===o?(h=6,u=3):(h=7,u=4)}}function ts(t){var e;for(ta(t,t.dyn_ltree,t.l_desc.max_code),ta(t,t.dyn_dtree,t.d_desc.max_code),tn(t,t.bl_desc),e=w-1;e>=3&&0===t.bl_tree[2*C[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function th(t,e,r,i){var n;for(q(t,e-257,5),q(t,r-1,5),q(t,i-4,4),n=0;n<i;n++)q(t,t.bl_tree[2*C[n]+1],3);to(t,t.dyn_ltree,e-1),to(t,t.dyn_dtree,r-1)}function tu(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return h;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return u;for(e=32;e<b;e++)if(0!==t.dyn_ltree[2*e])return u;return h}f(j);var tl=!1;function tf(t){tl||(Q(),tl=!0),t.l_desc=new G(t.dyn_ltree,i),t.d_desc=new G(t.dyn_dtree,n),t.bl_desc=new G(t.bl_tree,a),t.bi_buf=0,t.bi_valid=0,K(t)}function tc(t,e,r,i){q(t,(c<<1)+(i?1:0),3),tt(t,e,r,!0)}function td(t){q(t,d<<1,3),V(t,k,D),Z(t)}function tp(t,e,r,i){var n,a,o=0;t.level>0?(t.strm.data_type===l&&(t.strm.data_type=tu(t)),tn(t,t.l_desc),tn(t,t.d_desc),o=ts(t),n=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=n&&(n=a)):n=a=r+5,r+4<=n&&-1!==e?tc(t,e,r,i):t.strategy===s||a===n?(q(t,(d<<1)+(i?1:0),3),ti(t,D,z)):(q(t,(p<<1)+(i?1:0),3),th(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),ti(t,t.dyn_ltree,t.dyn_dtree)),K(t),i&&$(t)}function tm(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[(U[r]+b+1)*2]++,t.dyn_dtree[2*H(e)]++),t.last_lit===t.lit_bufsize-1}e._tr_init=tf,e._tr_stored_block=tc,e._tr_flush_block=tp,e._tr_tally=tm,e._tr_align=td},46019:t=>{"use strict";function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=e},11780:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Deferred=void 0;class r{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((t,e)=>{this.reject=e,this.resolve=t})}}e.Deferred=r},52784:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EndOfStreamError=e.defaultMessages=void 0,e.defaultMessages="End-Of-Stream";class r extends Error{constructor(){super(e.defaultMessages)}}e.EndOfStreamError=r},55606:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;let i=r(52784),n=r(11780);var a=r(52784);Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}});let o=1048576;class s{constructor(t){if(this.s=t,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!t.read||!t.once)throw Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new i.EndOfStreamError)),this.s.once("error",t=>this.reject(t)),this.s.once("close",()=>this.reject(Error("Stream closed")))}async peek(t,e,r){let i=await this.read(t,e,r);return this.peekQueue.push(t.subarray(e,e+i)),i}async read(t,e,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new i.EndOfStreamError;let n=r,a=0;for(;this.peekQueue.length>0&&n>0;){let r=this.peekQueue.pop();if(!r)throw Error("peekData should be defined");let i=Math.min(r.length,n);t.set(r.subarray(0,i),e+a),a+=i,n-=i,i<r.length&&this.peekQueue.push(r.subarray(i))}for(;n>0&&!this.endOfStream;){let r=Math.min(n,o),i=await this.readFromStream(t,e+a,r);if(a+=i,i<r)break;n-=i}return a}async readFromStream(t,e,r){let i=this.s.read(r);if(i)return t.set(i,e),i.length;{let i={buffer:t,offset:e,length:r,deferred:new n.Deferred};return this.deferred=i.deferred,this.s.once("readable",()=>{this.readDeferred(i)}),i.deferred.promise}}readDeferred(t){let e=this.s.read(t.length);e?(t.buffer.set(e,t.offset),t.deferred.resolve(e.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(t)})}reject(t){this.endOfStream=!0,this.deferred&&(this.deferred.reject(t),this.deferred=null)}}e.StreamReader=s},16021:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;var i=r(52784);Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}});var n=r(55606);Object.defineProperty(e,"StreamReader",{enumerable:!0,get:function(){return n.StreamReader}})},25929:(t,e,r)=>{"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=r(13685),a=r(95687),o=r(57310),s=r(63477),h=r(15206),u=r(73837),l=function(t,e){if("string"!=typeof t&&!t.hasOwnProperty("url"))throw Error("Missing url option from options for request method.");var r=(void 0===t?"undefined":i(t))==="object"?o.parse(t.url):o.parse(t),u={hostname:r.hostname,port:r.port||("http:"===r.protocol.toLowerCase()?80:443),path:r.path,method:"GET",headers:{},auth:r.auth||null,parse:"none",stream:!1};if((void 0===t?"undefined":i(t))==="object"&&(u=Object.assign(u,t)),u.port=Number(u.port),u.hasOwnProperty("timeout")&&delete u.timeout,!0===u.compressed&&(u.headers["accept-encoding"]="gzip, deflate"),t.hasOwnProperty("form")){if("object"!==i(t.form))throw Error("phin 'form' option must be of type Object if present.");var l=s.stringify(t.form);u.headers["Content-Type"]="application/x-www-form-urlencoded",u.headers["Content-Length"]=Buffer.byteLength(l),t.data=l}var f=void 0,c=function(t){var r=t;!0===u.compressed&&("gzip"===t.headers["content-encoding"]?r=t.pipe(h.createGunzip()):"deflate"===t.headers["content-encoding"]&&(r=t.pipe(h.createInflate()))),!0===u.stream?(t.stream=r,e&&e(null,t)):(t.body=new Buffer([]),r.on("data",function(e){t.body=Buffer.concat([t.body,e])}),r.on("end",function(){if(e){if("json"===u.parse)try{t.body=JSON.parse(t.body.toString())}catch(r){e("Invalid JSON received.",t);return}e(null,t)}}))};switch(r.protocol.toLowerCase()){case"http:":f=n.request(u,c);break;case"https:":f=a.request(u,c);break;default:e&&e(Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if("number"==typeof t.timeout&&f.setTimeout(t.timeout,function(){f.abort(),e&&e(Error("Timeout has been reached."),null),e=null}),f.on("error",function(t){e&&e(t,null)}),t.hasOwnProperty("data")){var d=t.data;if(!(t.data instanceof Buffer)&&"object"===i(t.data)){if("application/x-www-form-urlencoded"===(u.headers["content-type"]||u.headers["Content-Type"]))d=s.stringify(t.data);else try{d=JSON.stringify(t.data)}catch(t){e&&e(Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}f.write(d)}f.end()};l.promisified=function(t,e){return new Promise(function(r,i){l(t,function(t,e){t?i(t):r(e)},e)})},u.promisify&&(l[u.promisify.custom]=l.promisified),t.exports=l},30364:t=>{"use strict";function e(t,e,n,a,o,l){l||(l={});for(var f=void 0===l.threshold?.1:l.threshold,c=35215*f*f,d=0,p=0;p<o;p++)for(var m=0;m<a;m++){var g=(p*a+m)*4;if(i(t,e,g,g)>c)!l.includeAA&&(r(t,m,p,a,o,e)||r(e,m,p,a,o,t))?n&&h(n,g,255,255,0):(n&&h(n,g,255,0,0),d++);else if(n){var _=s(u(t,g),.1);h(n,g,_,_,_)}}return d}function r(t,e,n,a,o,s){for(var h,u,l,f,c=Math.max(e-1,0),d=Math.max(n-1,0),p=Math.min(e+1,a-1),m=Math.min(n+1,o-1),g=(n*a+e)*4,_=0,b=0,v=0,y=0,w=0,x=c;x<=p;x++)for(var M=d;M<=m;M++)if(x!==e||M!==n){var E=i(t,t,g,(M*a+x)*4,!0);if(0===E?_++:E<0?v++:E>0&&b++,_>2)return!1;s&&(E<y&&(y=E,h=x,u=M),E>w&&(w=E,l=x,f=M))}return!s||0!==v&&0!==b&&(!r(t,h,u,a,o)&&!r(s,h,u,a,o)||!r(t,l,f,a,o)&&!r(s,l,f,a,o))}function i(t,e,r,i,h){var u=t[r+3]/255,l=e[i+3]/255,f=s(t[r+0],u),c=s(t[r+1],u),d=s(t[r+2],u),p=s(e[i+0],l),m=s(e[i+1],l),g=s(e[i+2],l),_=n(f,c,d)-n(p,m,g);if(h)return _;var b=a(f,c,d)-a(p,m,g),v=o(f,c,d)-o(p,m,g);return .5053*_*_+.299*b*b+.1957*v*v}function n(t,e,r){return .29889531*t+.58662247*e+.11448223*r}function a(t,e,r){return .59597799*t-.2741761*e-.32180189*r}function o(t,e,r){return .21147017*t-.52261711*e+.31114694*r}function s(t,e){return 255+(t-255)*e}function h(t,e,r,i,n){t[e+0]=r,t[e+1]=i,t[e+2]=n,t[e+3]=255}function u(t,e){var r=t[e+3]/255;return n(s(t[e+0],r),s(t[e+1],r),s(t[e+2],r))}t.exports=e},1349:(t,e,r)=>{"use strict";var i=r(41289),n=[function(){},function(t,e,r,i){if(i===e.length)throw Error("Ran out of data");var n=e[i];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=255},function(t,e,r,i){if(i+1>=e.length)throw Error("Ran out of data");var n=e[i];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=e[i+1]},function(t,e,r,i){if(i+2>=e.length)throw Error("Ran out of data");t[r]=e[i],t[r+1]=e[i+1],t[r+2]=e[i+2],t[r+3]=255},function(t,e,r,i){if(i+3>=e.length)throw Error("Ran out of data");t[r]=e[i],t[r+1]=e[i+1],t[r+2]=e[i+2],t[r+3]=e[i+3]}],a=[function(){},function(t,e,r,i){var n=e[0];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=i},function(t,e,r){var i=e[0];t[r]=i,t[r+1]=i,t[r+2]=i,t[r+3]=e[1]},function(t,e,r,i){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=i},function(t,e,r){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3]}];function o(t,e){var r=[],i=0;function n(){if(i===t.length)throw Error("Ran out of data");var n,a,o,s,h,u,l,f,c=t[i];switch(i++,e){default:throw Error("unrecognised depth");case 16:l=t[i],i++,r.push((c<<8)+l);break;case 4:l=15&c,f=c>>4,r.push(f,l);break;case 2:h=3&c,u=c>>2&3,l=c>>4&3,f=c>>6&3,r.push(f,l,u,h);break;case 1:n=1&c,a=c>>1&1,o=c>>2&1,s=c>>3&1,h=c>>4&1,u=c>>5&1,l=c>>6&1,f=c>>7&1,r.push(f,l,u,h,s,o,a,n)}}return{get:function(t){for(;r.length<t;)n();var e=r.slice(0,t);return r=r.slice(t),e},resetAfterLine:function(){r.length=0},end:function(){if(i!==t.length)throw Error("extra data found")}}}function s(t,e,r,i,a,o){for(var s=t.width,h=t.height,u=t.index,l=0;l<h;l++)for(var f=0;f<s;f++){var c=r(f,l,u);n[i](e,a,c,o),o+=i}return o}function h(t,e,r,i,n,o){for(var s=t.width,h=t.height,u=t.index,l=0;l<h;l++){for(var f=0;f<s;f++){var c=n.get(i),d=r(f,l,u);a[i](e,c,d,o)}n.resetAfterLine()}}e.dataToBitMap=function(t,e){var r,n,a,u=e.width,l=e.height,f=e.depth,c=e.bpp,d=e.interlace;if(8!==f)var p=o(t,f);r=f<=8?new Buffer(u*l*4):new Uint16Array(u*l*4);var m=Math.pow(2,f)-1,g=0;if(d)n=i.getImagePasses(u,l),a=i.getInterlaceIterator(u,l);else{var _=0;a=function(){var t=_;return _+=4,t},n=[{width:u,height:l}]}for(var b=0;b<n.length;b++)8===f?g=s(n[b],r,a,c,t,g):h(n[b],r,a,c,p,m);if(8===f){if(g!==t.length)throw Error("extra data found")}else p.end();return r}},23333:(t,e,r)=>{"use strict";var i=r(2949);t.exports=function(t,e,r,n){var a=-1!==[i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(n.colorType);if(n.colorType===n.inputColorType){var o=function(){var t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256!==new Int16Array(t)[0]}();if(8===n.bitDepth||16===n.bitDepth&&o)return t}var s=16!==n.bitDepth?t:new Uint16Array(t.buffer),h=255,u=i.COLORTYPE_TO_BPP_MAP[n.inputColorType];4!==u||n.inputHasAlpha||(u=3);var l=i.COLORTYPE_TO_BPP_MAP[n.colorType];16===n.bitDepth&&(h=65535,l*=2);var f=new Buffer(e*r*l),c=0,d=0,p=n.bgColor||{};function m(){var t,e,r,o=h;switch(n.inputColorType){case i.COLORTYPE_COLOR_ALPHA:o=s[c+3],t=s[c],e=s[c+1],r=s[c+2];break;case i.COLORTYPE_COLOR:t=s[c],e=s[c+1],r=s[c+2];break;case i.COLORTYPE_ALPHA:o=s[c+1],e=t=s[c],r=t;break;case i.COLORTYPE_GRAYSCALE:e=t=s[c],r=t;break;default:throw Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&!a&&(o/=h,t=Math.min(Math.max(Math.round((1-o)*p.red+o*t),0),h),e=Math.min(Math.max(Math.round((1-o)*p.green+o*e),0),h),r=Math.min(Math.max(Math.round((1-o)*p.blue+o*r),0),h)),{red:t,green:e,blue:r,alpha:o}}void 0===p.red&&(p.red=h),void 0===p.green&&(p.green=h),void 0===p.blue&&(p.blue=h);for(var g=0;g<r;g++)for(var _=0;_<e;_++){var b=m(s,c);switch(n.colorType){case i.COLORTYPE_COLOR_ALPHA:case i.COLORTYPE_COLOR:8===n.bitDepth?(f[d]=b.red,f[d+1]=b.green,f[d+2]=b.blue,a&&(f[d+3]=b.alpha)):(f.writeUInt16BE(b.red,d),f.writeUInt16BE(b.green,d+2),f.writeUInt16BE(b.blue,d+4),a&&f.writeUInt16BE(b.alpha,d+6));break;case i.COLORTYPE_ALPHA:case i.COLORTYPE_GRAYSCALE:var v=(b.red+b.green+b.blue)/3;8===n.bitDepth?(f[d]=v,a&&(f[d+1]=b.alpha)):(f.writeUInt16BE(v,d),a&&f.writeUInt16BE(b.alpha,d+2));break;default:throw Error("unrecognised color Type "+n.colorType)}c+=u,d+=l}return f}},32506:(t,e,r)=>{"use strict";var i=r(73837),n=r(12781),a=t.exports=function(){n.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(a,n),a.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),process.nextTick((function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},a.prototype.write=function(t,e){var r;return this.writable?(Buffer.isBuffer(t)?r=t:r=new Buffer(t,e||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",Error("Stream not writable")),!1)},a.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",Error("Unexpected end of input")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(t){this._reads.shift();var e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},a.prototype._processRead=function(t){this._reads.shift();for(var e=0,r=0,i=new Buffer(t.length);e<t.length;){var n=this._buffers[r++],a=Math.min(n.length,t.length-e);n.copy(i,e,0,a),e+=a,a!==n.length&&(this._buffers[--r]=n.slice(a))}r>0&&this._buffers.splice(0,r),this._buffered-=t.length,t.func.call(this,i)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else if(this._buffered>=t.length)this._processRead(t);else break}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}}},2949:t=>{"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},44747:t=>{"use strict";var e=[];!function(){for(var t=0;t<256;t++){for(var r=t,i=0;i<8;i++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}}();var r=t.exports=function(){this._crc=-1};r.prototype.write=function(t){for(var r=0;r<t.length;r++)this._crc=e[(this._crc^t[r])&255]^this._crc>>>8;return!0},r.prototype.crc32=function(){return -1^this._crc},r.crc32=function(t){for(var r=-1,i=0;i<t.length;i++)r=e[(r^t[i])&255]^r>>>8;return -1^r}},84734:(t,e,r)=>{"use strict";var i=r(21008),n={0:function(t,e,r,i,n){for(var a=0;a<r;a++)i[n+a]=t[e+a]},1:function(t,e,r,i,n,a){for(var o=0;o<r;o++){var s=o>=a?t[e+o-a]:0,h=t[e+o]-s;i[n+o]=h}},2:function(t,e,r,i,n){for(var a=0;a<r;a++){var o=e>0?t[e+a-r]:0,s=t[e+a]-o;i[n+a]=s}},3:function(t,e,r,i,n,a){for(var o=0;o<r;o++){var s=o>=a?t[e+o-a]:0,h=e>0?t[e+o-r]:0,u=t[e+o]-(s+h>>1);i[n+o]=u}},4:function(t,e,r,n,a,o){for(var s=0;s<r;s++){var h=s>=o?t[e+s-o]:0,u=e>0?t[e+s-r]:0,l=e>0&&s>=o?t[e+s-(r+o)]:0,f=t[e+s]-i(h,u,l);n[a+s]=f}}},a={0:function(t,e,r){for(var i=0,n=e+r,a=e;a<n;a++)i+=Math.abs(t[a]);return i},1:function(t,e,r,i){for(var n=0,a=0;a<r;a++){var o=a>=i?t[e+a-i]:0;n+=Math.abs(t[e+a]-o)}return n},2:function(t,e,r){for(var i=0,n=e+r,a=e;a<n;a++){var o=e>0?t[a-r]:0;i+=Math.abs(t[a]-o)}return i},3:function(t,e,r,i){for(var n=0,a=0;a<r;a++){var o=a>=i?t[e+a-i]:0,s=e>0?t[e+a-r]:0;n+=Math.abs(t[e+a]-(o+s>>1))}return n},4:function(t,e,r,n){for(var a=0,o=0;o<r;o++){var s=o>=n?t[e+o-n]:0,h=e>0?t[e+o-r]:0,u=e>0&&o>=n?t[e+o-(r+n)]:0;a+=Math.abs(t[e+o]-i(s,h,u))}return a}};t.exports=function(t,e,r,i,o){if("filterType"in i&&-1!==i.filterType){if("number"==typeof i.filterType)s=[i.filterType];else throw Error("unrecognised filter types")}else s=[0,1,2,3,4];16===i.bitDepth&&(o*=2);for(var s,h=e*o,u=0,l=0,f=new Buffer((h+1)*r),c=s[0],d=0;d<r;d++){if(s.length>1)for(var p=1/0,m=0;m<s.length;m++){var g=a[s[m]](t,l,h,o);g<p&&(c=s[m],p=g)}f[u]=c,u++,n[c](t,l,h,f,u,o),u+=h,l+=h}return f}},69376:(t,e,r)=>{"use strict";var i=r(73837),n=r(32506),a=r(61569),o=t.exports=function(t){n.call(this);var e=[],r=this;this._filter=new a(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){r.emit("complete",Buffer.concat(e))}}),this._filter.start()};i.inherits(o,n)},45309:(t,e,r)=>{"use strict";var i=r(83381),n=r(61569);e.process=function(t,e){var r=[],a=new i(t);return new n(e,{read:a.read.bind(a),write:function(t){r.push(t)},complete:function(){}}).start(),a.process(),Buffer.concat(r)}},61569:(t,e,r)=>{"use strict";var i=r(41289),n=r(21008);function a(t,e,r){var i=t*e;return 8!==r&&(i=Math.ceil(i/(8/r))),i}var o=t.exports=function(t,e){var r=t.width,n=t.height,o=t.interlace,s=t.bpp,h=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],o)for(var u=i.getImagePasses(r,n),l=0;l<u.length;l++)this._images.push({byteWidth:a(u[l].width,s,h),height:u[l].height,lineIndex:0});else this._images.push({byteWidth:a(r,s,h),height:n,lineIndex:0});8===h?this._xComparison=s:16===h?this._xComparison=2*s:this._xComparison=1};o.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},o.prototype._unFilterType1=function(t,e,r){for(var i=this._xComparison,n=i-1,a=0;a<r;a++){var o=t[1+a],s=a>n?e[a-i]:0;e[a]=o+s}},o.prototype._unFilterType2=function(t,e,r){for(var i=this._lastLine,n=0;n<r;n++){var a=t[1+n],o=i?i[n]:0;e[n]=a+o}},o.prototype._unFilterType3=function(t,e,r){for(var i=this._xComparison,n=i-1,a=this._lastLine,o=0;o<r;o++){var s=t[1+o],h=a?a[o]:0,u=Math.floor(((o>n?e[o-i]:0)+h)/2);e[o]=s+u}},o.prototype._unFilterType4=function(t,e,r){for(var i=this._xComparison,a=i-1,o=this._lastLine,s=0;s<r;s++){var h=t[1+s],u=o?o[s]:0,l=n(s>a?e[s-i]:0,u,s>a&&o?o[s-i]:0);e[s]=h+l}},o.prototype._reverseFilterLine=function(t){var e,r=t[0],i=this._images[this._imageIndex],n=i.byteWidth;if(0===r)e=t.slice(1,n+1);else switch(e=new Buffer(n),r){case 1:this._unFilterType1(t,e,n);break;case 2:this._unFilterType2(t,e,n);break;case 3:this._unFilterType3(t,e,n);break;case 4:this._unFilterType4(t,e,n);break;default:throw Error("Unrecognised filter type - "+r)}this.write(e),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=e,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}},99794:t=>{"use strict";function e(t,e,r,i,n){for(var a=0,o=0;o<i;o++)for(var s=0;s<r;s++){var h=n[t[a]];if(!h)throw Error("index "+t[a]+" not in palette");for(var u=0;u<4;u++)e[a+u]=h[u];a+=4}}function r(t,e,r,i,n){for(var a=0,o=0;o<i;o++)for(var s=0;s<r;s++){var h=!1;if(1===n.length?n[0]===t[a]&&(h=!0):n[0]===t[a]&&n[1]===t[a+1]&&n[2]===t[a+2]&&(h=!0),h)for(var u=0;u<4;u++)e[a+u]=0;a+=4}}function i(t,e,r,i,n){for(var a=255,o=Math.pow(2,n)-1,s=0,h=0;h<i;h++)for(var u=0;u<r;u++){for(var l=0;l<4;l++)e[s+l]=Math.floor(t[s+l]*a/o+.5);s+=4}}t.exports=function(t,n){var a=n.depth,o=n.width,s=n.height,h=n.colorType,u=n.transColor,l=n.palette,f=t;return 3===h?e(t,f,o,s,l):(u&&r(t,f,o,s,u),8!==a&&(16===a&&(f=new Buffer(o*s*4)),i(t,f,o,s,a))),f}},41289:(t,e)=>{"use strict";var r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];e.getImagePasses=function(t,e){for(var i=[],n=t%8,a=e%8,o=(t-n)/8,s=(e-a)/8,h=0;h<r.length;h++){for(var u=r[h],l=o*u.x.length,f=s*u.y.length,c=0;c<u.x.length;c++)if(u.x[c]<n)l++;else break;for(c=0;c<u.y.length;c++)if(u.y[c]<a)f++;else break;l>0&&f>0&&i.push({width:l,height:f,index:h})}return i},e.getInterlaceIterator=function(t){return function(e,i,n){var a=e%r[n].x.length,o=(e-a)/r[n].x.length*8+r[n].x[a],s=i%r[n].y.length;return 4*o+((i-s)/r[n].y.length*8+r[n].y[s])*t*4}}},72243:(t,e,r)=>{"use strict";var i=r(73837),n=r(12781),a=r(2949),o=r(71274),s=t.exports=function(t){n.call(this);var e=t||{};this._packer=new o(e),this._deflate=this._packer.createDeflate(),this.readable=!0};i.inherits(s,n),s.prototype.pack=function(t,e,r,i){this.emit("data",new Buffer(a.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),i&&this.emit("data",this._packer.packGAMA(i));var n=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(t){this.emit("data",this._packer.packIDAT(t))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(n)}},80100:(t,e,r)=>{"use strict";var i=!0,n=r(15206);n.deflateSync||(i=!1);var a=r(2949),o=r(71274);t.exports=function(t,e){if(!i)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var r=new o(e||{}),s=[];s.push(new Buffer(a.PNG_SIGNATURE)),s.push(r.packIHDR(t.width,t.height)),t.gamma&&s.push(r.packGAMA(t.gamma));var h=r.filterData(t.data,t.width,t.height),u=n.deflateSync(h,r.getDeflateOptions());if(h=null,!u||!u.length)throw Error("bad png - invalid compressed data response");return s.push(r.packIDAT(u)),s.push(r.packIEND()),Buffer.concat(s)}},71274:(t,e,r)=>{"use strict";var i=r(2949),n=r(44747),a=r(23333),o=r(84734),s=r(15206),h=t.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||s.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:i.COLORTYPE_COLOR_ALPHA,t.inputColorType="number"==typeof t.inputColorType?t.inputColorType:i.COLORTYPE_COLOR_ALPHA,-1===[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(t.colorType))throw Error("option color type:"+t.colorType+" is not supported at present");if(-1===[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw Error("option input color type:"+t.inputColorType+" is not supported at present");if(8!==t.bitDepth&&16!==t.bitDepth)throw Error("option bit depth:"+t.bitDepth+" is not supported at present")};h.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},h.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},h.prototype.filterData=function(t,e,r){var n=a(t,e,r,this._options),s=i.COLORTYPE_TO_BPP_MAP[this._options.colorType];return o(n,e,r,this._options,s)},h.prototype._packChunk=function(t,e){var r=e?e.length:0,i=new Buffer(r+12);return i.writeUInt32BE(r,0),i.writeUInt32BE(t,4),e&&e.copy(i,8),i.writeInt32BE(n.crc32(i.slice(4,i.length-4)),i.length-4),i},h.prototype.packGAMA=function(t){var e=new Buffer(4);return e.writeUInt32BE(Math.floor(t*i.GAMMA_DIVISION),0),this._packChunk(i.TYPE_gAMA,e)},h.prototype.packIHDR=function(t,e){var r=new Buffer(13);return r.writeUInt32BE(t,0),r.writeUInt32BE(e,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(i.TYPE_IHDR,r)},h.prototype.packIDAT=function(t){return this._packChunk(i.TYPE_IDAT,t)},h.prototype.packIEND=function(){return this._packChunk(i.TYPE_IEND,null)}},21008:t=>{"use strict";t.exports=function(t,e,r){var i=t+e-r,n=Math.abs(i-t),a=Math.abs(i-e),o=Math.abs(i-r);return n<=a&&n<=o?t:a<=o?e:r}},2336:(t,e,r)=>{"use strict";var i=r(73837),n=r(15206),a=r(32506),o=r(69376),s=r(801),h=r(1349),u=r(99794),l=t.exports=function(t){a.call(this),this._parser=new s(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};i.inherits(l,a),l.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},l.prototype._inflateData=function(t){if(!this._inflate){if(this._bitmapInfo.interlace)this._inflate=n.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var e=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,r=Math.max(e,n.Z_MIN_CHUNK);this._inflate=n.createInflate({chunkSize:r});var i=e,a=this.emit.bind(this,"error");this._inflate.on("error",function(t){i&&a(t)}),this._filter.on("complete",this._complete.bind(this));var o=this._filter.write.bind(this._filter);this._inflate.on("data",function(t){i&&(t.length>i&&(t=t.slice(0,i)),i-=t.length,o(t))}),this._inflate.on("end",this._filter.end.bind(this._filter))}}this._inflate.write(t)},l.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new o(this._bitmapInfo)},l.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},l.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},l.prototype._simpleTransparency=function(){this._metaData.alpha=!0},l.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},l.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},l.prototype._complete=function(t){if(!this.errord){try{var e=h.dataToBitMap(t,this._bitmapInfo),r=u(e,this._bitmapInfo);e=null}catch(t){this._handleError(t);return}this.emit("parsed",r)}}},50369:(t,e,r)=>{"use strict";var i=!0,n=r(15206),a=r(31102);n.deflateSync||(i=!1);var o=r(83381),s=r(45309),h=r(801),u=r(1349),l=r(99794);t.exports=function(t,e){if(!i)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");function r(t){g=t}function f(t){_=t}function c(t){_.transColor=t}function d(t){_.palette=t}function p(){_.alpha=!0}function m(t){b=t}var g,_,b,v,y=[];function w(t){y.push(t)}var x=new o(t);if(new h(e,{read:x.read.bind(x),error:r,metadata:f,gamma:m,palette:d,transColor:c,inflateData:w,simpleTransparency:p}).start(),x.process(),g)throw g;var M=Buffer.concat(y);if(y.length=0,_.interlace)v=n.inflateSync(M);else{var E=((_.width*_.bpp*_.depth+7>>3)+1)*_.height;v=a(M,{chunkSize:E,maxLength:E})}if(M=null,!v||!v.length)throw Error("bad png - invalid inflate data response");var S=s.process(v,_);M=null;var k=u.dataToBitMap(S,_);S=null;var I=l(k,_);return _.data=I,_.gamma=b||0,_}},801:(t,e,r)=>{"use strict";var i=r(2949),n=r(44747),a=t.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[i.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[i.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[i.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[i.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[i.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[i.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};a.prototype.start=function(){this.read(i.PNG_SIGNATURE.length,this._parseSignature.bind(this))},a.prototype._parseSignature=function(t){for(var e=i.PNG_SIGNATURE,r=0;r<e.length;r++)if(t[r]!==e[r]){this.error(Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},a.prototype._parseChunkBegin=function(t){for(var e=t.readUInt32BE(0),r=t.readUInt32BE(4),a="",o=4;o<8;o++)a+=String.fromCharCode(t[o]);var s=!!(32&t[4]);if(!this._hasIHDR&&r!==i.TYPE_IHDR){this.error(Error("Expected IHDR on beggining"));return}if(this._crc=new n,this._crc.write(new Buffer(a)),this._chunks[r])return this._chunks[r](e);if(!s){this.error(Error("Unsupported critical chunk type "+a));return}this.read(e+4,this._skipChunk.bind(this))},a.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},a.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==e){this.error(Error("Crc error - "+e+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},a.prototype._parseIHDR=function(t){this._crc.write(t);var e=t.readUInt32BE(0),r=t.readUInt32BE(4),n=t[8],a=t[9],o=t[10],s=t[11],h=t[12];if(8!==n&&4!==n&&2!==n&&1!==n&&16!==n){this.error(Error("Unsupported bit depth "+n));return}if(!(a in i.COLORTYPE_TO_BPP_MAP)){this.error(Error("Unsupported color type"));return}if(0!==o){this.error(Error("Unsupported compression method"));return}if(0!==s){this.error(Error("Unsupported filter method"));return}if(0!==h&&1!==h){this.error(Error("Unsupported interlace method"));return}this._colorType=a;var u=i.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:r,depth:n,interlace:!!h,palette:!!(a&i.COLORTYPE_PALETTE),color:!!(a&i.COLORTYPE_COLOR),alpha:!!(a&i.COLORTYPE_ALPHA),bpp:u,colorType:a}),this._handleChunkEnd()},a.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},a.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),r=0;r<e;r++)this._palette.push([t[3*r],t[3*r+1],t[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},a.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},a.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===i.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length){this.error(Error("Transparency chunk must be after palette"));return}if(t.length>this._palette.length){this.error(Error("More transparent colors than palette size"));return}for(var e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===i.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===i.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},a.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},a.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/i.GAMMA_DIVISION),this._handleChunkEnd()},a.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},a.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===i.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw Error("Expected palette not found");this.inflateData(e);var r=t-e.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},a.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},a.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}},20438:(t,e,r)=>{"use strict";var i=r(50369),n=r(80100);e.read=function(t,e){return i(t,e||{})},e.write=function(t,e){return n(t,e)}},81687:(t,e,r)=>{"use strict";var i=r(73837),n=r(12781),a=r(2336),o=r(72243),s=r(20438),h=e.PNG=function(t){n.call(this),t=t||{},this.width=0|t.width,this.height=0|t.height,this.data=this.width>0&&this.height>0?new Buffer(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(t){this.data=t,this.emit("parsed",t)}).bind(this)),this._packer=new o(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(h,n),h.sync=s,h.prototype.pack=function(){return this.data&&this.data.length?process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)):this.emit("error","No data provided"),this},h.prototype.parse=function(t,e){if(e){var r,i;r=(function(t){this.removeListener("error",i),this.data=t,e(null,this)}).bind(this),i=(function(t){this.removeListener("parsed",r),e(t,null)}).bind(this),this.once("parsed",r),this.once("error",i)}return this.end(t),this},h.prototype.write=function(t){return this._parser.write(t),!0},h.prototype.end=function(t){this._parser.end(t)},h.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},h.prototype._gamma=function(t){this.gamma=t},h.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},h.bitblt=function(t,e,r,i,n,a,o,s){if(i|=0,n|=0,a|=0,o|=0,s|=0,(r|=0)>t.width||i>t.height||r+n>t.width||i+a>t.height)throw Error("bitblt reading outside image");if(o>e.width||s>e.height||o+n>e.width||s+a>e.height)throw Error("bitblt writing outside image");for(var h=0;h<a;h++)t.data.copy(e.data,(s+h)*e.width+o<<2,(i+h)*t.width+r<<2,(i+h)*t.width+r+n<<2)},h.prototype.bitblt=function(t,e,r,i,n,a,o){return h.bitblt(this,t,e,r,i,n,a,o),this},h.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var r=0;r<t.width;r++)for(var i=t.width*e+r<<2,n=0;n<3;n++){var a=t.data[i+n]/255;a=Math.pow(a,1/2.2/t.gamma),t.data[i+n]=Math.round(255*a)}t.gamma=0}},h.prototype.adjustGamma=function(){h.adjustGamma(this)}},31102:(t,e,r)=>{"use strict";var i=r(39491).ok,n=r(15206),a=r(73837),o=r(14300).kMaxLength;function s(t){if(!(this instanceof s))return new s(t);t&&t.chunkSize<n.Z_MIN_CHUNK&&(t.chunkSize=n.Z_MIN_CHUNK),n.Inflate.call(this,t),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&null!=t.maxLength&&(this._maxLength=t.maxLength)}function h(t){return new s(t)}function u(t,e){e&&process.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function l(t,e){if("string"==typeof e&&(e=Buffer.from(e)),!(e instanceof Buffer))throw TypeError("Not a string or buffer");var r=t._finishFlushFlag;return null==r&&(r=n.Z_FINISH),t._processChunk(e,r)}function f(t,e){return l(new s(e),t)}s.prototype._processChunk=function(t,e,r){if("function"==typeof r)return n.Inflate._processChunk.call(this,t,e,r);var a,s=this,h=t&&t.length,l=this._chunkSize-this._offset,f=this._maxLength,c=0,d=[],p=0;function m(t,e){if(!s._hadError){var r=l-e;if(i(r>=0,"have should not go down"),r>0){var n=s._buffer.slice(s._offset,s._offset+r);if(s._offset+=r,n.length>f&&(n=n.slice(0,f)),d.push(n),p+=n.length,0==(f-=n.length))return!1}return(0===e||s._offset>=s._chunkSize)&&(l=s._chunkSize,s._offset=0,s._buffer=Buffer.allocUnsafe(s._chunkSize)),0===e&&(c+=h-t,h=t,!0)}}this.on("error",function(t){a=t}),i(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(e,t,c,h,this._buffer,this._offset,l);g=g||this._writeState}while(!this._hadError&&m(g[0],g[1]));if(this._hadError)throw a;if(p>=o)throw u(this),RangeError("Cannot create final Buffer. It would be larger than 0x"+o.toString(16)+" bytes");var _=Buffer.concat(d,p);return u(this),_},a.inherits(s,n.Inflate),t.exports=e=f,e.Inflate=s,e.createInflate=h,e.inflateSync=f},83381:t=>{"use strict";var e=t.exports=function(t){this._buffer=t,this._reads=[]};e.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},e.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var t=this._reads[0];if(this._buffer.length&&(this._buffer.length>=t.length||t.allowLess)){this._reads.shift();var e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}else break}return this._reads.length>0?Error("There are some read requests waitng on finished stream"):this._buffer.length>0?Error("unrecognised content at end of stream"):void 0}},57298:(t,e,r)=>{"use strict";r.d(e,{r:()=>u});var i=r(17577),n=r(19985),a=r.n(n),o=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},s=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},h=function(t,e){if(!t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:t},u=function(t){function e(){var r,i;o(this,e);for(var n=arguments.length,s=Array(n),u=0;u<n;u++)s[u]=arguments[u];return r=i=h(this,t.call.apply(t,[this].concat(s))),i.processImage=function(){i.props.children?i.props.children.props.src&&i.parseImage(i.props.children.props.src,i.props):i.props.src&&"string"==typeof i.props.src&&i.props.src.length>0?i.parseImage(i.props.src,i.props):console.error("Please provide an image url using the 'src' prop or wrap an image element under the <ColorExtractor /> component. Check out the docs for more info - https://goo.gl/rMZ5L7")},i.parseImage=function(t,e){a().from(t).maxColorCount(e.maxColors).getSwatches().then(function(t){return e.getColors(i.getColorsFromSwatches(t,e))}).catch(function(r){r&&i.useDefaultImageClass(t,e)})},i.useDefaultImageClass=function(t,e){new(a()).DefaultOpts.ImageClass().load(t.src).then(function(t){t.image&&a().from(t.image).getSwatches().then(function(t){return e.getColors(i.getColorsFromSwatches(t,e))}).catch(function(t){t&&e.onError(t)})}).catch(function(t){t&&e.onError(t)})},i.getColorsFromSwatches=function(t,e){var r=[];for(var i in t)t.hasOwnProperty(i)&&t[i]&&(e.rgb?r.push(t[i].getRgb()):r.push(t[i].getHex()));return r},h(i,r)}return s(e,t),e.prototype.componentDidMount=function(){this.processImage()},e.prototype.componentDidUpdate=function(t){t.src!==this.props.src&&"string"==typeof this.props.src&&this.props.src.length>0?this.parseImage(this.props.src,this.props):this.props.children&&t.children.props.src!==this.props.children.props.src&&this.parseImage(this.props.children.props.src,this.props)},e.prototype.render=function(){var t=i.Children.count(this.props.children);if(t>1)throw Error("Expected only one image element.");if(1!==t)return null;if("img"===this.props.children.type)return this.props.children;throw Error('Expected children to be an image element but instead got a "'+this.props.children.type+'"')},e}(i.Component);u.defaultProps={onError:function(t){},getColors:function(t){},rgb:!1,hex:!0,src:null,maxColors:64}},66409:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTokenizer=void 0;let i=r(16021);class n{constructor(t){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}async readToken(t,e=this.position){let r=Buffer.alloc(t.len);if(await this.readBuffer(r,{position:e})<t.len)throw new i.EndOfStreamError;return t.get(r,0)}async peekToken(t,e=this.position){let r=Buffer.alloc(t.len);if(await this.peekBuffer(r,{position:e})<t.len)throw new i.EndOfStreamError;return t.get(r,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new i.EndOfStreamError;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new i.EndOfStreamError;return t.get(this.numBuffer,0)}async ignore(t){if(void 0!==this.fileInfo.size){let e=this.fileInfo.size-this.position;if(t>e)return this.position+=e,e}return this.position+=t,t}async close(){}normalizeOptions(t,e){if(e&&void 0!==e.position&&e.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return e?{mayBeLess:!0===e.mayBeLess,offset:e.offset?e.offset:0,length:e.length?e.length:t.length-(e.offset?e.offset:0),position:e.position?e.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}}e.AbstractTokenizer=n},52017:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferTokenizer=void 0;let i=r(16021),n=r(66409);class a extends n.AbstractTokenizer{constructor(t,e){super(e),this.uint8Array=t,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}async readBuffer(t,e){if(e&&e.position){if(e.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=e.position}let r=await this.peekBuffer(t,e);return this.position+=r,r}async peekBuffer(t,e){let r=this.normalizeOptions(t,e),n=Math.min(this.uint8Array.length-r.position,r.length);if(r.mayBeLess||!(n<r.length))return t.set(this.uint8Array.subarray(r.position,r.position+n),r.offset),n;throw new i.EndOfStreamError}async close(){}}e.BufferTokenizer=a},17453:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromFile=e.FileTokenizer=void 0;let i=r(66409),n=r(16021),a=r(70924);class o extends i.AbstractTokenizer{constructor(t,e){super(e),this.fd=t}async readBuffer(t,e){let r=this.normalizeOptions(t,e);this.position=r.position;let i=await a.read(this.fd,t,r.offset,r.length,r.position);if(this.position+=i.bytesRead,i.bytesRead<r.length&&(!e||!e.mayBeLess))throw new n.EndOfStreamError;return i.bytesRead}async peekBuffer(t,e){let r=this.normalizeOptions(t,e),i=await a.read(this.fd,t,r.offset,r.length,r.position);if(!r.mayBeLess&&i.bytesRead<r.length)throw new n.EndOfStreamError;return i.bytesRead}async close(){return a.close(this.fd)}}async function s(t){let e=await a.stat(t);if(!e.isFile)throw Error(`File not a file: ${t}`);return new o(await a.open(t,"r"),{path:t,size:e.size})}e.FileTokenizer=o,e.fromFile=s},70924:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readFile=e.writeFileSync=e.writeFile=e.read=e.open=e.close=e.stat=e.createReadStream=e.pathExists=void 0;let i=r(57147);async function n(t){return new Promise((e,r)=>{i.stat(t,(t,i)=>{t?r(t):e(i)})})}async function a(t){return new Promise((e,r)=>{i.close(t,t=>{t?r(t):e()})})}async function o(t,e){return new Promise((r,n)=>{i.open(t,e,(t,e)=>{t?n(t):r(e)})})}async function s(t,e,r,n,a){return new Promise((o,s)=>{i.read(t,e,r,n,a,(t,e,r)=>{t?s(t):o({bytesRead:e,buffer:r})})})}async function h(t,e){return new Promise((r,n)=>{i.writeFile(t,e,t=>{t?n(t):r()})})}function u(t,e){i.writeFileSync(t,e)}async function l(t){return new Promise((e,r)=>{i.readFile(t,(t,i)=>{t?r(t):e(i)})})}e.pathExists=i.existsSync,e.createReadStream=i.createReadStream,e.stat=n,e.close=a,e.open=o,e.read=s,e.writeFile=h,e.writeFileSync=u,e.readFile=l},60365:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadStreamTokenizer=void 0;let i=r(66409),n=r(16021),a=256e3;class o extends i.AbstractTokenizer{constructor(t,e){super(e),this.streamReader=new n.StreamReader(t)}async getFileInfo(){return this.fileInfo}async readBuffer(t,e){let r=this.normalizeOptions(t,e),i=r.position-this.position;if(i>0)return await this.ignore(i),this.readBuffer(t,e);if(i<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;let a=await this.streamReader.read(t,r.offset,r.length);if(this.position+=a,(!e||!e.mayBeLess)&&a<r.length)throw new n.EndOfStreamError;return a}async peekBuffer(t,e){let r=this.normalizeOptions(t,e),i=0;if(r.position){let e=r.position-this.position;if(e>0){let n=new Uint8Array(r.length+e);return i=await this.peekBuffer(n,{mayBeLess:r.mayBeLess}),t.set(n.subarray(e),r.offset),i-e}if(e<0)throw Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{i=await this.streamReader.peek(t,r.offset,r.length)}catch(t){if(e&&e.mayBeLess&&t instanceof n.EndOfStreamError)return 0;throw t}if(!r.mayBeLess&&i<r.length)throw new n.EndOfStreamError}return i}async ignore(t){let e=Math.min(a,t),r=new Uint8Array(e),i=0;for(;i<t;){let n=t-i,a=await this.readBuffer(r,{length:Math.min(e,n)});if(a<0)return a;i+=a}return i}}e.ReadStreamTokenizer=o},57113:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromBuffer=e.fromStream=e.EndOfStreamError=void 0;let i=r(60365),n=r(52017);var a=r(16021);function o(t,e){return e=e||{},new i.ReadStreamTokenizer(t,e)}function s(t,e){return new n.BufferTokenizer(t,e)}Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),e.fromStream=o,e.fromBuffer=s},5e3:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromStream=e.fromBuffer=e.EndOfStreamError=e.fromFile=void 0;let i=r(70924),n=r(57113);var a=r(17453);Object.defineProperty(e,"fromFile",{enumerable:!0,get:function(){return a.fromFile}});var o=r(57113);async function s(t,e){if(e=e||{},t.path){let r=await i.stat(t.path);e.path=t.path,e.size=r.size}return n.fromStream(t,e)}Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}}),Object.defineProperty(e,"fromBuffer",{enumerable:!0,get:function(){return o.fromBuffer}}),e.fromStream=s},22745:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clone=s,e.addLast=u,e.addFirst=l,e.removeLast=f,e.removeFirst=c,e.insert=d,e.removeAt=p,e.replaceAt=m,e.getIn=g,e.set=_,e.setIn=b,e.update=y,e.updateIn=w,e.merge=x,e.mergeDeep=M,e.mergeIn=E,e.omit=S,e.addDefaults=k,e.default=void 0;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */let r="INVALID_ARGS",i=!1;function n(t){throw Error(t)}function a(t){let e=Object.keys(t);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e}let o={}.hasOwnProperty;function s(t){if(Array.isArray(t))return t.slice();let e=t,r=a(e),i={};for(let t=0;t<r.length;t++){let n=r[t];i[n]=e[n]}return i}function h(t){return null!=t&&"object"==typeof t}function u(t,e){return Array.isArray(e)?t.concat(e):t.concat([e])}function l(t,e){return Array.isArray(e)?e.concat(t):[e].concat(t)}function f(t){return t.length?t.slice(0,t.length-1):t}function c(t){return t.length?t.slice(1):t}function d(t,e,r){return t.slice(0,e).concat(Array.isArray(r)?r:[r]).concat(t.slice(e))}function p(t,e){return e>=t.length||e<0?t:t.slice(0,e).concat(t.slice(e+1))}function m(t,e,r){if(t[e]===r)return t;let i=t.length,n=Array(i);for(let e=0;e<i;e++)n[e]=t[e];return n[e]=r,n}function g(t,e){if(Array.isArray(e)||n(i?"A path array should be provided when calling getIn()":r),null==t)return;let a=t;for(let t=0;t<e.length;t++){let r=e[t];if(void 0===(a=null!=a?a[r]:void 0))break}return a}function _(t,e,r){let i=t;if(null==i&&(i="number"==typeof e?[]:{}),i[e]===r)return i;let n=s(i);return n[e]=r,n}function b(t,e,r){return e.length?v(t,e,r,0):r}function v(t,e,r,i){let n;let a=e[i];return n=i===e.length-1?r:v(h(t)&&h(t[a])?t[a]:"number"==typeof e[i+1]?[]:{},e,r,i+1),_(t,a,n)}function y(t,e,r){let i=r(null==t?void 0:t[e]);return _(t,e,i)}function w(t,e,r){let i=r(g(t,e));return b(t,e,i)}function x(t,e,r,i,n,a,...o){return o.length?I.call(null,!1,!1,t,e,r,i,n,a,...o):I(!1,!1,t,e,r,i,n,a)}function M(t,e,r,i,n,a,...o){return o.length?I.call(null,!1,!0,t,e,r,i,n,a,...o):I(!1,!0,t,e,r,i,n,a)}function E(t,e,r,i,n,a,o,...s){let h,u=g(t,e);return null==u&&(u={}),b(t,e,h=s.length?I.call(null,!1,!1,u,r,i,n,a,o,...s):I(!1,!1,u,r,i,n,a,o))}function S(t,e){let r=Array.isArray(e)?e:[e],i=!1;for(let e=0;e<r.length;e++)if(o.call(t,r[e])){i=!0;break}if(!i)return t;let n={},s=a(t);for(let e=0;e<s.length;e++){let i=s[e];r.indexOf(i)>=0||(n[i]=t[i])}return n}function k(t,e,r,i,n,a,...o){return o.length?I.call(null,!0,!1,t,e,r,i,n,a,...o):I(!0,!1,t,e,r,i,n,a)}function I(t,e,o,...u){let l=o;null!=l||n(i?"At least one object should be provided to merge()":r);let f=!1;for(let r=0;r<u.length;r++){let i=u[r];if(null==i)continue;let n=a(i);if(n.length)for(let r=0;r<=n.length;r++){let a=n[r];if(t&&void 0!==l[a])continue;let o=i[a];e&&h(l[a])&&h(o)&&(o=I(t,e,l[a],o)),void 0!==o&&o!==l[a]&&(f||(f=!0,l=s(l)),l[a]=o)}}return l}var P={clone:s,addLast:u,addFirst:l,removeLast:f,removeFirst:c,insert:d,removeAt:p,replaceAt:m,getIn:g,set:_,setIn:b,update:y,updateIn:w,merge:x,mergeDeep:M,mergeIn:E,omit:S,addDefaults:k};e.default=P},40023:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnsiStringType=e.StringType=e.BufferType=e.Uint8ArrayType=e.IgnoreType=e.Float80_LE=e.Float80_BE=e.Float64_LE=e.Float64_BE=e.Float32_LE=e.Float32_BE=e.Float16_LE=e.Float16_BE=e.INT64_BE=e.UINT64_BE=e.INT64_LE=e.UINT64_LE=e.INT32_LE=e.INT32_BE=e.INT24_BE=e.INT24_LE=e.INT16_LE=e.INT16_BE=e.INT8=e.UINT32_BE=e.UINT32_LE=e.UINT24_BE=e.UINT24_LE=e.UINT16_BE=e.UINT16_LE=e.UINT8=void 0;let i=r(62655);function n(t){return new DataView(t.buffer,t.byteOffset)}e.UINT8={len:1,get:(t,e)=>n(t).getUint8(e),put:(t,e,r)=>(n(t).setUint8(e,r),e+1)},e.UINT16_LE={len:2,get:(t,e)=>n(t).getUint16(e,!0),put:(t,e,r)=>(n(t).setUint16(e,r,!0),e+2)},e.UINT16_BE={len:2,get:(t,e)=>n(t).getUint16(e),put:(t,e,r)=>(n(t).setUint16(e,r),e+2)},e.UINT24_LE={len:3,get(t,e){let r=n(t);return r.getUint8(e)+(r.getUint16(e+1,!0)<<8)},put(t,e,r){let i=n(t);return i.setUint8(e,255&r),i.setUint16(e+1,r>>8,!0),e+3}},e.UINT24_BE={len:3,get(t,e){let r=n(t);return(r.getUint16(e)<<8)+r.getUint8(e+2)},put(t,e,r){let i=n(t);return i.setUint16(e,r>>8),i.setUint8(e+2,255&r),e+3}},e.UINT32_LE={len:4,get:(t,e)=>n(t).getUint32(e,!0),put:(t,e,r)=>(n(t).setUint32(e,r,!0),e+4)},e.UINT32_BE={len:4,get:(t,e)=>n(t).getUint32(e),put:(t,e,r)=>(n(t).setUint32(e,r),e+4)},e.INT8={len:1,get:(t,e)=>n(t).getInt8(e),put:(t,e,r)=>(n(t).setInt8(e,r),e+1)},e.INT16_BE={len:2,get:(t,e)=>n(t).getInt16(e),put:(t,e,r)=>(n(t).setInt16(e,r),e+2)},e.INT16_LE={len:2,get:(t,e)=>n(t).getInt16(e,!0),put:(t,e,r)=>(n(t).setInt16(e,r,!0),e+2)},e.INT24_LE={len:3,get(t,r){let i=e.UINT24_LE.get(t,r);return i>8388607?i-16777216:i},put(t,e,r){let i=n(t);return i.setUint8(e,255&r),i.setUint16(e+1,r>>8,!0),e+3}},e.INT24_BE={len:3,get(t,r){let i=e.UINT24_BE.get(t,r);return i>8388607?i-16777216:i},put(t,e,r){let i=n(t);return i.setUint16(e,r>>8),i.setUint8(e+2,255&r),e+3}},e.INT32_BE={len:4,get:(t,e)=>n(t).getInt32(e),put:(t,e,r)=>(n(t).setInt32(e,r),e+4)},e.INT32_LE={len:4,get:(t,e)=>n(t).getInt32(e,!0),put:(t,e,r)=>(n(t).setInt32(e,r,!0),e+4)},e.UINT64_LE={len:8,get:(t,e)=>n(t).getBigUint64(e,!0),put:(t,e,r)=>(n(t).setBigUint64(e,r,!0),e+8)},e.INT64_LE={len:8,get:(t,e)=>n(t).getBigInt64(e,!0),put:(t,e,r)=>(n(t).setBigInt64(e,r,!0),e+8)},e.UINT64_BE={len:8,get:(t,e)=>n(t).getBigUint64(e),put:(t,e,r)=>(n(t).setBigUint64(e,r),e+8)},e.INT64_BE={len:8,get:(t,e)=>n(t).getBigInt64(e),put:(t,e,r)=>(n(t).setBigInt64(e,r),e+8)},e.Float16_BE={len:2,get(t,e){return i.read(t,e,!1,10,this.len)},put(t,e,r){return i.write(t,r,e,!1,10,this.len),e+this.len}},e.Float16_LE={len:2,get(t,e){return i.read(t,e,!0,10,this.len)},put(t,e,r){return i.write(t,r,e,!0,10,this.len),e+this.len}},e.Float32_BE={len:4,get:(t,e)=>n(t).getFloat32(e),put:(t,e,r)=>(n(t).setFloat32(e,r),e+4)},e.Float32_LE={len:4,get:(t,e)=>n(t).getFloat32(e,!0),put:(t,e,r)=>(n(t).setFloat32(e,r,!0),e+4)},e.Float64_BE={len:8,get:(t,e)=>n(t).getFloat64(e),put:(t,e,r)=>(n(t).setFloat64(e,r),e+8)},e.Float64_LE={len:8,get:(t,e)=>n(t).getFloat64(e,!0),put:(t,e,r)=>(n(t).setFloat64(e,r,!0),e+8)},e.Float80_BE={len:10,get(t,e){return i.read(t,e,!1,63,this.len)},put(t,e,r){return i.write(t,r,e,!1,63,this.len),e+this.len}},e.Float80_LE={len:10,get(t,e){return i.read(t,e,!0,63,this.len)},put(t,e,r){return i.write(t,r,e,!0,63,this.len),e+this.len}};class a{constructor(t){this.len=t}get(t,e){}}e.IgnoreType=a;class o{constructor(t){this.len=t}get(t,e){return t.subarray(e,e+this.len)}}e.Uint8ArrayType=o;class s{constructor(t){this.len=t}get(t,e){return Buffer.from(t.subarray(e,e+this.len))}}e.BufferType=s;class h{constructor(t,e){this.len=t,this.encoding=e}get(t,e){return Buffer.from(t).toString(this.encoding,e,e+this.len)}}e.StringType=h;class u{constructor(t){this.len=t}static decode(t,e,r){let i="";for(let n=e;n<r;++n)i+=u.codePointToString(u.singleByteDecoder(t[n]));return i}static inRange(t,e,r){return e<=t&&t<=r}static codePointToString(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(((t-=65536)>>10)+55296,(1023&t)+56320)}static singleByteDecoder(t){if(u.inRange(t,0,127))return t;let e=u.windows1252[t-128];if(null===e)throw Error("invaliding encoding");return e}get(t,e=0){return u.decode(t,e,e+this.len)}}e.AnsiStringType=u,u.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},53833:(t,e,r)=>{!function(){var e={};function i(){"undefined"==typeof process&&console.log.apply(console,arguments)}t.exports=e,function(t,e){(function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t){this.message="JPEG error: "+t}return t.prototype=Error(),t.prototype.name="JpegError",t.constructor=t}(),i=function(){function t(t,e){this.message=t,this.g=e}return t.prototype=Error(),t.prototype.name="DNLMarkerError",t.constructor=t}();!function(){function n(){this.M=null,this.B=-1}function a(t,e){for(var r,i,n=0,a=[],o=16;0<o&&!t[o-1];)o--;a.push({children:[],index:0});var s,h=a[0];for(r=0;r<o;r++){for(i=0;i<t[r];i++){for((h=a.pop()).children[h.index]=e[n];0<h.index;)h=a.pop();for(h.index++,a.push(h);a.length<=r;)a.push(s={children:[],index:0}),h.children[h.index]=s.children,h=s;n++}r+1<o&&(a.push(s={children:[],index:0}),h.children[h.index]=s.children,h=s)}return a[0].children}function o(t,n,a,o,s,l,f,c,d){function p(){if(0<L)return L--,C>>L&1;if(255===(C=t[n++])){var e=t[n++];if(e){if(220===e&&A){n+=2;var o=t[n++]<<8|t[n++];if(0<o&&o!==a.g)throw new i("Found DNL marker (0xFFDC) while parsing scan data",o)}throw new r("unexpected marker "+(C<<8|e).toString(16))}}return L=7,C>>>7}function m(t){for(;;){if("number"==typeof(t=t[p()]))return t;if("object"!==(void 0===t?"undefined":e(t)))throw new r("invalid huffman sequence")}}function g(t){for(var e=0;0<t;)e=e<<1|p(),t--;return e}function _(t){if(1===t)return 1===p()?1:-1;var e=g(t);return e>=1<<t-1?e:e+(-1<<t)+1}function b(t,e){var r=m(t.D);for(r=0===r?0:_(r),t.a[e]=t.m+=r,r=1;64>r;){var i=m(t.o),n=15&i;if(i>>=4,0===n){if(15>i)break;r+=16}else r+=i,t.a[e+u[r]]=_(n),r++}}function v(t,e){var r=m(t.D);r=0===r?0:_(r)<<d,t.a[e]=t.m+=r}function y(t,e){t.a[e]|=p()<<d}function w(t,e){if(0<D)D--;else for(var r=l;r<=f;){var i=m(t.o),n=15&i;if(i>>=4,0===n){if(15>i){D=g(i)+(1<<i)-1;break}r+=16}else r+=i,t.a[e+u[r]]=_(n)*(1<<d),r++}}function x(t,e){for(var i,n=l,a=0;n<=f;){i=e+u[n];var o=0>t.a[i]?-1:1;switch(z){case 0:if(i=15&(a=m(t.o)),a>>=4,0===i)15>a?(D=g(a)+(1<<a),z=4):(a=16,z=1);else{if(1!==i)throw new r("invalid ACn encoding");S=_(i),z=a?2:3}continue;case 1:case 2:t.a[i]?t.a[i]+=o*(p()<<d):0==--a&&(z=2===z?3:0);break;case 3:t.a[i]?t.a[i]+=o*(p()<<d):(t.a[i]=S<<d,z=0);break;case 4:t.a[i]&&(t.a[i]+=o*(p()<<d))}n++}4===z&&0==--D&&(z=0)}for(var M,E,S,k,I,P,B,A=9<arguments.length&&void 0!==arguments[9]&&arguments[9],T=a.P,O=n,C=0,L=0,D=0,z=0,R=o.length,U=a.S?0===l?0===c?v:y:0===c?w:x:b,F=0,j=1===R?o[0].c*o[0].l:T*a.O;F<j;){var N=s?Math.min(j-F,s):j;for(k=0;k<R;k++)o[k].m=0;if(D=0,1===R){var G=o[0];for(B=0;B<N;B++)U(G,64*((G.c+1)*(F/G.c|0)+F%G.c)),F++}else for(B=0;B<N;B++){for(k=0;k<R;k++)for(M=(G=o[k]).h,E=G.j,I=0;I<E;I++)for(P=0;P<M;P++)U(G,64*((G.c+1)*((F/T|0)*G.j+I)+(F%T*G.h+P)));F++}if(L=0,(G=h(t,n))&&G.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+G.f),n=G.offset),!(G=G&&G.F)||65280>=G)throw new r("marker was not found");if(65488<=G&&65495>=G)n+=2;else break}return(G=h(t,n))&&G.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+G.f),n=G.offset),n-O}function s(t,e){for(var i=e.c,n=e.l,a=new Int16Array(64),o=0;o<n;o++)for(var s=0;s<i;s++){var h=64*((e.c+1)*o+s),u=a,l=e.G,f=e.a;if(!l)throw new r("missing required Quantization Table.");for(var c=0;64>c;c+=8){var d=f[h+c],p=f[h+c+1],m=f[h+c+2],g=f[h+c+3],_=f[h+c+4],b=f[h+c+5],v=f[h+c+6],y=f[h+c+7];if(d*=l[c],0==(p|m|g|_|b|v|y))d=5793*d+512>>10,u[c]=d,u[c+1]=d,u[c+2]=d,u[c+3]=d,u[c+4]=d,u[c+5]=d,u[c+6]=d,u[c+7]=d;else{p*=l[c+1],m*=l[c+2],g*=l[c+3],_*=l[c+4],b*=l[c+5],v*=l[c+6],y*=l[c+7];var w=5793*d+128>>8,x=5793*_+128>>8,M=m,E=v;_=2896*(p-y)+128>>8,y=2896*(p+y)+128>>8,g<<=4,b<<=4,x=(w=w+x+1>>1)-x,d=3784*M+1567*E+128>>8,M=1567*M-3784*E+128>>8,E=d,b=(_=_+b+1>>1)-b,g=(y=y+g+1>>1)-g,E=(w=w+E+1>>1)-E,M=(x=x+M+1>>1)-M,d=2276*_+3406*y+2048>>12,_=3406*_-2276*y+2048>>12,y=d,d=799*g+4017*b+2048>>12,g=4017*g-799*b+2048>>12,b=d,u[c]=w+y,u[c+7]=w-y,u[c+1]=x+b,u[c+6]=x-b,u[c+2]=M+g,u[c+5]=M-g,u[c+3]=E+_,u[c+4]=E-_}}for(l=0;8>l;++l)d=u[l],p=u[l+8],m=u[l+16],g=u[l+24],_=u[l+32],0==(p|m|g|_|(b=u[l+40])|(v=u[l+48])|(y=u[l+56]))?(d=-2040>(d=5793*d+8192>>14)?0:2024<=d?255:d+2056>>4,f[h+l]=d,f[h+l+8]=d,f[h+l+16]=d,f[h+l+24]=d,f[h+l+32]=d,f[h+l+40]=d,f[h+l+48]=d,f[h+l+56]=d):(w=5793*d+2048>>12,x=5793*_+2048>>12,M=m,E=v,_=2896*(p-y)+2048>>12,y=2896*(p+y)+2048>>12,x=(w=(w+x+1>>1)+4112)-x,d=3784*M+1567*E+2048>>12,M=1567*M-3784*E+2048>>12,E=d,b=(_=_+b+1>>1)-b,g=(y=y+g+1>>1)-g,E=(w=w+E+1>>1)-E,M=(x=x+M+1>>1)-M,d=2276*_+3406*y+2048>>12,_=3406*_-2276*y+2048>>12,y=d,d=799*g+4017*b+2048>>12,g=4017*g-799*b+2048>>12,b=d,d=w+y,y=w-y,p=x+b,v=x-b,m=M+g,b=M-g,d=16>d?0:4080<=d?255:d>>4,p=16>p?0:4080<=p?255:p>>4,m=16>m?0:4080<=m?255:m>>4,g=16>(g=E+_)?0:4080<=g?255:g>>4,_=16>(_=E-_)?0:4080<=_?255:_>>4,b=16>b?0:4080<=b?255:b>>4,v=16>v?0:4080<=v?255:v>>4,y=16>y?0:4080<=y?255:y>>4,f[h+l]=d,f[h+l+8]=p,f[h+l+16]=m,f[h+l+24]=g,f[h+l+32]=_,f[h+l+40]=b,f[h+l+48]=v,f[h+l+56]=y)}return e.a}function h(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,i=t.length-1;if(r=r<e?r:e,e>=i)return null;var n=t[e]<<8|t[e+1];if(65472<=n&&65534>=n)return{f:null,F:n,offset:e};for(var a=t[r]<<8|t[r+1];!(65472<=a&&65534>=a);){if(++r>=i)return null;a=t[r]<<8|t[r+1]}return{f:n.toString(16),F:a,offset:r}}var u=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);n.prototype={parse:function(t){function e(){var e=t[d]<<8|t[d+1];return d+=2,e}function n(){var r=e(),i=h(t,r=d+r-2,d);return i&&i.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+i.f),r=i.offset),r=t.subarray(d,r),d+=r.length,r}function l(t){for(var e=Math.ceil(t.v/8/t.s),r=Math.ceil(t.g/8/t.u),i=0;i<t.b.length;i++){I=t.b[i];var n=Math.ceil(Math.ceil(t.v/8)*I.h/t.s),a=Math.ceil(Math.ceil(t.g/8)*I.j/t.u);I.a=new Int16Array(64*r*I.j*(e*I.h+1)),I.c=n,I.l=a}t.P=e,t.O=r}var f=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,c=void 0===f?null:f,d=0,p=null,m=0;f=[];var g=[],_=[],b=e();if(65496!==b)throw new r("SOI not found");for(b=e();65497!==b;){switch(b){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v,y=n();65518===b&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&(p={version:y[5]<<8|y[6],Y:y[7]<<8|y[8],Z:y[9]<<8|y[10],W:y[11]});break;case 65499:for(b=e()+d-2;d<b;){var w=t[d++],x=new Uint16Array(64);if(0==w>>4)for(y=0;64>y;y++)x[v=u[y]]=t[d++];else if(1==w>>4)for(y=0;64>y;y++)x[v=u[y]]=e();else throw new r("DQT - invalid table spec");f[15&w]=x}break;case 65472:case 65473:case 65474:if(M)throw new r("Only single frame JPEGs supported");e();var M={};for(M.X=65473===b,M.S=65474===b,M.precision=t[d++],b=e(),M.g=c||b,M.v=e(),M.b=[],M.C={},y=t[d++],b=x=w=0;b<y;b++){v=t[d];var E=t[d+1]>>4,S=15&t[d+1];w<E&&(w=E),x<S&&(x=S),E=M.b.push({h:E,j:S,T:t[d+2],G:null}),M.C[v]=E-1,d+=3}M.s=w,M.u=x,l(M);break;case 65476:for(b=2,v=e();b<v;){for(w=t[d++],x=new Uint8Array(16),y=E=0;16>y;y++,d++)E+=x[y]=t[d];for(y=0,S=new Uint8Array(E);y<E;y++,d++)S[y]=t[d];b+=17+E,(0==w>>4?_:g)[15&w]=a(x,S)}break;case 65501:e();var k=e();break;case 65498:for(y=1==++m&&!c,e(),w=t[d++],v=[],b=0;b<w;b++){x=M.C[t[d++]];var I=M.b[x];x=t[d++],I.D=_[x>>4],I.o=g[15&x],v.push(I)}b=t[d++],w=t[d++],x=t[d++];try{var P=o(t,d,M,v,k,b,w,x>>4,15&x,y);d+=P}catch(e){if(e instanceof i)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(t,{N:e.g});throw e}break;case 65500:d+=4;break;case 65535:255!==t[d]&&d--;break;default:if(255===t[d-3]&&192<=t[d-2]&&254>=t[d-2])d-=3;else if((y=h(t,d-2))&&y.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+y.f),d=y.offset;else throw new r("unknown marker "+b.toString(16))}b=e()}for(b=0,this.width=M.v,this.height=M.g,this.A=p,this.b=[];b<M.b.length;b++)(k=f[(I=M.b[b]).T])&&(I.G=k),this.b.push({R:s(M,I),U:I.h/M.s,V:I.j/M.u,c:I.c,l:I.l});this.i=this.b.length},L:function(t,e){var r,i,n=this.width/t,a=this.height/e,o=this.b.length,s=t*e*o,h=new Uint8ClampedArray(s),u=new Uint32Array(t);for(i=0;i<o;i++){var l=this.b[i],f=l.U*n,c=l.V*a,d=i,p=l.R,m=l.c+1<<3;for(r=0;r<t;r++)l=0|r*f,u[r]=(4294967288&l)<<3|7&l;for(f=0;f<e;f++)for(l=m*(4294967288&(l=0|f*c))|(7&l)<<3,r=0;r<t;r++)h[d]=p[l+u[r]],d+=o}if(a=this.M)for(i=0;i<s;)for(n=l=0;l<o;l++,i++,n+=2)h[i]=(h[i]*a[n]>>8)+a[n+1];return h},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(t){for(var e,r,i,n=0,a=t.length;n<a;n+=3)e=t[n],r=t[n+1],i=t[n+2],t[n]=e-179.456+1.402*i,t[n+1]=e+135.459-.344*r-.714*i,t[n+2]=e-226.816+1.772*r;return t},K:function(t){for(var e,r,i,n,a=0,o=0,s=t.length;o<s;o+=4)e=t[o],r=t[o+1],i=t[o+2],n=t[o+3],t[a++]=-122.67195406894+r*(-.0000660635669420364*r+437130475926232e-18*i-54080610064599e-18*e+48449797120281e-17*n-.154362151871126)+i*(-.000957964378445773*i+817076911346625e-18*e-.00477271405408747*n+1.53380253221734)+e*(961250184130688e-18*e-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776),t[a++]=107.268039397724+r*(219927104525741e-19*r-640992018297945e-18*i+659397001245577e-18*e+426105652938837e-18*n-.176491792462875)+i*(-.000778269941513683*i+.00130872261408275*e+770482631801132e-18*n-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665),t[a++]=-20.810012546947+r*(-.000570115196973677*r-263409051004589e-19*i+.0020741088115012*e-.00288260236853442*n+.814272968359295)+i*(-.0000153496057440975*i-132689043961446e-18*e+560833691242812e-18*n-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407);return t.subarray(0,a)},J:function(t){for(var e,r,i,n=0,a=t.length;n<a;n+=4)e=t[n],r=t[n+1],i=t[n+2],t[n]=434.456-e-1.402*i,t[n+1]=119.541-e+.344*r+.714*i,t[n+2]=481.816-e-1.772*r;return t},H:function(t){for(var e,r,i,n,a=0,o=1/255,s=0,h=t.length;s<h;s+=4)e=t[s]*o,r=t[s+1]*o,i=t[s+2]*o,n=t[s+3]*o,t[a++]=255+e*(-4.387332384609988*e+54.48615194189176*r+18.82290502165302*i+212.25662451639585*n-285.2331026137004)+r*(1.7149763477362134*r-5.6096736904047315*i-17.873870861415444*n-5.497006427196366)+i*(-2.5217340131683033*i-21.248923337353073*n+17.5119270841813)-n*(21.86122147463605*n+189.48180835922747),t[a++]=255+e*(8.841041422036149*e+60.118027045597366*r+6.871425592049007*i+31.159100130055922*n-79.2970844816548)+r*(-15.310361306967817*r+17.575251261109482*i+131.35250912493976*n-190.9453302588951)+i*(4.444339102852739*i+9.8632861493405*n-24.86741582555878)-n*(20.737325471181034*n+187.80453709719578),t[a++]=255+e*(.8842522430003296*e+8.078677503112928*r+30.89978309703729*i-.23883238689178934*n-14.183576799673286)+r*(10.49593273432072*r+63.02378494754052*i+50.606957656360734*n-112.23884253719248)+i*(.03296041114873217*i+115.60384449646641*n-193.58209356861505)-n*(22.33816807309886*n+180.12613974708367);return t.subarray(0,a)},getData:function(t,e,i){if(4<this.i)throw new r("Unsupported color mode");if(t=this.L(t,e),1===this.i&&i){e=new Uint8ClampedArray(3*(i=t.length));for(var n=0,a=0;a<i;a++){var o=t[a];e[n++]=o,e[n++]=o,e[n++]=o}return e}if(3===this.i&&this.w())return this.I(t);if(4===this.i){if(this.w())return i?this.K(t):this.J(t);if(i)return this.H(t)}return t}},t.JpegDecoder=n}()})(),t.encodeImage=function(e,r,i,n){var a={t256:[r],t257:[i],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[i],t279:[r*i*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(n)for(var o in n)a[o]=n[o];for(var s=new Uint8Array(t.encode([a])),h=new Uint8Array(e),u=new Uint8Array(1e3+r*i*4),o=0;o<s.length;o++)u[o]=s[o];for(var o=0;o<h.length;o++)u[1e3+o]=h[o];return u.buffer},t.encode=function(e){var r=new Uint8Array(2e4),i=4,n=t._binBE;r[0]=77,r[1]=77,r[3]=42;var a=8;n.writeUint(r,i,a),i+=4;for(var o=0;o<e.length;o++){var s=t._writeIFD(n,r,a,e[o]);a=s[1],o<e.length-1&&n.writeUint(r,s[0],a)}return r.slice(0,a).buffer},t.decode=function(e){t.decode._decodeG3.allow2D=null;var r=new Uint8Array(e),i=0,n=t._binBE.readASCII(r,i,2);i+=2;var a="II"==n?t._binLE:t._binBE;a.readUshort(r,i),i+=2;var o=a.readUint(r,i);i+=4;for(var s=[];;){var h=t._readIFD(a,r,o,s);if(0==(o=a.readUint(r,h)))break}return s},t.decodeImages=function(e,r){for(var n=new Uint8Array(e),a=t._binBE.readASCII(n,0,2),o=0;o<r.length;o++){var s=r[o];if(null!=s.t256){s.isLE="II"==a,s.width=s.t256[0],s.height=s.t257[0];var h=s.t259?s.t259[0]:1,u=s.t266?s.t266[0]:1;s.t284&&2==s.t284[0]&&i("PlanarConfiguration 2 should not be used!");var l=(s.t258?Math.min(32,s.t258[0]):1)*(s.t277?s.t277[0]:1),f=8*Math.ceil(s.width*l/8),c=s.t273;null==c&&(c=s.t324);var d=s.t279;1==h&&1==c.length&&(d=[s.height*(f>>>3)]),null==d&&(d=s.t325);var p=new Uint8Array(s.height*(f>>>3)),m=0;if(null!=s.t322){for(var g=s.t322[0],_=s.t323[0],b=Math.floor((s.width+g-1)/g),v=Math.floor((s.height+_-1)/_),y=new Uint8Array(0|Math.ceil(g*_*l/8)),w=0;w<v;w++)for(var x=0;x<b;x++){for(var M=w*b+x,E=0;E<y.length;E++)y[E]=0;t.decode._decompress(s,n,c[M],d[M],h,y,0,u),6==h?p=y:t._copyTile(y,0|Math.ceil(g*l/8),_,p,0|Math.ceil(s.width*l/8),s.height,0|Math.ceil(x*g*l/8),w*_)}m=8*p.length}else{var S=s.t278?s.t278[0]:s.height;S=Math.min(S,s.height);for(var M=0;M<c.length;M++)t.decode._decompress(s,n,c[M],d[M],h,p,0|Math.ceil(m/8),u),m+=f*S;m=Math.min(m,8*p.length)}s.data=new Uint8Array(p.buffer,0,0|Math.ceil(m/8))}}},t.decode._decompress=function(r,n,a,o,s,h,u,l){if(1==s)for(var f=0;f<o;f++)h[u+f]=n[a+f];else if(3==s)t.decode._decodeG3(n,a,o,h,u,r.width,l);else if(4==s)t.decode._decodeG4(n,a,o,h,u,r.width,l);else if(5==s)t.decode._decodeLZW(n,a,h,u);else if(6==s)t.decode._decodeOldJPEG(r,n,a,o,h,u);else if(7==s)t.decode._decodeNewJPEG(r,n,a,o,h,u);else if(8==s)for(var c=new Uint8Array(n.buffer,a,o),d=e.inflate(c),p=0;p<d.length;p++)h[u+p]=d[p];else 32773==s?t.decode._decodePackBits(n,a,o,h,u):32809==s?t.decode._decodeThunder(n,a,o,h,u):i("Unknown compression",s);if(r.t317&&2==r.t317[0])for(var m=r.t277?r.t277[0]:1,g=r.t278?r.t278[0]:r.height,_=r.width*m,b=0;b<g;b++){var v=u+b*_;if(3==m)for(var f=3;f<_;f+=3)h[v+f]=h[v+f]+h[v+f-3]&255,h[v+f+1]=h[v+f+1]+h[v+f-2]&255,h[v+f+2]=h[v+f+2]+h[v+f-1]&255;else for(var f=m;f<_;f++)h[v+f]=h[v+f]+h[v+f-m]&255}},t.decode._decodeNikon=function(t,e,r,n,a){var o,s;i(t.slice(e,e+100)),o=t[e],s=t[++e],e++,i(o.toString(16),s.toString(16),r)},t.decode._decodeNewJPEG=function(e,r,i,n,a,o){var s=e.t347,h=s?s.length:0,u=new Uint8Array(h+n);if(s){for(var l=216,f=217,c=0,d=0;d<h-1&&(255!=s[d]||s[d+1]!=f);d++)u[c++]=s[d];var p=r[i],m=r[i+1];(255!=p||m!=l)&&(u[c++]=p,u[c++]=m);for(var d=2;d<n;d++)u[c++]=r[i+d]}else for(var d=0;d<n;d++)u[d]=r[i+d];if(32803==e.t262){var g=e.t258[0],_=new LosslessJpegDecoder().decode(u),b=_.length;if(16==g)for(var d=0;d<b;d++)a[o++]=255&_[d],a[o++]=_[d]>>>8;else if(12==g)for(var d=0;d<b;d+=2)a[o++]=_[d]>>>4,a[o++]=(_[d]<<4|_[d+1]>>>8)&255,a[o++]=255&_[d+1];else throw Error("unsupported bit depth "+g)}else{var v=new t.JpegDecoder;v.parse(u);for(var y=v.getData(v.width,v.height),d=0;d<y.length;d++)a[o+d]=y[d]}6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodeOldJPEGInit=function(t,e,r,n){var a,o,s,h,u,l=216,f=219,c=196,d=221,p=192,m=218,g=0,_=0,b=!1,v=t.t513,y=v?v[0]:0,w=t.t514,x=w?w[0]:0,M=t.t324||t.t273||v,E=t.t530,S=0,k=0,I=t.t277?t.t277[0]:1,P=t.t515;if(M&&(_=M[0],b=M.length>1),!b){if(255==e[r]&&e[r+1]==l)return{jpegOffset:r};if(null!=v&&(255==e[r+y]&&e[r+y+1]==l?g=r+y:i("JPEGInterchangeFormat does not point to SOI"),null==w?i("JPEGInterchangeFormatLength field is missing"):(y>=_||y+x<=_)&&i("JPEGInterchangeFormatLength field value is invalid"),null!=g))return{jpegOffset:g}}if(null!=E&&(S=E[0],k=E[1]),null!=v&&null!=w){if(x>=2&&y+x<=_){for(s=0,a=new Uint8Array(255==e[r+y+x-2]&&e[r+y+x-1]==l?x-2:x);s<a.length;s++)a[s]=e[r+y+s];i("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else i("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile")}if(null==a){var B=0,A=[];A[B++]=255,A[B++]=l;var T=t.t519;if(null==T)throw Error("JPEGQTables tag is missing");for(s=0;s<T.length;s++)for(h=0,A[B++]=255,A[B++]=f,A[B++]=0,A[B++]=67,A[B++]=s;h<64;h++)A[B++]=e[r+T[s]+h];for(u=0;u<2;u++){var O=t[0==u?"t520":"t521"];if(null==O)throw Error((0==u?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(s=0;s<O.length;s++){A[B++]=255,A[B++]=c;var C=19;for(h=0;h<16;h++)C+=e[r+O[s]+h];for(h=0,A[B++]=C>>>8,A[B++]=255&C,A[B++]=s|u<<4;h<16;h++)A[B++]=e[r+O[s]+h];for(h=0;h<C;h++)A[B++]=e[r+O[s]+16+h]}}if(A[B++]=255,A[B++]=p,A[B++]=0,A[B++]=8+3*I,A[B++]=8,A[B++]=t.height>>>8&255,A[B++]=255&t.height,A[B++]=t.width>>>8&255,A[B++]=255&t.width,A[B++]=I,1==I)A[B++]=1,A[B++]=17,A[B++]=0;else for(s=0;s<3;s++)A[B++]=s+1,A[B++]=0!=s?17:(15&S)<<4|15&k,A[B++]=s;null!=P&&0!=P[0]&&(A[B++]=255,A[B++]=d,A[B++]=0,A[B++]=4,A[B++]=P[0]>>>8&255,A[B++]=255&P[0]),a=new Uint8Array(A)}var L=-1;for(s=0;s<a.length-1;){if(255==a[s]&&a[s+1]==p){L=s;break}s++}if(-1==L){var D=new Uint8Array(a.length+10+3*I);D.set(a);var z=a.length;if(L=a.length,(a=D)[z++]=255,a[z++]=p,a[z++]=0,a[z++]=8+3*I,a[z++]=8,a[z++]=t.height>>>8&255,a[z++]=255&t.height,a[z++]=t.width>>>8&255,a[z++]=255&t.width,a[z++]=I,1==I)a[z++]=1,a[z++]=17,a[z++]=0;else for(s=0;s<3;s++)a[z++]=s+1,a[z++]=0!=s?17:(15&S)<<4|15&k,a[z++]=s}if(255==e[_]&&e[_+1]==m){var R=e[_+2]<<8|e[_+3];for(s=0,(o=new Uint8Array(R+2))[0]=e[_],o[1]=e[_+1],o[2]=e[_+2],o[3]=e[_+3];s<R-2;s++)o[s+4]=e[_+s+4]}else{o=new Uint8Array(8+2*I);var U=0;if(o[U++]=255,o[U++]=m,o[U++]=0,o[U++]=6+2*I,o[U++]=I,1==I)o[U++]=1,o[U++]=0;else for(s=0;s<3;s++)o[U++]=s+1,o[U++]=s<<4|s;o[U++]=0,o[U++]=63,o[U++]=0}return{jpegOffset:r,tables:a,sosMarker:o,sofPosition:L}},t.decode._decodeOldJPEG=function(e,r,i,n,a,o){var s,h,u,l,f,c=t.decode._decodeOldJPEGInit(e,r,i,n);if(null!=c.jpegOffset)for(s=0,l=new Uint8Array(h=i+n-c.jpegOffset);s<h;s++)l[s]=r[c.jpegOffset+s];else{for((l=new Uint8Array((u=c.tables.length)+c.sosMarker.length+n+2)).set(c.tables),f=u,l[c.sofPosition+5]=e.height>>>8&255,l[c.sofPosition+6]=255&e.height,l[c.sofPosition+7]=e.width>>>8&255,l[c.sofPosition+8]=255&e.width,(255!=r[i]||r[i+1]!=SOS)&&(l.set(c.sosMarker,bufoff),bufoff+=sosMarker.length),s=0;s<n;s++)l[bufoff++]=r[i+s];l[bufoff++]=255,l[bufoff++]=EOI}var d=new t.JpegDecoder;d.parse(l);for(var p=d.getData(d.width,d.height),s=0;s<p.length;s++)a[o+s]=p[s];6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodePackBits=function(t,e,r,i,n){for(var a=new Int8Array(t.buffer),o=new Int8Array(i.buffer),s=e+r;e<s;){var h=a[e];if(e++,h>=0&&h<128)for(var u=0;u<h+1;u++)o[n]=a[e],n++,e++;if(h>=-127&&h<0){for(var u=0;u<-h+1;u++)o[n]=a[e],n++;e++}}},t.decode._decodeThunder=function(t,e,r,i,n){for(var a=[0,1,0,-1],o=[0,1,2,3,0,-3,-2,-1],s=e+r,h=2*n,u=0;e<s;){var l=t[e],f=l>>>6,c=63&l;if(e++,3==f&&(u=15&c,i[h>>>1]|=u<<4*(1-h&1),h++),0==f)for(var d=0;d<c;d++)i[h>>>1]|=u<<4*(1-h&1),h++;if(2==f)for(var d=0;d<2;d++){var p=c>>>3*(1-d)&7;4!=p&&(u+=o[p],i[h>>>1]|=u<<4*(1-h&1),h++)}if(1==f)for(var d=0;d<3;d++){var p=c>>>2*(2-d)&3;2!=p&&(u+=a[p],i[h>>>1]|=u<<4*(1-h&1),h++)}}},t.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},t.decode._lens=function(){var t=function(t,e,r,i){for(var n=0;n<e.length;n++)t[e[n]]=r+n*i},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",n="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),r=r.split(","),i=i.split(","),n=n.split(","),a=a.split(",");var o={},s={};return t(o,e,0,1),t(o,i,64,64),t(o,a,1792,64),t(s,r,0,1),t(s,n,64,64),t(s,a,1792,64),[o,s]}(),t.decode._decodeG4=function(e,r,i,n,a,o,s){for(var h=t.decode,u=r<<3,l=0,f="",c=[],d=[],p=0;p<o;p++)d.push(0);d=h._makeDiff(d);for(var m=0,g=0,_=0,b=0,v=0,y=0,w="",x=0,M=8*Math.ceil(o/8);u>>>3<r+i;){_=h._findDiff(d,m+(0==m?0:1),1-v),b=h._findDiff(d,_,v);var E=0;if(1==s&&(E=e[u>>>3]>>>7-(7&u)&1),2==s&&(E=e[u>>>3]>>>(7&u)&1),u++,f+=E,"H"==w){if(null!=h._lens[v][f]){var S=h._lens[v][f];f="",l+=S,S<64&&(h._addNtimes(c,l,v),m+=l,v=1-v,l=0,0==--x&&(w=""))}}else"0001"==f&&(f="",h._addNtimes(c,b-m,v),m=b),"001"==f&&(f="",w="H",x=2),null!=h._dmap[f]&&(g=_+h._dmap[f],h._addNtimes(c,g-m,v),m=g,f="",v=1-v);c.length==o&&""==w&&(h._writeBits(c,n,8*a+y*M),v=0,y++,m=0,d=h._makeDiff(c),c=[])}},t.decode._findDiff=function(t,e,r){for(var i=0;i<t.length;i+=2)if(t[i]>=e&&t[i+1]==r)return t[i]},t.decode._makeDiff=function(t){var e=[];1==t[0]&&e.push(0,1);for(var r=1;r<t.length;r++)t[r-1]!=t[r]&&e.push(r,t[r]);return e.push(t.length,0,t.length,1),e},t.decode._decodeG3=function(e,r,i,n,a,o,s){for(var h=t.decode,u=r<<3,l=0,f="",c=[],d=[],p=0;p<o;p++)c.push(0);for(var m=0,g=0,_=0,b=0,v=0,y=-1,w="",x=0,M=!1,E=8*Math.ceil(o/8);u>>>3<r+i;){_=h._findDiff(d,m+(0==m?0:1),1-v),b=h._findDiff(d,_,v);var S=0;if(1==s&&(S=e[u>>>3]>>>7-(7&u)&1),2==s&&(S=e[u>>>3]>>>(7&u)&1),u++,f+=S,M){if(null!=h._lens[v][f]){var k=h._lens[v][f];f="",l+=k,k<64&&(h._addNtimes(c,l,v),v=1-v,l=0)}}else if("H"==w){if(null!=h._lens[v][f]){var k=h._lens[v][f];f="",l+=k,k<64&&(h._addNtimes(c,l,v),m+=l,v=1-v,l=0,0==--x&&(w=""))}}else"0001"==f&&(f="",h._addNtimes(c,b-m,v),m=b),"001"==f&&(f="",w="H",x=2),null!=h._dmap[f]&&(g=_+h._dmap[f],h._addNtimes(c,g-m,v),m=g,f="",v=1-v);f.endsWith("000000000001")&&(y>=0&&h._writeBits(c,n,8*a+y*E),1==s&&(M=(e[u>>>3]>>>7-(7&u)&1)==1),2==s&&(M=(e[u>>>3]>>>(7&u)&1)==1),u++,null==h._decodeG3.allow2D&&(h._decodeG3.allow2D=M),!h._decodeG3.allow2D&&(M=!0,u--),f="",v=0,y++,m=0,d=h._makeDiff(c),c=[])}c.length==o&&h._writeBits(c,n,8*a+y*E)},t.decode._addNtimes=function(t,e,r){for(var i=0;i<e;i++)t.push(r)},t.decode._writeBits=function(t,e,r){for(var i=0;i<t.length;i++)e[r+i>>>3]|=t[i]<<7-(r+i&7)},t.decode._decodeLZW=function(e,r,i,n){if(null==t.decode._lzwTab){for(var a=new Uint32Array(65535),o=new Uint16Array(65535),s=new Uint8Array(2e6),h=0;h<256;h++)s[h<<2]=h,a[h]=h<<2,o[h]=1;t.decode._lzwTab=[a,o,s]}for(var u=t.decode._copyData,l=t.decode._lzwTab[0],f=t.decode._lzwTab[1],s=t.decode._lzwTab[2],c=258,d=1032,p=9,m=r<<3,g=256,_=257,b=0,v=0,y=0;v=(b=e[m>>>3]<<16|e[m+8>>>3]<<8|e[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,v!=_;){if(v==g){if(p=9,c=258,d=1032,v=(b=e[m>>>3]<<16|e[m+8>>>3]<<8|e[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,v==_)break;i[n]=v,n++}else if(v<c){var w=l[v],x=f[v];if(u(s,w,i,n,x),n+=x,y>=c)l[c]=d,s[l[c]]=w[0],f[c]=1,d=d+1+3&-4,c++;else{l[c]=d;var M=l[y],E=f[y];u(s,M,s,d,E),s[d+E]=s[w],E++,f[c]=E,c++,d=d+E+3&-4}c+1==1<<p&&p++}else{if(y>=c)l[c]=d,f[c]=0,c++;else{l[c]=d;var M=l[y],E=f[y];u(s,M,s,d,E),s[d+E]=s[d],E++,f[c]=E,c++,u(s,d,i,n,E),n+=E,d=d+E+3&-4}c+1==1<<p&&p++}y=v}},t.decode._copyData=function(t,e,r,i,n){for(var a=0;a<n;a+=4)r[i+a]=t[e+a],r[i+a+1]=t[e+a+1],r[i+a+2]=t[e+a+2],r[i+a+3]=t[e+a+3]},t.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},t.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},t._readIFD=function(e,r,n,a){var o=e.readUshort(r,n);n+=2;var s={};a.push(s);for(var h=0;h<o;h++){var u=e.readUshort(r,n);n+=2;var l=e.readUshort(r,n);n+=2;var f=e.readUint(r,n);n+=4;var c=e.readUint(r,n);n+=4;var d=[];if(s["t"+u]=d,1==l||7==l)for(var p=0;p<f;p++)d.push(r[(f<5?n-4:c)+p]);if(2==l&&d.push(e.readASCII(r,f<5?n-4:c,f-1)),3==l)for(var p=0;p<f;p++)d.push(e.readUshort(r,(f<3?n-4:c)+2*p));if(4==l)for(var p=0;p<f;p++)d.push(e.readUint(r,(f<2?n-4:c)+4*p));if(5==l)for(var p=0;p<f;p++)d.push(e.readUint(r,c+8*p)/e.readUint(r,c+8*p+4));if(8==l)for(var p=0;p<f;p++)d.push(e.readShort(r,(f<3?n-4:c)+2*p));if(9==l)for(var p=0;p<f;p++)d.push(e.readInt(r,(f<2?n-4:c)+4*p));if(10==l)for(var p=0;p<f;p++)d.push(e.readInt(r,c+8*p)/e.readInt(r,c+8*p+4));if(11==l)for(var p=0;p<f;p++)d.push(e.readFloat(r,c+4*p));if(12==l)for(var p=0;p<f;p++)d.push(e.readDouble(r,c+8*p));if(0!=f&&0==d.length&&i("unknown TIFF tag type: ",l,"num:",f),330==u)for(var p=0;p<f;p++)t._readIFD(e,r,d[p],a)}return n},t._writeIFD=function(e,r,i,n){var a=Object.keys(n);e.writeUshort(r,i,a.length);for(var o=(i+=2)+12*a.length+4,s=0;s<a.length;s++){var h=a[s],u=parseInt(h.slice(1)),l=t.ttypes[u];if(null==l)throw Error("unknown type of tag: "+u);var f=n[h];2==l&&(f=f[0]+"\0");var c=f.length;e.writeUshort(r,i,u),i+=2,e.writeUshort(r,i,l),i+=2,e.writeUint(r,i,c);var d=[-1,1,1,2,4,8,0,0,0,0,0,0,8][l]*c,p=i+=4;if(d>4&&(e.writeUint(r,i,o),p=o),2==l&&e.writeASCII(r,p,f),3==l)for(var m=0;m<c;m++)e.writeUshort(r,p+2*m,f[m]);if(4==l)for(var m=0;m<c;m++)e.writeUint(r,p+4*m,f[m]);if(5==l)for(var m=0;m<c;m++)e.writeUint(r,p+8*m,Math.round(1e4*f[m])),e.writeUint(r,p+8*m+4,1e4);if(12==l)for(var m=0;m<c;m++)e.writeDouble(r,p+8*m,f[m]);d>4&&(d+=1&d,o+=d),i+=4}return[i,o]},t.toRGBA8=function(t){var e=t.width,r=t.height,n=e*r,a=4*n,o=t.data,s=new Uint8Array(4*n),h=t.t262[0],u=t.t258?Math.min(32,t.t258[0]):1,l=t.isLE?1:0;if(0==h)for(var f=Math.ceil(u*e/8),c=0;c<r;c++){var d=c*f,p=c*e;if(1==u)for(var m=0;m<e;m++){var g=p+m<<2,_=o[d+(m>>3)]>>7-(7&m)&1;s[g]=s[g+1]=s[g+2]=(1-_)*255,s[g+3]=255}if(4==u)for(var m=0;m<e;m++){var g=p+m<<2,_=o[d+(m>>1)]>>4-4*(1&m)&15;s[g]=s[g+1]=s[g+2]=(15-_)*17,s[g+3]=255}if(8==u)for(var m=0;m<e;m++){var g=p+m<<2,_=o[d+m];s[g]=s[g+1]=s[g+2]=255-_,s[g+3]=255}}else if(1==h)for(var f=Math.ceil(u*e/8),c=0;c<r;c++){var d=c*f,p=c*e;if(1==u)for(var m=0;m<e;m++){var g=p+m<<2,_=o[d+(m>>3)]>>7-(7&m)&1;s[g]=s[g+1]=s[g+2]=255*_,s[g+3]=255}if(2==u)for(var m=0;m<e;m++){var g=p+m<<2,_=o[d+(m>>2)]>>6-2*(3&m)&3;s[g]=s[g+1]=s[g+2]=85*_,s[g+3]=255}if(8==u)for(var m=0;m<e;m++){var g=p+m<<2,_=o[d+m];s[g]=s[g+1]=s[g+2]=_,s[g+3]=255}if(16==u)for(var m=0;m<e;m++){var g=p+m<<2,_=o[d+(2*m+l)];s[g]=s[g+1]=s[g+2]=Math.min(255,_),s[g+3]=255}}else if(2==h){if(8==u){if(t.t338){if(t.t338[0]>0)for(var m=0;m<a;m++)s[m]=o[m];else for(var m=0;m<a;m+=4)s[m]=o[m],s[m+1]=o[m+1],s[m+2]=o[m+2],s[m+3]=255}else{var b=t.t258?t.t258.length:3;if(4==b)for(var m=0;m<a;m++)s[m]=o[m];if(3==b)for(var m=0;m<n;m++){var g=m<<2,v=3*m;s[g]=o[v],s[g+1]=o[v+1],s[g+2]=o[v+2],s[g+3]=255}}}else for(var m=0;m<n;m++){var g=m<<2,v=6*m;s[g]=o[v],s[g+1]=o[v+2],s[g+2]=o[v+4],s[g+3]=255}}else if(3==h)for(var y=t.t320,m=0;m<n;m++){var g=m<<2,w=o[m];s[g]=y[w]>>8,s[g+1]=y[256+w]>>8,s[g+2]=y[512+w]>>8,s[g+3]=255}else if(5==h)for(var b=t.t258?t.t258.length:4,x=b>4?1:0,m=0;m<n;m++){var g=m<<2,M=m*b,E=255-o[M],S=255-o[M+1],k=255-o[M+2],I=(255-o[M+3])*(1/255);s[g]=~~(E*I+.5),s[g+1]=~~(S*I+.5),s[g+2]=~~(k*I+.5),s[g+3]=255*(1-x)+o[M+4]*x}else i("Unknown Photometric interpretation: "+h);return s},t.replaceIMG=function(){for(var e=document.getElementsByTagName("img"),r=0;r<e.length;r++){var i=e[r],n=i.getAttribute("src");if(null!=n){var a=n.split(".").pop().toLowerCase();if("tif"==a||"tiff"==a){var o=new XMLHttpRequest;t._xhrs.push(o),t._imgs.push(i),o.open("GET",n),o.responseType="arraybuffer",o.onload=t._imgLoaded,o.send()}}}},t._xhrs=[],t._imgs=[],t._imgLoaded=function(e){var r=e.target.response,i=t.decode(r),n=i[0];t.decodeImages(r,i);var a=t.toRGBA8(n),o=n.width,s=n.height,h=t._xhrs.indexOf(e.target),u=t._imgs[h];t._xhrs.splice(h,1),t._imgs.splice(h,1);var l=document.createElement("canvas");l.width=o,l.height=s;for(var f=l.getContext("2d"),c=f.createImageData(o,s),d=0;d<a.length;d++)c.data[d]=a[d];f.putImageData(c,0,0);for(var p=["style","class","id"],d=0;d<p.length;d++)l.setAttribute(p[d],u.getAttribute(p[d]));u.parentNode.replaceChild(l,u)},t._binBE={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},readShort:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+1],i[1]=e[r+0],t._binBE.i16[0]},readInt:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+3],i[1]=e[r+2],i[2]=e[r+1],i[3]=e[r+0],t._binBE.i32[0]},readUint:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+3],i[1]=e[r+2],i[2]=e[r+1],i[3]=e[r+0],t._binBE.ui32[0]},readASCII:function(t,e,r){for(var i="",n=0;n<r;n++)i+=String.fromCharCode(t[e+n]);return i},readFloat:function(e,r){for(var i=t._binBE.ui8,n=0;n<4;n++)i[n]=e[r+3-n];return t._binBE.fl32[0]},readDouble:function(e,r){for(var i=t._binBE.ui8,n=0;n<8;n++)i[n]=e[r+7-n];return t._binBE.fl64[0]},writeUshort:function(t,e,r){t[e]=r>>8&255,t[e+1]=255&r},writeUint:function(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r>>0&255},writeASCII:function(t,e,r){for(var i=0;i<r.length;i++)t[e+i]=r.charCodeAt(i)},writeDouble:function(e,r,i){t._binBE.fl64[0]=i;for(var n=0;n<8;n++)e[r+n]=t._binBE.ui8[7-n]}},t._binBE.ui8=new Uint8Array(8),t._binBE.i16=new Int16Array(t._binBE.ui8.buffer),t._binBE.i32=new Int32Array(t._binBE.ui8.buffer),t._binBE.ui32=new Uint32Array(t._binBE.ui8.buffer),t._binBE.fl32=new Float32Array(t._binBE.ui8.buffer),t._binBE.fl64=new Float64Array(t._binBE.ui8.buffer),t._binLE={nextZero:t._binBE.nextZero,readUshort:function(t,e){return t[e+1]<<8|t[e]},readShort:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],t._binBE.i16[0]},readInt:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],i[2]=e[r+2],i[3]=e[r+3],t._binBE.i32[0]},readUint:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],i[2]=e[r+2],i[3]=e[r+3],t._binBE.ui32[0]},readASCII:t._binBE.readASCII,readFloat:function(e,r){for(var i=t._binBE.ui8,n=0;n<4;n++)i[n]=e[r+n];return t._binBE.fl32[0]},readDouble:function(e,r){for(var i=t._binBE.ui8,n=0;n<8;n++)i[n]=e[r+n];return t._binBE.fl64[0]}},t._copyTile=function(t,e,r,i,n,a,o,s){for(var h=Math.min(e,n-o),u=Math.min(r,a-s),l=0;l<u;l++)for(var f=(s+l)*n+o,c=l*e,d=0;d<h;d++)i[f+d]=t[c+d]}}(e,r(52207))}()},4798:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},31439:t=>{function e(t){if(Array.isArray(t))return t}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4450:(t,e,r)=>{var i=r(4798);function n(t){if(Array.isArray(t))return i(t)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},33002:t=>{function e(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},68326:t=>{function e(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},62519:(t,e,r)=>{var i=r(41584),n=r(86896);function a(t,e,r){if(i())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,e);var o=new(t.bind.apply(t,a));return r&&n(o,r.prototype),o}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},42706:(t,e,r)=>{var i=r(61518);function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},61092:(t,e,r)=>{var i=r(61518);function n(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},65684:t=>{function e(){return t.exports=e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},89899:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},59356:(t,e,r)=>{var i=r(86896);function n(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},39618:t=>{function e(t){return t&&t.__esModule?t:{default:t}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},64056:(t,e,r)=>{var i=r(12054).default;function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=i(t)&&"function"!=typeof t)return{default:t};var r=n(e);if(r&&r.has(t))return r.get(t);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&({}).hasOwnProperty.call(t,s)){var h=o?Object.getOwnPropertyDescriptor(t,s):null;h&&(h.get||h.set)?Object.defineProperty(a,s,h):a[s]=t[s]}return a.default=t,r&&r.set(t,a),a}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},41584:t=>{function e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(t.exports=e=function(){return!!r},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},96372:t=>{function e(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},98562:t=>{function e(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,n,a,o,s=[],h=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;h=!1}else for(;!(h=(i=a.call(r)).done)&&(s.push(i.value),s.length!==e);h=!0);}catch(t){u=!0,n=t}finally{try{if(!h&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return s}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},77427:t=>{function e(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},72048:t=>{function e(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},83041:(t,e,r)=>{var i=r(12054).default,n=r(33002);function a(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return n(t)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},72354:(t,e,r)=>{var i=r(12054).default;function n(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},h="function"==typeof Symbol?Symbol:{},u=h.iterator||"@@iterator",l=h.asyncIterator||"@@asyncIterator",f=h.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function d(t,e,r,i){var n=Object.create((e&&e.prototype instanceof y?e:y).prototype);return s(n,"_invoke",{value:B(t,r,new C(i||[]))}),n}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var m="suspendedStart",g="suspendedYield",_="executing",b="completed",v={};function y(){}function w(){}function x(){}var M={};c(M,u,function(){return this});var E=Object.getPrototypeOf,S=E&&E(E(L([])));S&&S!==a&&o.call(S,u)&&(M=S);var k=x.prototype=y.prototype=Object.create(M);function I(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function P(t,e){var r;function n(r,a,s,h){var u=p(t[r],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&o.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,s,h)},function(t){n("throw",t,s,h)}):e.resolve(f).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,h)})}h(u.arg)}s(this,"_invoke",{value:function(t,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()}})}function B(t,r,i){var n=m;return function(a,o){if(n===_)throw Error("Generator is already running");if(n===b){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var h=A(s,i);if(h){if(h===v)continue;return h}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===m)throw n=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=_;var u=p(t,r,i);if("normal"===u.type){if(n=i.done?b:g,u.arg===v)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(n=b,i.method="throw",i.arg=u.arg)}}}function A(t,r){var i=r.method,n=t.iterator[i];if(n===e)return r.delegate=null,"throw"===i&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+i+"' method")),v;var a=p(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw TypeError(i(t)+" is not iterable")}return w.prototype=x,s(k,"constructor",{value:x,configurable:!0}),s(x,"constructor",{value:w,configurable:!0}),w.displayName=c(x,f,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,c(t,f,"GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},I(P.prototype),c(P.prototype,l,function(){return this}),r.AsyncIterator=P,r.async=function(t,e,i,n,a){void 0===a&&(a=Promise);var o=new P(d(t,e,i,n),a);return r.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},I(k),c(k,f,"Generator"),c(k,u,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),r.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},r.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(i,n){return s.type="throw",s.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var h=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(h&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(h){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=t,a.arg=e,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;O(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:L(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),v}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},86896:t=>{function e(r,i){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},35895:(t,e,r)=>{var i=r(31439),n=r(98562),a=r(81287),o=r(77427);function s(t,e){return i(t)||n(t,e)||a(t,e)||o()}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},84653:(t,e,r)=>{var i=r(4450),n=r(96372),a=r(81287),o=r(72048);function s(t){return i(t)||n(t)||a(t)||o()}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},31961:(t,e,r)=>{var i=r(12054).default;function n(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},61518:(t,e,r)=>{var i=r(12054).default,n=r(31961);function a(t){var e=n(t,"string");return"symbol"==i(e)?e:e+""}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},12054:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},81287:(t,e,r)=>{var i=r(4798);function n(t,e){if(t){if("string"==typeof t)return i(t,e);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},16477:(t,e,r)=>{var i=r(72354)();t.exports=i;try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},2645:t=>{let e,r,i,n,a;var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,l=(t,e,r)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f=t=>o(t,"__esModule",{value:!0}),c=(t,e)=>{for(var r in e)o(t,r,{get:e[r],enumerable:!0})},d=(t,e,r,i)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let n of h(e))!u.call(t,n)&&(r||"default"!==n)&&o(t,n,{get:()=>e[n],enumerable:!(i=s(e,n))||i.enumerable});return t},p=(e="undefined"!=typeof WeakMap?new WeakMap:0,(t,r)=>e&&e.get(t)||(r=d(f({}),t,1),e&&e.set(t,r),r)),m=(t,e,r)=>(l(t,"symbol"!=typeof e?e+"":e,r),r),g={};c(g,{applyPalette:()=>t9,applyPaletteSync:()=>t7,buildPalette:()=>t8,buildPaletteSync:()=>t6,constants:()=>_,conversion:()=>x,distance:()=>Z,image:()=>tH,palette:()=>tf,quality:()=>tK,utils:()=>tb});var _={};c(_,{bt709:()=>b});var b={};c(b,{Y:()=>v,x:()=>y,y:()=>w});var v=((r=v||{})[r.RED=.2126]="RED",r[r.GREEN=.7152]="GREEN",r[r.BLUE=.0722]="BLUE",r[r.WHITE=1]="WHITE",r),y=((i=y||{})[i.RED=.64]="RED",i[i.GREEN=.3]="GREEN",i[i.BLUE=.15]="BLUE",i[i.WHITE=.3127]="WHITE",i),w=((n=w||{})[n.RED=.33]="RED",n[n.GREEN=.6]="GREEN",n[n.BLUE=.06]="BLUE",n[n.WHITE=.329]="WHITE",n),x={};function M(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}function E(t,e,r){return{x:.4124*(t=M(t/255))+.3576*(e=M(e/255))+.1805*(r=M(r/255)),y:.2126*t+.7152*e+.0722*r,z:.0193*t+.1192*e+.9505*r}}c(x,{lab2rgb:()=>Y,lab2xyz:()=>W,rgb2hsl:()=>C,rgb2lab:()=>F,rgb2xyz:()=>E,xyz2lab:()=>U,xyz2rgb:()=>V});var S={};function k(t){return Math.PI/180*t}function I(t,e,r){let i=t;return i<e&&(i=e),i<r&&(i=r),i}function P(t,e,r){let i=t;return i>e&&(i=e),i>r&&(i=r),i}function B(t,e,r){return t>r&&(t=r),t<e&&(t=e),0|t}function A(t){return(t=Math.round(t))>255?t=255:t<0&&(t=0),t}function T(t){return t>255?t=255:t<0&&(t=0),t}function O(t,e){let r;let i=typeof t[0];if("number"===i||"string"===i){let i=Object.create(null);for(let e=0,r=t.length;e<r;e++){let r=t[e];i[r]||0===i[r]||(i[r]=e)}r=t.sort((t,r)=>e(t,r)||i[t]-i[r])}else{let i=t.slice(0);r=t.sort((t,r)=>e(t,r)||i.indexOf(t)-i.indexOf(r))}return r}function C(t,e,r){let i=P(t,e,r),n=I(t,e,r),a=n-i,o=(i+n)/510,s=0;o>0&&o<1&&(s=a/(o<.5?n+i:510-n-i));let h=0;return a>0&&(h=(n===t?(e-r)/a:n===e?2+(r-t)/a:4+(t-e)/a)*60)<0&&(h+=360),{h,s,l:o}}c(S,{degrees2radians:()=>k,inRange0to255:()=>T,inRange0to255Rounded:()=>A,intInRange:()=>B,max3:()=>I,min3:()=>P,stableSort:()=>O});var L=.95047,D=1,z=1.08883;function R(t){return t>.008856?t**(1/3):7.787*t+16/116}function U(t,e,r){if(t=R(t/L),e=R(e/D),r=R(r/z),116*e-16<0)throw Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-r)}}function F(t,e,r){let i=E(t,e,r);return U(i.x,i.y,i.z)}var j=.95047,N=1,G=1.08883;function H(t){return t>.206893034?t**3:(t-16/116)/7.787}function W(t,e,r){let i=(t+16)/116,n=e/500+i,a=i-r/200;return{x:j*H(n),y:N*H(i),z:G*H(a)}}function q(t){return t>.0031308?1.055*t**(1/2.4)-.055:12.92*t}function V(t,e,r){let i=q(3.2406*t+-1.5372*e+-.4986*r),n=q(-.9689*t+1.8758*e+.0415*r),a=q(.0557*t+-.204*e+1.057*r);return{r:A(255*i),g:A(255*n),b:A(255*a)}}function Y(t,e,r){let i=W(t,e,r);return V(i.x,i.y,i.z)}var Z={};c(Z,{AbstractDistanceCalculator:()=>J,AbstractEuclidean:()=>tr,AbstractManhattan:()=>to,CIE94GraphicArts:()=>K,CIE94Textiles:()=>Q,CIEDE2000:()=>tt,CMetric:()=>te,Euclidean:()=>ti,EuclideanBT709:()=>tn,EuclideanBT709NoAlpha:()=>ta,Manhattan:()=>ts,ManhattanBT709:()=>tu,ManhattanNommyde:()=>th,PNGQuant:()=>tl});var J=class{constructor(){m(this,"_maxDistance"),m(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(t,e,r,i){this._whitePoint={r:t>0?255/t:0,g:e>0?255/e:0,b:r>0?255/r:0,a:i>0?255/i:0},this._maxDistance=this.calculateRaw(t,e,r,i,0,0,0,0)}calculateNormalized(t,e){return this.calculateRaw(t.r,t.g,t.b,t.a,e.r,e.g,e.b,e.a)/this._maxDistance}},X=class extends J{calculateRaw(t,e,r,i,n,a,o,s){let h=F(T(t*this._whitePoint.r),T(e*this._whitePoint.g),T(r*this._whitePoint.b)),u=F(T(n*this._whitePoint.r),T(a*this._whitePoint.g),T(o*this._whitePoint.b)),l=h.L-u.L,f=h.a-u.a,c=h.b-u.b,d=Math.sqrt(h.a*h.a+h.b*h.b),p=d-Math.sqrt(u.a*u.a+u.b*u.b),m=f*f+c*c-p*p;m=m<0?0:Math.sqrt(m);let g=(s-i)*this._whitePoint.a*this._kA;return Math.sqrt((l/this._Kl)**2+(p/(1+this._K1*d))**2+(m/(1+this._K2*d))**2+g**2)}},Q=class extends X{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},K=class extends X{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},$=class extends J{_setDefaults(){}static _calculatehp(t,e){let r=Math.atan2(t,e);return r>=0?r:r+$._deg360InRad}static _calculateRT(t,e){let r=e**7,i=2*Math.sqrt(r/(r+$._pow25to7));return-Math.sin($._deg30InRad*Math.exp(-(((t-$._deg275InRad)/$._deg25InRad)**2))*2)*i}static _calculateT(t){return 1-.17*Math.cos(t-$._deg30InRad)+.24*Math.cos(2*t)+.32*Math.cos(3*t+$._deg6InRad)-.2*Math.cos(4*t-$._deg63InRad)}static _calculate_ahp(t,e,r,i){let n=r+i;return 0===t?n:e<=$._deg180InRad?n/2:n<$._deg360InRad?(n+$._deg360InRad)/2:(n-$._deg360InRad)/2}static _calculate_dHp(t,e,r,i){let n;return n=0===t?0:e<=$._deg180InRad?r-i:r<=i?r-i+$._deg360InRad:r-i-$._deg360InRad,2*Math.sqrt(t)*Math.sin(n/2)}calculateRaw(t,e,r,i,n,a,o,s){let h=F(T(t*this._whitePoint.r),T(e*this._whitePoint.g),T(r*this._whitePoint.b)),u=F(T(n*this._whitePoint.r),T(a*this._whitePoint.g),T(o*this._whitePoint.b)),l=(s-i)*this._whitePoint.a*$._kA;return Math.sqrt(this.calculateRawInLab(h,u)+l*l)}calculateRawInLab(t,e){let r=t.L,i=t.a,n=t.b,a=e.L,o=e.a,s=e.b,h=((Math.sqrt(i*i+n*n)+Math.sqrt(o*o+s*s))/2)**7,u=.5*(1-Math.sqrt(h/(h+$._pow25to7))),l=(1+u)*i,f=(1+u)*o,c=Math.sqrt(l*l+n*n),d=Math.sqrt(f*f+s*s),p=c*d,m=$._calculatehp(n,l),g=$._calculatehp(s,f),_=Math.abs(m-g),b=a-r,v=d-c,y=$._calculate_dHp(p,_,g,m),w=$._calculate_ahp(p,_,m,g),x=$._calculateT(w),M=(c+d)/2,E=((r+a)/2-50)**2,S=1+.015*E/Math.sqrt(20+E),k=1+.045*M,I=1+.015*x*M,P=$._calculateRT(w,M),B=v/k,A=y/I;return(b/S)**2+B**2+A**2+P*B*A}},tt=$;m(tt,"_kA",25/255),m(tt,"_pow25to7",6103515625),m(tt,"_deg360InRad",k(360)),m(tt,"_deg180InRad",k(180)),m(tt,"_deg30InRad",k(30)),m(tt,"_deg6InRad",k(6)),m(tt,"_deg63InRad",k(63)),m(tt,"_deg275InRad",k(275)),m(tt,"_deg25InRad",k(25));var te=class extends J{calculateRaw(t,e,r,i,n,a,o,s){let h=(t+n)/2*this._whitePoint.r,u=(t-n)*this._whitePoint.r,l=(e-a)*this._whitePoint.g,f=(r-o)*this._whitePoint.b,c=((512+h)*u*u>>8)+4*l*l+((767-h)*f*f>>8),d=(s-i)*this._whitePoint.a;return Math.sqrt(c+d*d)}_setDefaults(){}},tr=class extends J{calculateRaw(t,e,r,i,n,a,o,s){let h=n-t,u=a-e,l=o-r,f=s-i;return Math.sqrt(this._kR*h*h+this._kG*u*u+this._kB*l*l+this._kA*f*f)}},ti=class extends tr{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},tn=class extends tr{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},ta=class extends tr{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},to=class extends J{calculateRaw(t,e,r,i,n,a,o,s){let h=n-t,u=a-e,l=o-r,f=s-i;return h<0&&(h=0-h),u<0&&(u=0-u),l<0&&(l=0-l),f<0&&(f=0-f),this._kR*h+this._kG*u+this._kB*l+this._kA*f}},ts=class extends to{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},th=class extends to{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},tu=class extends to{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},tl=class extends J{calculateRaw(t,e,r,i,n,a,o,s){let h=(s-i)*this._whitePoint.a;return this._colordifferenceCh(t*this._whitePoint.r,n*this._whitePoint.r,h)+this._colordifferenceCh(e*this._whitePoint.g,a*this._whitePoint.g,h)+this._colordifferenceCh(r*this._whitePoint.b,o*this._whitePoint.b,h)}_colordifferenceCh(t,e,r){let i=t-e,n=i+r;return i*i+n*n}_setDefaults(){}},tf={};c(tf,{AbstractPaletteQuantizer:()=>tc,ColorHistogram:()=>tO,NeuQuant:()=>tk,NeuQuantFloat:()=>tA,RGBQuant:()=>tL,WuColorCube:()=>tj,WuQuant:()=>tG});var tc=class{quantizeSync(){for(let t of this.quantize())if(t.palette)return t.palette;throw Error("unreachable")}},td=class{constructor(){m(this,"r"),m(this,"g"),m(this,"b"),m(this,"a"),m(this,"uint32"),m(this,"rgba"),this.uint32=4294967295,this.r=this.g=this.b=this.a=0,this.rgba=[,,,,],this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(t){let e=new td;return e.r=0|t[0],e.g=0|t[1],e.b=0|t[2],e.a=0|t[3],e._loadUINT32(),e._loadQuadruplet(),e}static createByRGBA(t,e,r,i){let n=new td;return n.r=0|t,n.g=0|e,n.b=0|r,n.a=0|i,n._loadUINT32(),n._loadQuadruplet(),n}static createByUint32(t){let e=new td;return e.uint32=t>>>0,e._loadRGBA(),e._loadQuadruplet(),e}from(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.uint32=t.uint32,this.rgba[0]=t.r,this.rgba[1]=t.g,this.rgba[2]=t.b,this.rgba[3]=t.a}getLuminosity(t){let e=this.r,r=this.g,i=this.b;return t&&(e=Math.min(255,255-this.a+this.a*e/255),r=Math.min(255,255-this.a+this.a*r/255),i=Math.min(255,255-this.a+this.a*i/255)),.2126*e+.7152*r+.0722*i}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},tp=class{constructor(){m(this,"_pointArray"),m(this,"_width"),m(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(t){this._width=t}setHeight(t){this._height=t}getPointArray(){return this._pointArray}clone(){let t=new tp;t._width=this._width,t._height=this._height;for(let e=0,r=this._pointArray.length;e<r;e++)t._pointArray[e]=td.createByUint32(0|this._pointArray[e].uint32);return t}toUint32Array(){let t=this._pointArray.length,e=new Uint32Array(t);for(let r=0;r<t;r++)e[r]=this._pointArray[r].uint32;return e}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(t){let e=t.naturalWidth,r=t.naturalHeight,i=document.createElement("canvas");return i.width=e,i.height=r,i.getContext("2d").drawImage(t,0,0,e,r,0,0,e,r),tp.fromHTMLCanvasElement(i)}static fromHTMLCanvasElement(t){let e=t.width,r=t.height,i=t.getContext("2d").getImageData(0,0,e,r);return tp.fromImageData(i)}static fromImageData(t){let e=t.width,r=t.height;return tp.fromUint8Array(t.data,e,r)}static fromUint8Array(t,e,r){switch(Object.prototype.toString.call(t)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:t=new Uint8Array(t)}let i=new Uint32Array(t.buffer);return tp.fromUint32Array(i,e,r)}static fromUint32Array(t,e,r){let i=new tp;i._width=e,i._height=r;for(let e=0,r=t.length;e<r;e++)i._pointArray[e]=td.createByUint32(0|t[e]);return i}static fromBuffer(t,e,r){let i=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/Uint32Array.BYTES_PER_ELEMENT);return tp.fromUint32Array(i,e,r)}},tm=10;function tg(t,e){let r=360/e,i=r/2;for(let n=1,a=r-i;n<e;n++,a+=r)if(t>=a&&t<a+r)return n;return 0}var t_=class{constructor(){m(this,"_pointContainer"),m(this,"_pointArray",[]),m(this,"_i32idx",{}),this._pointContainer=new tp,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)}has(t){for(let e=this._pointArray.length-1;e>=0;e--)if(t.uint32===this._pointArray[e].uint32)return!0;return!1}getNearestColor(t,e){return this._pointArray[0|this._getNearestIndex(t,e)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(t){return"number"==typeof this._i32idx[t]?this._i32idx[t]:-1}_getNearestIndex(t,e){let r=this._nearestPointFromCache(""+e.uint32);if(r>=0)return r;let i=Number.MAX_VALUE;r=0;for(let n=0,a=this._pointArray.length;n<a;n++){let a=this._pointArray[n],o=t.calculateRaw(e.r,e.g,e.b,e.a,a.r,a.g,a.b,a.a);o<i&&(i=o,r=n)}return this._i32idx[e.uint32]=r,r}sort(){this._i32idx={},this._pointArray.sort((t,e)=>{let r=C(t.r,t.g,t.b),i=C(e.r,e.g,e.b),n=t.r===t.g&&t.g===t.b?0:1+tg(r.h,tm),a=(e.r===e.g&&e.g===e.b?0:1+tg(i.h,tm))-n;if(a)return-a;let o=t.getLuminosity(!0),s=e.getLuminosity(!0);if(s-o!=0)return s-o;let h=(100*i.s|0)-(100*r.s|0);return h?-h:0})}},tb={};c(tb,{HueStatistics:()=>ty,Palette:()=>t_,Point:()=>td,PointContainer:()=>tp,ProgressTracker:()=>tx,arithmetic:()=>S});var tv=class{constructor(){m(this,"num",0),m(this,"cols",[])}},ty=class{constructor(t,e){m(this,"_numGroups"),m(this,"_minCols"),m(this,"_stats"),m(this,"_groupsFull"),this._numGroups=t,this._minCols=e,this._stats=[];for(let e=0;e<=t;e++)this._stats[e]=new tv;this._groupsFull=0}check(t){this._groupsFull===this._numGroups+1&&(this.check=()=>{});let e=255&t,r=t>>>8&255,i=t>>>16&255,n=e===r&&r===i?0:1+tg(C(e,r,i).h,this._numGroups),a=this._stats[n],o=this._minCols;a.num++,!(a.num>o)&&(a.num===o&&this._groupsFull++,a.num<=o&&this._stats[n].cols.push(t))}injectIntoDictionary(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach(e=>{t[e]?t[e]++:t[e]=1})}injectIntoArray(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach(e=>{-1===t.indexOf(e)&&t.push(e)})}},tw=class{constructor(t,e){m(this,"progress"),m(this,"_step"),m(this,"_range"),m(this,"_last"),m(this,"_progressRange"),this._range=t,this._progressRange=e,this._step=Math.max(1,this._range/(tw.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(t){return t-this._last>=this._step&&(this._last=t,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},tx=tw;m(tx,"steps",100);var tM=3,tE=class{constructor(t){m(this,"r"),m(this,"g"),m(this,"b"),m(this,"a"),this.r=this.g=this.b=this.a=t}toPoint(){return td.createByRGBA(this.r>>tM,this.g>>tM,this.b>>tM,this.a>>tM)}subtract(t,e,r,i){this.r-=0|t,this.g-=0|e,this.b-=0|r,this.a-=0|i}},tS=class extends tc{constructor(t,e=256){super(),m(this,"_pointArray"),m(this,"_networkSize"),m(this,"_network"),m(this,"_sampleFactor"),m(this,"_radPower"),m(this,"_freq"),m(this,"_bias"),m(this,"_distance"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(255<<tM,255<<tM,255<<tM,255<<tM)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new tE((t<<tM+8)/this._networkSize|0),this._freq[t]=tS._initialBias/this._networkSize|0,this._bias[t]=0}*_learn(){let t,e=this._sampleFactor,r=this._pointArray.length;r<tS._minpicturebytes&&(e=1);let i=30+(e-1)/3|0,n=r/e|0,a=n/tS._nCycles|0,o=tS._initAlpha,s=(this._networkSize>>3)*tS._radiusBias,h=s>>tS._radiusBiasShift;h<=1&&(h=0);for(let t=0;t<h;t++)this._radPower[t]=(h*h-t*t)*tS._radBias/(h*h)*o>>>0;t=r<tS._minpicturebytes?1:r%tS._prime1!=0?tS._prime1:r%tS._prime2!=0?tS._prime2:r%tS._prime3!=0?tS._prime3:tS._prime4;let u=new tx(n,99);for(let e=0,l=0;e<n;){u.shouldNotify(e)&&(yield{progress:u.progress});let n=this._pointArray[l],f=n.b<<tM,c=n.g<<tM,d=n.r<<tM,p=n.a<<tM,m=this._contest(f,c,d,p);if(this._alterSingle(o,m,f,c,d,p),0!==h&&this._alterNeighbour(h,m,f,c,d,p),(l+=t)>=r&&(l-=r),0===a&&(a=1),++e%a==0){o-=o/i|0,s-=s/tS._radiusDecrease|0,h=s>>tS._radiusBiasShift,h<=1&&(h=0);for(let t=0;t<h;t++)this._radPower[t]=(h*h-t*t)*tS._radBias/(h*h)*o>>>0}}}_buildPalette(){let t=new t_;return this._network.forEach(e=>{t.add(e.toPoint())}),t.sort(),t}_alterNeighbour(t,e,r,i,n,a){let o=e-t;o<-1&&(o=-1);let s=e+t;s>this._networkSize&&(s=this._networkSize);let h=e+1,u=e-1,l=1;for(;h<s||u>o;){let t=this._radPower[l++]/tS._alphaRadBias;if(h<s){let e=this._network[h++];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}if(u>o){let e=this._network[u--];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}}}_alterSingle(t,e,r,i,n,a){t/=tS._initAlpha;let o=this._network[e];o.subtract(t*(o.r-n),t*(o.g-i),t*(o.b-r),t*(o.a-a))}_contest(t,e,r,i){let n=1020<<tM,a=2147483647,o=2147483647,s=-1,h=-1;for(let u=0;u<this._networkSize;u++){let l=this._network[u],f=this._distance.calculateNormalized(l,{r,g:e,b:t,a:i})*n|0;f<a&&(a=f,s=u);let c=f-(this._bias[u]>>tS._initialBiasShift-tM);c<o&&(o=c,h=u);let d=this._freq[u]>>tS._betaShift;this._freq[u]-=d,this._bias[u]+=d<<tS._gammaShift}return this._freq[s]+=tS._beta,this._bias[s]-=tS._betaGamma,h}},tk=tS;m(tk,"_prime1",499),m(tk,"_prime2",491),m(tk,"_prime3",487),m(tk,"_prime4",503),m(tk,"_minpicturebytes",tS._prime4),m(tk,"_nCycles",100),m(tk,"_initialBiasShift",16),m(tk,"_initialBias",1<<tS._initialBiasShift),m(tk,"_gammaShift",10),m(tk,"_betaShift",10),m(tk,"_beta",tS._initialBias>>tS._betaShift),m(tk,"_betaGamma",tS._initialBias<<tS._gammaShift-tS._betaShift),m(tk,"_radiusBiasShift",6),m(tk,"_radiusBias",1<<tS._radiusBiasShift),m(tk,"_radiusDecrease",30),m(tk,"_alphaBiasShift",10),m(tk,"_initAlpha",1<<tS._alphaBiasShift),m(tk,"_radBiasShift",8),m(tk,"_radBias",1<<tS._radBiasShift),m(tk,"_alphaRadBiasShift",tS._alphaBiasShift+tS._radBiasShift),m(tk,"_alphaRadBias",1<<tS._alphaRadBiasShift);var tI=3,tP=class{constructor(t){m(this,"r"),m(this,"g"),m(this,"b"),m(this,"a"),this.r=this.g=this.b=this.a=t}toPoint(){return td.createByRGBA(this.r>>tI,this.g>>tI,this.b>>tI,this.a>>tI)}subtract(t,e,r,i){this.r-=t,this.g-=e,this.b-=r,this.a-=i}},tB=class extends tc{constructor(t,e=256){super(),m(this,"_pointArray"),m(this,"_networkSize"),m(this,"_network"),m(this,"_sampleFactor"),m(this,"_radPower"),m(this,"_freq"),m(this,"_bias"),m(this,"_distance"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(255<<tI,255<<tI,255<<tI,255<<tI)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new tP((t<<tI+8)/this._networkSize),this._freq[t]=tB._initialBias/this._networkSize,this._bias[t]=0}*_learn(){let t,e=this._sampleFactor,r=this._pointArray.length;r<tB._minpicturebytes&&(e=1);let i=30+(e-1)/3,n=r/e,a=n/tB._nCycles|0,o=tB._initAlpha,s=(this._networkSize>>3)*tB._radiusBias,h=s>>tB._radiusBiasShift;h<=1&&(h=0);for(let t=0;t<h;t++)this._radPower[t]=(h*h-t*t)*tB._radBias/(h*h)*o;t=r<tB._minpicturebytes?1:r%tB._prime1!=0?tB._prime1:r%tB._prime2!=0?tB._prime2:r%tB._prime3!=0?tB._prime3:tB._prime4;let u=new tx(n,99);for(let e=0,l=0;e<n;){u.shouldNotify(e)&&(yield{progress:u.progress});let n=this._pointArray[l],f=n.b<<tI,c=n.g<<tI,d=n.r<<tI,p=n.a<<tI,m=this._contest(f,c,d,p);if(this._alterSingle(o,m,f,c,d,p),0!==h&&this._alterNeighbour(h,m,f,c,d,p),(l+=t)>=r&&(l-=r),0===a&&(a=1),++e%a==0){o-=o/i,s-=s/tB._radiusDecrease,h=s>>tB._radiusBiasShift,h<=1&&(h=0);for(let t=0;t<h;t++)this._radPower[t]=(h*h-t*t)*tB._radBias/(h*h)*o}}}_buildPalette(){let t=new t_;return this._network.forEach(e=>{t.add(e.toPoint())}),t.sort(),t}_alterNeighbour(t,e,r,i,n,a){let o=e-t;o<-1&&(o=-1);let s=e+t;s>this._networkSize&&(s=this._networkSize);let h=e+1,u=e-1,l=1;for(;h<s||u>o;){let t=this._radPower[l++]/tB._alphaRadBias;if(h<s){let e=this._network[h++];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}if(u>o){let e=this._network[u--];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}}}_alterSingle(t,e,r,i,n,a){t/=tB._initAlpha;let o=this._network[e];o.subtract(t*(o.r-n),t*(o.g-i),t*(o.b-r),t*(o.a-a))}_contest(t,e,r,i){let n=1020<<tI,a=2147483647,o=2147483647,s=-1,h=-1;for(let u=0;u<this._networkSize;u++){let l=this._network[u],f=this._distance.calculateNormalized(l,{r,g:e,b:t,a:i})*n;f<a&&(a=f,s=u);let c=f-(this._bias[u]>>tB._initialBiasShift-tI);c<o&&(o=c,h=u);let d=this._freq[u]>>tB._betaShift;this._freq[u]-=d,this._bias[u]+=d<<tB._gammaShift}return this._freq[s]+=tB._beta,this._bias[s]-=tB._betaGamma,h}},tA=tB;m(tA,"_prime1",499),m(tA,"_prime2",491),m(tA,"_prime3",487),m(tA,"_prime4",503),m(tA,"_minpicturebytes",tB._prime4),m(tA,"_nCycles",100),m(tA,"_initialBiasShift",16),m(tA,"_initialBias",1<<tB._initialBiasShift),m(tA,"_gammaShift",10),m(tA,"_betaShift",10),m(tA,"_beta",tB._initialBias>>tB._betaShift),m(tA,"_betaGamma",tB._initialBias<<tB._gammaShift-tB._betaShift),m(tA,"_radiusBiasShift",6),m(tA,"_radiusBias",1<<tB._radiusBiasShift),m(tA,"_radiusDecrease",30),m(tA,"_alphaBiasShift",10),m(tA,"_initAlpha",1<<tB._alphaBiasShift),m(tA,"_radBiasShift",8),m(tA,"_radBias",1<<tB._radBiasShift),m(tA,"_alphaRadBiasShift",tB._alphaBiasShift+tB._radBiasShift),m(tA,"_alphaRadBias",1<<tB._alphaRadBiasShift);var tT=class{constructor(t,e){m(this,"_method"),m(this,"_hueStats"),m(this,"_histogram"),m(this,"_initColors"),m(this,"_minHueCols"),this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new ty(tT._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t)}}getImportanceSortedColorsIDXI32(){let t;let e=O(Object.keys(this._histogram),(t,e)=>this._histogram[e]-this._histogram[t]);if(0===e.length)return[];switch(this._method){case 1:let r=Math.min(e.length,this._initColors),i=e[r-1],n=this._histogram[i];t=e.slice(0,r);let a=r,o=e.length;for(;a<o&&this._histogram[e[a]]===n;)t.push(e[a++]);this._hueStats.injectIntoArray(t);break;case 2:t=e;break;default:throw Error("Incorrect method")}return t.map(t=>+t)}_colorStats1D(t){let e=this._histogram,r=t.getPointArray(),i=r.length;for(let t=0;t<i;t++){let i=r[t].uint32;this._hueStats.check(i),i in e?e[i]++:e[i]=1}}_colorStats2D(t){let e=t.getWidth(),r=t.getHeight(),i=t.getPointArray(),n=tT._boxSize[0],a=tT._boxSize[1],o=n*a,s=this._makeBoxes(e,r,n,a),h=this._histogram;s.forEach(t=>{let r=Math.round(t.w*t.h/o)*tT._boxPixels;r<2&&(r=2);let n={};this._iterateBox(t,e,t=>{let e=i[t].uint32;this._hueStats.check(e),e in h?h[e]++:e in n?++n[e]>=r&&(h[e]=n[e]):n[e]=1})}),this._hueStats.injectIntoDictionary(h)}_iterateBox(t,e,r){let i=t,n=i.y*e+i.x,a=(i.y+i.h-1)*e+(i.x+i.w-1),o=e-i.w+1,s=0,h=n;do r.call(this,h),h+=++s%i.w==0?o:1;while(h<=a)}_makeBoxes(t,e,r,i){let n=t%r,a=e%i,o=t-n,s=e-a,h=[];for(let u=0;u<e;u+=i)for(let e=0;e<t;e+=r)h.push({x:e,y:u,w:e===o?n:r,h:u===s?a:i});return h}},tO=tT;m(tO,"_boxSize",[64,64]),m(tO,"_boxPixels",2),m(tO,"_hueGroups",10);var tC=class{constructor(t,e,r){m(this,"index"),m(this,"color"),m(this,"distance"),this.index=t,this.color=e,this.distance=r}},tL=class extends tc{constructor(t,e=256,r=2){super(),m(this,"_colors"),m(this,"_initialDistance"),m(this,"_distanceIncrement"),m(this,"_histogram"),m(this,"_distance"),this._distance=t,this._colors=e,this._histogram=new tO(r,e),this._initialDistance=.01,this._distanceIncrement=.005}sample(t){this._histogram.sample(t)}*quantize(){let t=this._histogram.getImportanceSortedColorsIDXI32();if(0===t.length)throw Error("No colors in image");yield*this._buildPalette(t)}*_buildPalette(t){let e=new t_,r=e.getPointContainer().getPointArray(),i=Array(t.length);for(let e=0;e<t.length;e++)r.push(td.createByUint32(t[e])),i[e]=1;let n=r.length,a=[],o=n,s=this._initialDistance,h=new tx(o-this._colors,99);for(;o>this._colors;){a.length=0;for(let t=0;t<n;t++){if(h.shouldNotify(n-o)&&(yield{progress:h.progress}),0===i[t])continue;let e=r[t];for(let h=t+1;h<n;h++){if(0===i[h])continue;let t=r[h],n=this._distance.calculateNormalized(e,t);n<s&&(a.push(new tC(h,t,n)),i[h]=0,o--)}}s+=o>3*this._colors?this._initialDistance:this._distanceIncrement}if(o<this._colors){O(a,(t,e)=>e.distance-t.distance);let t=0;for(;o<this._colors&&t<a.length;)i[a[t].index]=1,o++,t++}let u=r.length;for(let t=u-1;t>=0;t--)0===i[t]&&(t!==u-1&&(r[t]=r[u-1]),--u);r.length=u,e.sort(),yield{palette:e,progress:100}}};function tD(t){let e=[];for(let r=0;r<t;r++)e[r]=0;return e}function tz(t,e,r,i){let n=Array(t);for(let a=0;a<t;a++){n[a]=Array(e);for(let t=0;t<e;t++){n[a][t]=Array(r);for(let e=0;e<r;e++){n[a][t][e]=Array(i);for(let r=0;r<i;r++)n[a][t][e][r]=0}}}return n}function tR(t,e,r){let i=Array(t);for(let n=0;n<t;n++){i[n]=Array(e);for(let t=0;t<e;t++){i[n][t]=Array(r);for(let e=0;e<r;e++)i[n][t][e]=0}}return i}function tU(t,e,r,i,n){for(let a=0;a<e;a++){t[a]=[];for(let e=0;e<r;e++){t[a][e]=[];for(let r=0;r<i;r++)t[a][e][r]=n}}}function tF(t,e,r){for(let i=0;i<e;i++)t[i]=r}var tj=class{constructor(){m(this,"redMinimum"),m(this,"redMaximum"),m(this,"greenMinimum"),m(this,"greenMaximum"),m(this,"blueMinimum"),m(this,"blueMaximum"),m(this,"volume"),m(this,"alphaMinimum"),m(this,"alphaMaximum")}},tN=class extends tc{constructor(t,e=256,r=5){super(),m(this,"_reds"),m(this,"_greens"),m(this,"_blues"),m(this,"_alphas"),m(this,"_sums"),m(this,"_weights"),m(this,"_momentsRed"),m(this,"_momentsGreen"),m(this,"_momentsBlue"),m(this,"_momentsAlpha"),m(this,"_moments"),m(this,"_table"),m(this,"_pixels"),m(this,"_cubes"),m(this,"_colors"),m(this,"_significantBitsPerChannel"),m(this,"_maxSideIndex"),m(this,"_alphaMaxSideIndex"),m(this,"_sideSize"),m(this,"_alphaSideSize"),m(this,"_distance"),this._distance=t,this._setQuality(r),this._initialize(e)}sample(t){let e=t.getPointArray();for(let t=0,r=e.length;t<r;t++)this._addColor(e[t]);this._pixels=this._pixels.concat(e)}*quantize(){yield*this._preparePalette();let t=new t_;for(let e=0;e<this._colors;e++)if(this._sums[e]>0){let r=this._sums[e],i=this._reds[e]/r,n=this._greens[e]/r,a=this._blues[e]/r,o=this._alphas[e]/r,s=td.createByRGBA(0|i,0|n,0|a,0|o);t.add(s)}t.sort(),yield{palette:t,progress:100}}*_preparePalette(){yield*this._calculateMoments();let t=0,e=tD(this._colors);for(let r=1;r<this._colors;++r){this._cut(this._cubes[t],this._cubes[r])?(e[t]=this._cubes[t].volume>1?this._calculateVariance(this._cubes[t]):0,e[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(e[t]=0,r--),t=0;let i=e[0];for(let n=1;n<=r;++n)e[n]>i&&(i=e[n],t=n);if(i<=0){this._colors=r+1;break}}let r=[],i=[],n=[],a=[];for(let t=0;t<this._colors;++t){let e=tN._volume(this._cubes[t],this._weights);e>0?(r[t]=tN._volume(this._cubes[t],this._momentsRed)/e|0,i[t]=tN._volume(this._cubes[t],this._momentsGreen)/e|0,n[t]=tN._volume(this._cubes[t],this._momentsBlue)/e|0,a[t]=tN._volume(this._cubes[t],this._momentsAlpha)/e|0):(r[t]=0,i[t]=0,n[t]=0,a[t]=0)}this._reds=tD(this._colors+1),this._greens=tD(this._colors+1),this._blues=tD(this._colors+1),this._alphas=tD(this._colors+1),this._sums=tD(this._colors+1);for(let t=0,e=this._pixels.length;t<e;t++){let e=this._pixels[t],o=-1,s=Number.MAX_VALUE;for(let t=0;t<this._colors;t++){let h=r[t],u=i[t],l=n[t],f=a[t],c=this._distance.calculateRaw(h,u,l,f,e.r,e.g,e.b,e.a);c<s&&(s=c,o=t)}this._reds[o]+=e.r,this._greens[o]+=e.g,this._blues[o]+=e.b,this._alphas[o]+=e.a,this._sums[o]++}}_addColor(t){let e=8-this._significantBitsPerChannel,r=(t.r>>e)+1,i=(t.g>>e)+1,n=(t.b>>e)+1,a=(t.a>>e)+1;this._weights[a][r][i][n]++,this._momentsRed[a][r][i][n]+=t.r,this._momentsGreen[a][r][i][n]+=t.g,this._momentsBlue[a][r][i][n]+=t.b,this._momentsAlpha[a][r][i][n]+=t.a,this._moments[a][r][i][n]+=this._table[t.r]+this._table[t.g]+this._table[t.b]+this._table[t.a]}*_calculateMoments(){let t=[],e=[],r=[],i=[],n=[],a=[],o=tR(this._sideSize,this._sideSize,this._sideSize),s=tR(this._sideSize,this._sideSize,this._sideSize),h=tR(this._sideSize,this._sideSize,this._sideSize),u=tR(this._sideSize,this._sideSize,this._sideSize),l=tR(this._sideSize,this._sideSize,this._sideSize),f=tR(this._sideSize,this._sideSize,this._sideSize),c=0,d=new tx(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){tU(o,this._sideSize,this._sideSize,this._sideSize,0),tU(s,this._sideSize,this._sideSize,this._sideSize,0),tU(h,this._sideSize,this._sideSize,this._sideSize,0),tU(u,this._sideSize,this._sideSize,this._sideSize,0),tU(l,this._sideSize,this._sideSize,this._sideSize,0),tU(f,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++c){d.shouldNotify(c)&&(yield{progress:d.progress}),tF(t,this._sideSize,0),tF(e,this._sideSize,0),tF(r,this._sideSize,0),tF(i,this._sideSize,0),tF(n,this._sideSize,0),tF(a,this._sideSize,0);for(let c=1;c<=this._maxSideIndex;++c){let d=0,g=0,_=0,b=0,v=0,y=0;for(let w=1;w<=this._maxSideIndex;++w)d+=this._weights[p][m][c][w],g+=this._momentsRed[p][m][c][w],_+=this._momentsGreen[p][m][c][w],b+=this._momentsBlue[p][m][c][w],v+=this._momentsAlpha[p][m][c][w],y+=this._moments[p][m][c][w],t[w]+=d,e[w]+=g,r[w]+=_,i[w]+=b,n[w]+=v,a[w]+=y,o[m][c][w]=o[m-1][c][w]+t[w],s[m][c][w]=s[m-1][c][w]+e[w],h[m][c][w]=h[m-1][c][w]+r[w],u[m][c][w]=u[m-1][c][w]+i[w],l[m][c][w]=l[m-1][c][w]+n[w],f[m][c][w]=f[m-1][c][w]+a[w],this._weights[p][m][c][w]=this._weights[p-1][m][c][w]+o[m][c][w],this._momentsRed[p][m][c][w]=this._momentsRed[p-1][m][c][w]+s[m][c][w],this._momentsGreen[p][m][c][w]=this._momentsGreen[p-1][m][c][w]+h[m][c][w],this._momentsBlue[p][m][c][w]=this._momentsBlue[p-1][m][c][w]+u[m][c][w],this._momentsAlpha[p][m][c][w]=this._momentsAlpha[p-1][m][c][w]+l[m][c][w],this._moments[p][m][c][w]=this._moments[p-1][m][c][w]+f[m][c][w]}}}}static _volumeFloat(t,e){return e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMaximum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum])}static _volume(t,e){return 0|tN._volumeFloat(t,e)}static _top(t,e,r,i){let n;switch(e){case tN._alpha:n=i[r][t.redMaximum][t.greenMaximum][t.blueMaximum]-i[r][t.redMaximum][t.greenMinimum][t.blueMaximum]-i[r][t.redMinimum][t.greenMaximum][t.blueMaximum]+i[r][t.redMinimum][t.greenMinimum][t.blueMaximum]-(i[r][t.redMaximum][t.greenMaximum][t.blueMinimum]-i[r][t.redMaximum][t.greenMinimum][t.blueMinimum]-i[r][t.redMinimum][t.greenMaximum][t.blueMinimum]+i[r][t.redMinimum][t.greenMinimum][t.blueMinimum]);break;case tN._red:n=i[t.alphaMaximum][r][t.greenMaximum][t.blueMaximum]-i[t.alphaMaximum][r][t.greenMinimum][t.blueMaximum]-i[t.alphaMinimum][r][t.greenMaximum][t.blueMaximum]+i[t.alphaMinimum][r][t.greenMinimum][t.blueMaximum]-(i[t.alphaMaximum][r][t.greenMaximum][t.blueMinimum]-i[t.alphaMaximum][r][t.greenMinimum][t.blueMinimum]-i[t.alphaMinimum][r][t.greenMaximum][t.blueMinimum]+i[t.alphaMinimum][r][t.greenMinimum][t.blueMinimum]);break;case tN._green:n=i[t.alphaMaximum][t.redMaximum][r][t.blueMaximum]-i[t.alphaMaximum][t.redMinimum][r][t.blueMaximum]-i[t.alphaMinimum][t.redMaximum][r][t.blueMaximum]+i[t.alphaMinimum][t.redMinimum][r][t.blueMaximum]-(i[t.alphaMaximum][t.redMaximum][r][t.blueMinimum]-i[t.alphaMaximum][t.redMinimum][r][t.blueMinimum]-i[t.alphaMinimum][t.redMaximum][r][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][r][t.blueMinimum]);break;case tN._blue:n=i[t.alphaMaximum][t.redMaximum][t.greenMaximum][r]-i[t.alphaMaximum][t.redMaximum][t.greenMinimum][r]-i[t.alphaMaximum][t.redMinimum][t.greenMaximum][r]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][r]-(i[t.alphaMinimum][t.redMaximum][t.greenMaximum][r]-i[t.alphaMinimum][t.redMaximum][t.greenMinimum][r]-i[t.alphaMinimum][t.redMinimum][t.greenMaximum][r]+i[t.alphaMinimum][t.redMinimum][t.greenMinimum][r]);break;default:throw Error("impossible")}return 0|n}static _bottom(t,e,r){switch(e){case tN._alpha:return-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case tN._red:return-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case tN._green:return-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case tN._blue:return-r[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);default:return 0}}_calculateVariance(t){let e=tN._volume(t,this._momentsRed),r=tN._volume(t,this._momentsGreen),i=tN._volume(t,this._momentsBlue),n=tN._volume(t,this._momentsAlpha);return tN._volumeFloat(t,this._moments)-(e*e+r*r+i*i+n*n)/tN._volume(t,this._weights)}_maximize(t,e,r,i,n,a,o,s,h){let u=0|tN._bottom(t,e,this._momentsRed),l=0|tN._bottom(t,e,this._momentsGreen),f=0|tN._bottom(t,e,this._momentsBlue),c=0|tN._bottom(t,e,this._momentsAlpha),d=0|tN._bottom(t,e,this._weights),p=0,m=-1;for(let g=r;g<i;++g){let r=u+tN._top(t,e,g,this._momentsRed),i=l+tN._top(t,e,g,this._momentsGreen),_=f+tN._top(t,e,g,this._momentsBlue),b=c+tN._top(t,e,g,this._momentsAlpha),v=d+tN._top(t,e,g,this._weights);if(0!==v){let t=r*r+i*i+_*_+b*b,e=t/v;r=n-r,i=a-i,_=o-_,b=s-b,0!=(v=h-v)&&(e+=(t=r*r+i*i+_*_+b*b)/v)>p&&(p=e,m=g)}}return{max:p,position:m}}_cut(t,e){let r;let i=tN._volume(t,this._momentsRed),n=tN._volume(t,this._momentsGreen),a=tN._volume(t,this._momentsBlue),o=tN._volume(t,this._momentsAlpha),s=tN._volume(t,this._weights),h=this._maximize(t,tN._red,t.redMinimum+1,t.redMaximum,i,n,a,o,s),u=this._maximize(t,tN._green,t.greenMinimum+1,t.greenMaximum,i,n,a,o,s),l=this._maximize(t,tN._blue,t.blueMinimum+1,t.blueMaximum,i,n,a,o,s),f=this._maximize(t,tN._alpha,t.alphaMinimum+1,t.alphaMaximum,i,n,a,o,s);if(f.max>=h.max&&f.max>=u.max&&f.max>=l.max){if(r=tN._alpha,f.position<0)return!1}else r=h.max>=f.max&&h.max>=u.max&&h.max>=l.max?tN._red:u.max>=f.max&&u.max>=h.max&&u.max>=l.max?tN._green:tN._blue;switch(e.redMaximum=t.redMaximum,e.greenMaximum=t.greenMaximum,e.blueMaximum=t.blueMaximum,e.alphaMaximum=t.alphaMaximum,r){case tN._red:e.redMinimum=t.redMaximum=h.position,e.greenMinimum=t.greenMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case tN._green:e.greenMinimum=t.greenMaximum=u.position,e.redMinimum=t.redMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case tN._blue:e.blueMinimum=t.blueMaximum=l.position,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum,e.alphaMinimum=t.alphaMinimum;break;case tN._alpha:e.alphaMinimum=t.alphaMaximum=f.position,e.blueMinimum=t.blueMinimum,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum}return t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),!0}_initialize(t){this._colors=t,this._cubes=[];for(let e=0;e<t;e++)this._cubes[e]=new tj;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=tz(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=tz(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=tz(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=tz(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=tz(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=tz(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let t=0;t<256;++t)this._table[t]=t*t;this._pixels=[]}_setQuality(t=5){this._significantBitsPerChannel=t,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},tG=tN;m(tG,"_alpha",3),m(tG,"_red",2),m(tG,"_green",1),m(tG,"_blue",0);var tH={};c(tH,{AbstractImageQuantizer:()=>tW,ErrorDiffusionArray:()=>tY,ErrorDiffusionArrayKernel:()=>tV,ErrorDiffusionRiemersma:()=>tQ,NearestColor:()=>tq});var tW=class{quantizeSync(t,e){for(let r of this.quantize(t,e))if(r.pointContainer)return r.pointContainer;throw Error("unreachable")}},tq=class extends tW{constructor(t){super(),m(this,"_distance"),this._distance=t}*quantize(t,e){let r=t.getPointArray(),i=t.getWidth(),n=t.getHeight(),a=new tx(n,99);for(let t=0;t<n;t++){a.shouldNotify(t)&&(yield{progress:a.progress});for(let n=0,a=t*i;n<i;n++,a++){let t=r[a];t.from(e.getNearestColor(this._distance,t))}}yield{pointContainer:t,progress:100}}},tV=((a=tV||{})[a.FloydSteinberg=0]="FloydSteinberg",a[a.FalseFloydSteinberg=1]="FalseFloydSteinberg",a[a.Stucki=2]="Stucki",a[a.Atkinson=3]="Atkinson",a[a.Jarvis=4]="Jarvis",a[a.Burkes=5]="Burkes",a[a.Sierra=6]="Sierra",a[a.TwoSierra=7]="TwoSierra",a[a.SierraLite=8]="SierraLite",a),tY=class extends tW{constructor(t,e,r=!0,i=0,n=!1){super(),m(this,"_minColorDistance"),m(this,"_serpentine"),m(this,"_kernel"),m(this,"_calculateErrorLikeGIMP"),m(this,"_distance"),this._setKernel(e),this._distance=t,this._minColorDistance=i,this._serpentine=r,this._calculateErrorLikeGIMP=n}*quantize(t,e){let r=t.getPointArray(),i=new td,n=t.getWidth(),a=t.getHeight(),o=[],s=1,h=1;for(let t of this._kernel){let e=t[2]+1;h<e&&(h=e)}for(let t=0;t<h;t++)this._fillErrorLine(o[t]=[],n);let u=new tx(a,99);for(let t=0;t<a;t++){u.shouldNotify(t)&&(yield{progress:u.progress}),this._serpentine&&(s*=-1);let h=t*n,l=1===s?0:n-1,f=1===s?n:-1;this._fillErrorLine(o[0],n),o.push(o.shift());let c=o[0];for(let u=l,d=h+l;u!==f;u+=s,d+=s){let h,l,f,p;let m=r[d],g=c[u];i.from(m);let _=td.createByRGBA(A(m.r+g[0]),A(m.g+g[1]),A(m.b+g[2]),A(m.a+g[3])),b=e.getNearestColor(this._distance,_);if(m.from(b),this._minColorDistance&&this._distance.calculateNormalized(i,b)<this._minColorDistance)continue;this._calculateErrorLikeGIMP?(h=_.r-b.r,l=_.g-b.g,f=_.b-b.b,p=_.a-b.a):(h=i.r-b.r,l=i.g-b.g,f=i.b-b.b,p=i.a-b.a);let v=1===s?0:this._kernel.length-1,y=1===s?this._kernel.length:-1;for(let e=v;e!==y;e+=s){let r=this._kernel[e][1]*s,i=this._kernel[e][2];if(r+u>=0&&r+u<n&&i+t>=0&&i+t<a){let t=this._kernel[e][0],n=o[i][r+u];n[0]+=h*t,n[1]+=l*t,n[2]+=f*t,n[3]+=p*t}}}}yield{pointContainer:t,progress:100}}_fillErrorLine(t,e){t.length>e&&(t.length=e);let r=t.length;for(let e=0;e<r;e++){let r=t[e];r[0]=r[1]=r[2]=r[3]=0}for(let i=r;i<e;i++)t[i]=[0,0,0,0]}_setKernel(t){switch(t){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw Error(`ErrorDiffusionArray: unknown kernel = ${t}`)}}};function*tZ(t,e,r){let i=Math.floor(Math.log(Math.max(t,e))/Math.log(2)+1),n=new tx(t*e,99),a={width:t,height:e,level:i,callback:r,tracker:n,index:0,x:0,y:0};yield*tJ(a,1),tX(a,0)}function*tJ(t,e){if(!(t.level<1)){switch(t.tracker.shouldNotify(t.index)&&(yield{progress:t.tracker.progress}),t.level--,e){case 2:yield*tJ(t,1),tX(t,3),yield*tJ(t,2),tX(t,4),yield*tJ(t,2),tX(t,2),yield*tJ(t,4);break;case 3:yield*tJ(t,4),tX(t,2),yield*tJ(t,3),tX(t,1),yield*tJ(t,3),tX(t,3),yield*tJ(t,1);break;case 1:yield*tJ(t,2),tX(t,4),yield*tJ(t,1),tX(t,3),yield*tJ(t,1),tX(t,1),yield*tJ(t,3);break;case 4:yield*tJ(t,3),tX(t,1),yield*tJ(t,4),tX(t,2),yield*tJ(t,4),tX(t,4),yield*tJ(t,2)}t.level++}}function tX(t,e){switch(t.x>=0&&t.x<t.width&&t.y>=0&&t.y<t.height&&(t.callback(t.x,t.y),t.index++),e){case 2:t.x--;break;case 3:t.x++;break;case 1:t.y--;break;case 4:t.y++}}var tQ=class extends tW{constructor(t,e=16,r=1){super(),m(this,"_distance"),m(this,"_weights"),m(this,"_errorQueueSize"),this._distance=t,this._errorQueueSize=e,this._weights=tQ._createWeights(r,e)}*quantize(t,e){let r=t.getPointArray(),i=t.getWidth(),n=t.getHeight(),a=[],o=0;for(let t=0;t<this._errorQueueSize;t++)a[t]={r:0,g:0,b:0,a:0};yield*tZ(i,n,(t,n)=>{let s=r[t+n*i],{r:h,g:u,b:l,a:f}=s;for(let t=0;t<this._errorQueueSize;t++){let e=this._weights[t],r=a[(t+o)%this._errorQueueSize];h+=r.r*e,u+=r.g*e,l+=r.b*e,f+=r.a*e}let c=td.createByRGBA(A(h),A(u),A(l),A(f)),d=e.getNearestColor(this._distance,c),p=((o=(o+1)%this._errorQueueSize)+this._errorQueueSize-1)%this._errorQueueSize;a[p].r=s.r-d.r,a[p].g=s.g-d.g,a[p].b=s.b-d.b,a[p].a=s.a-d.a,s.from(d)}),yield{pointContainer:t,progress:100}}static _createWeights(t,e){let r=[],i=Math.exp(Math.log(e)/(e-1));for(let n=0,a=1;n<e;n++)r[n]=(a+.5|0)/e*t,a*=i;return r}},tK={};c(tK,{ssim:()=>t1});var t$=.01,t0=.03;function t1(t,e){if(t.getHeight()!==e.getHeight()||t.getWidth()!==e.getWidth())throw Error("Images have different sizes!");let r=(255*t$)**2,i=(255*t0)**2,n=0,a=0;return t2(t,e,(t,e,o,s)=>{let h=0,u=0,l=0;for(let r=0;r<t.length;r++)u+=(t[r]-o)**2,l+=(e[r]-s)**2,h+=(t[r]-o)*(e[r]-s);let f=t.length-1;u/=f,l/=f;let c=(2*o*s+r)*(2*(h/=f)+i);a+=c/((o**2+s**2+r)*(u+l+i)),n++}),a/n}function t2(t,e,r){let i=8,n=t.getWidth(),a=t.getHeight();for(let o=0;o<a;o+=i)for(let s=0;s<n;s+=i){let h=Math.min(i,n-s),u=Math.min(i,a-o),l=t5(t,s,o,h,u),f=t5(e,s,o,h,u),c=t3(l),d=t3(f);r(l,f,c,d)}}function t5(t,e,r,i,n){let a=t.getPointArray(),o=[],s=0;for(let h=r;h<r+n;h++){let r=h*t.getWidth();for(let t=e;t<e+i;t++){let e=a[r+t];o[s]=.2126*e.r+.7152*e.g+.0722*e.b,s++}}return o}function t3(t){let e=0;for(let r of t)e+=r;return e/t.length}var t4="function"==typeof setImmediate?setImmediate:"undefined"!=typeof process&&"function"==typeof(null==process?void 0:process.nextTick)?t=>process.nextTick(t):t=>setTimeout(t,0);function t6(t,{colorDistanceFormula:e,paletteQuantization:r,colors:i}={}){let n=er(et(e),r,i);return t.forEach(t=>n.sample(t)),n.quantizeSync()}async function t8(t,{colorDistanceFormula:e,paletteQuantization:r,colors:i,onProgress:n}={}){return new Promise((a,o)=>{let s;let h=er(et(e),r,i);t.forEach(t=>h.sample(t));let u=h.quantize(),l=()=>{try{let t=u.next();t.done?a(s):(t.value.palette&&(s=t.value.palette),n&&n(t.value.progress),t4(l))}catch(t){o(t)}};t4(l)})}function t7(t,e,{colorDistanceFormula:r,imageQuantization:i}={}){return ee(et(r),i).quantizeSync(t,e)}async function t9(t,e,{colorDistanceFormula:r,imageQuantization:i,onProgress:n}={}){return new Promise((a,o)=>{let s;let h=ee(et(r),i).quantize(t,e),u=()=>{try{let t=h.next();t.done?a(s):(t.value.pointContainer&&(s=t.value.pointContainer),n&&n(t.value.progress),t4(u))}catch(t){o(t)}};t4(u)})}function et(t="euclidean-bt709"){switch(t){case"cie94-graphic-arts":return new K;case"cie94-textiles":return new Q;case"ciede2000":return new tt;case"color-metric":return new te;case"euclidean":return new ti;case"euclidean-bt709":return new tn;case"euclidean-bt709-noalpha":return new ta;case"manhattan":return new ts;case"manhattan-bt709":return new tu;case"manhattan-nommyde":return new th;case"pngquant":return new tl;default:throw Error(`Unknown colorDistanceFormula ${t}`)}}function ee(t,e="floyd-steinberg"){switch(e){case"nearest":return new tq(t);case"riemersma":return new tQ(t);case"floyd-steinberg":return new tY(t,0);case"false-floyd-steinberg":return new tY(t,1);case"stucki":return new tY(t,2);case"atkinson":return new tY(t,3);case"jarvis":return new tY(t,4);case"burkes":return new tY(t,5);case"sierra":return new tY(t,6);case"two-sierra":return new tY(t,7);case"sierra-lite":return new tY(t,8);default:throw Error(`Unknown imageQuantization ${e}`)}}function er(t,e="wuquant",r=256){switch(e){case"neuquant":return new tk(t,r);case"rgbquant":return new tL(t,r);case"wuquant":return new tG(t,r);case"neuquant-float":return new tA(t,r);default:throw Error(`Unknown paletteQuantization ${e}`)}}t.exports=p(g);/**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * common.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ditherErrorDiffusionArray.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * helper.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * nearestColor.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ssim.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * MIT License
 *
 * Copyright 2015-2018 Igor Bezkrovnyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * riemersma.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */},93945:function(t){!function(e,r){t.exports=r()}(0,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=/^\s+/,r=/\s+$/;function i(t,e){if(e=e||{},(t=t||"")instanceof i)return t;if(!(this instanceof i))return new i(t,e);var r=n(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function n(e){var r={r:0,g:0,b:0},i=1,n=null,o=null,h=null,l=!1,f=!1;return"string"==typeof e&&(e=j(e)),"object"==t(e)&&(F(e.r)&&F(e.g)&&F(e.b)?(r=a(e.r,e.g,e.b),l=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):F(e.h)&&F(e.s)&&F(e.v)?(n=D(e.s),o=D(e.v),r=u(e.h,n,o),l=!0,f="hsv"):F(e.h)&&F(e.s)&&F(e.l)&&(n=D(e.s),h=D(e.l),r=s(e.h,n,h),l=!0,f="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=P(i),{ok:l,format:e.format||f,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:i}}function a(t,e,r){return{r:255*B(t,255),g:255*B(e,255),b:255*B(r,255)}}function o(t,e,r){var i,n,a=Math.max(t=B(t,255),e=B(e,255),r=B(r,255)),o=Math.min(t,e,r),s=(a+o)/2;if(a==o)i=n=0;else{var h=a-o;switch(n=s>.5?h/(2-a-o):h/(a+o),a){case t:i=(e-r)/h+(e<r?6:0);break;case e:i=(r-t)/h+2;break;case r:i=(t-e)/h+4}i/=6}return{h:i,s:n,l:s}}function s(t,e,r){var i,n,a;function o(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=B(t,360),e=B(e,100),r=B(r,100),0===e)i=n=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,h=2*r-s;i=o(h,s,t+1/3),n=o(h,s,t),a=o(h,s,t-1/3)}return{r:255*i,g:255*n,b:255*a}}function h(t,e,r){var i,n,a=Math.max(t=B(t,255),e=B(e,255),r=B(r,255)),o=Math.min(t,e,r),s=a,h=a-o;if(n=0===a?0:h/a,a==o)i=0;else{switch(a){case t:i=(e-r)/h+(e<r?6:0);break;case e:i=(r-t)/h+2;break;case r:i=(t-e)/h+4}i/=6}return{h:i,s:n,v:s}}function u(t,e,r){t=6*B(t,360),e=B(e,100),r=B(r,100);var i=Math.floor(t),n=t-i,a=r*(1-e),o=r*(1-n*e),s=r*(1-(1-n)*e),h=i%6;return{r:255*[r,o,a,a,s,r][h],g:255*[s,r,r,o,a,a][h],b:255*[a,a,s,r,r,o][h]}}function l(t,e,r,i){var n=[L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(r).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function f(t,e,r,i,n){var a=[L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(r).toString(16)),L(z(i))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function c(t,e,r,i){return[L(z(i)),L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(r).toString(16))].join("")}function d(t,e){e=0===e?0:e||10;var r=i(t).toHsl();return r.s-=e/100,r.s=A(r.s),i(r)}function p(t,e){e=0===e?0:e||10;var r=i(t).toHsl();return r.s+=e/100,r.s=A(r.s),i(r)}function m(t){return i(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var r=i(t).toHsl();return r.l+=e/100,r.l=A(r.l),i(r)}function _(t,e){e=0===e?0:e||10;var r=i(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-(e/100*255)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-(e/100*255)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-(e/100*255)))),i(r)}function b(t,e){e=0===e?0:e||10;var r=i(t).toHsl();return r.l-=e/100,r.l=A(r.l),i(r)}function v(t,e){var r=i(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,i(r)}function y(t){var e=i(t).toHsl();return e.h=(e.h+180)%360,i(e)}function w(t,e){if(isNaN(e)||e<=0)throw Error("Argument to polyad must be a positive number");for(var r=i(t).toHsl(),n=[i(t)],a=360/e,o=1;o<e;o++)n.push(i({h:(r.h+o*a)%360,s:r.s,l:r.l}));return n}function x(t){var e=i(t).toHsl(),r=e.h;return[i(t),i({h:(r+72)%360,s:e.s,l:e.l}),i({h:(r+216)%360,s:e.s,l:e.l})]}function M(t,e,r){e=e||6,r=r||30;var n=i(t).toHsl(),a=360/r,o=[i(t)];for(n.h=(n.h-(a*e>>1)+720)%360;--e;)n.h=(n.h+a)%360,o.push(i(n));return o}function E(t,e){e=e||6;for(var r=i(t).toHsv(),n=r.h,a=r.s,o=r.v,s=[],h=1/e;e--;)s.push(i({h:n,s:a,v:o})),o=(o+h)%1;return s}i.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,i,n,a,o=this.toRgb();return t=o.r/255,e=o.g/255,r=o.b/255,.2126*(i=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(a=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=P(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=h(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),i=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+i+"%)":"hsva("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=o(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),i=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+i+"%)":"hsla("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return l(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return f(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*B(this._r,255))+"%",g:Math.round(100*B(this._g,255))+"%",b:Math.round(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*B(this._r,255))+"%, "+Math.round(100*B(this._g,255))+"%, "+Math.round(100*B(this._b,255))+"%)":"rgba("+Math.round(100*B(this._r,255))+"%, "+Math.round(100*B(this._g,255))+"%, "+Math.round(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(k[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+c(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var a=i(t);r="#"+c(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0;return!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(w,[3])},tetrad:function(){return this._applyCombination(w,[4])}},i.fromRatio=function(e,r){if("object"==t(e)){var n={};for(var a in e)e.hasOwnProperty(a)&&("a"===a?n[a]=e[a]:n[a]=D(e[a]));e=n}return i(e,r)},i.equals=function(t,e){return!!t&&!!e&&i(t).toRgbString()==i(e).toRgbString()},i.random=function(){return i.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},i.mix=function(t,e,r){r=0===r?0:r||50;var n=i(t).toRgb(),a=i(e).toRgb(),o=r/100;return i({r:(a.r-n.r)*o+n.r,g:(a.g-n.g)*o+n.g,b:(a.b-n.b)*o+n.b,a:(a.a-n.a)*o+n.a})},i.readability=function(t,e){var r=i(t),n=i(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},i.isReadable=function(t,e,r){var n,a,o=i.readability(t,e);switch(a=!1,(n=N(r)).level+n.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},i.mostReadable=function(t,e,r){var n,a,o,s,h=null,u=0;a=(r=r||{}).includeFallbackColors,o=r.level,s=r.size;for(var l=0;l<e.length;l++)(n=i.readability(t,e[l]))>u&&(u=n,h=i(e[l]));return i.isReadable(t,h,{level:o,size:s})||!a?h:(r.includeFallbackColors=!1,i.mostReadable(t,["#fff","#000"],r))};var S=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},k=i.hexNames=I(S);function I(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function P(t){return(isNaN(t=parseFloat(t))||t<0||t>1)&&(t=1),t}function B(t,e){O(t)&&(t="100%");var r=C(t);return(t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),1e-6>Math.abs(t-e))?1:t%e/parseFloat(e)}function A(t){return Math.min(1,Math.max(0,t))}function T(t){return parseInt(t,16)}function O(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function C(t){return"string"==typeof t&&-1!=t.indexOf("%")}function L(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function z(t){return Math.round(255*parseFloat(t)).toString(16)}function R(t){return T(t)/255}var U=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:RegExp("rgb"+e),rgba:RegExp("rgba"+r),hsl:RegExp("hsl"+e),hsla:RegExp("hsla"+r),hsv:RegExp("hsv"+e),hsva:RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function F(t){return!!U.CSS_UNIT.exec(t)}function j(t){t=t.replace(e,"").replace(r,"").toLowerCase();var i,n=!1;if(S[t])t=S[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(i=U.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=U.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=U.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=U.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=U.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=U.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=U.hex8.exec(t))?{r:T(i[1]),g:T(i[2]),b:T(i[3]),a:R(i[4]),format:n?"name":"hex8"}:(i=U.hex6.exec(t))?{r:T(i[1]),g:T(i[2]),b:T(i[3]),format:n?"name":"hex"}:(i=U.hex4.exec(t))?{r:T(i[1]+""+i[1]),g:T(i[2]+""+i[2]),b:T(i[3]+""+i[3]),a:R(i[4]+""+i[4]),format:n?"name":"hex8"}:!!(i=U.hex3.exec(t))&&{r:T(i[1]+""+i[1]),g:T(i[2]+""+i[2]),b:T(i[3]+""+i[3]),format:n?"name":"hex"}}function N(t){var e,r;return e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:e,size:r}}return i})}};