exports.id=708,exports.ids=[708],exports.modules={46936:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=i(r(9312)),s=r(67937),o="image/bmp",l="image/x-ms-bmp";function h(t){return(0,s.scan)(t,0,0,t.bitmap.width,t.bitmap.height,function(t,e,r){var i=this.bitmap.data[r+0],n=this.bitmap.data[r+1],a=this.bitmap.data[r+2],s=this.bitmap.data[r+3];this.bitmap.data[r+0]=s,this.bitmap.data[r+1]=a,this.bitmap.data[r+2]=n,this.bitmap.data[r+3]=i}).bitmap}function u(t){return(0,s.scan)({bitmap:t},0,0,t.width,t.height,function(e,r,i){var n=this.bitmap.data[i+0],a=this.bitmap.data[i+1],s=this.bitmap.data[i+2],o=this.bitmap.data[i+3];this.bitmap.data[i+0]=o,this.bitmap.data[i+1]=s,this.bitmap.data[i+2]=a,this.bitmap.data[i+3]=t.is_with_alpha?n:255}).bitmap}var f=function(t){return u(a.default.decode(t))},c=function(t){return a.default.encode(h(t)).data},d=function(){var t,e;return{mime:(0,n.default)({},o,["bmp"]),constants:{MIME_BMP:o,MIME_X_MS_BMP:l},decoders:(t={},(0,n.default)(t,o,f),(0,n.default)(t,l,f),t),encoders:(e={},(0,n.default)(e,o,c),(0,n.default)(e,l,c),e)}};e.default=d,t.exports=e.default},36908:(t,e)=>{"use strict";function r(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a;return{r:(t.r*t.a+e.r*e.a*(1-t.a))/i,g:(t.g*t.a+e.g*e.a*(1-t.a))/i,b:(t.b*t.a+e.b*e.a*(1-t.a))/i,a:i}}function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a;return{r:(e.r*e.a+t.r*t.a*(1-e.a))/i,g:(e.g*e.a+t.g*t.a*(1-e.a))/i,b:(e.b*e.a+t.b*t.a*(1-e.a))/i,a:i}}function n(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a,o=e.r*e.a,l=e.g*e.a,h=e.b*e.a;return{r:(n*o+n*(1-e.a)+o*(1-t.a))/i,g:(a*l+a*(1-e.a)+l*(1-t.a))/i,b:(s*h+s*(1-e.a)+h*(1-t.a))/i,a:i}}function a(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a;return{r:(n+e.r*e.a)/i,g:(a+e.g*e.a)/i,b:(s+e.b*e.a)/i,a:i}}function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a,o=e.r*e.a,l=e.g*e.a,h=e.b*e.a;return{r:(n*e.a+o*t.a-n*o+n*(1-e.a)+o*(1-t.a))/i,g:(a*e.a+l*t.a-a*l+a*(1-e.a)+l*(1-t.a))/i,b:(s*e.a+h*t.a-s*h+s*(1-e.a)+h*(1-t.a))/i,a:i}}function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a,o=e.r*e.a,l=e.g*e.a,h=e.b*e.a;return{r:(2*o<=e.a?2*n*o+n*(1-e.a)+o*(1-t.a):n*(1+e.a)+o*(1+t.a)-2*o*n-e.a*t.a)/i,g:(2*l<=e.a?2*a*l+a*(1-e.a)+l*(1-t.a):a*(1+e.a)+l*(1+t.a)-2*l*a-e.a*t.a)/i,b:(2*h<=e.a?2*s*h+s*(1-e.a)+h*(1-t.a):s*(1+e.a)+h*(1+t.a)-2*h*s-e.a*t.a)/i,a:i}}function l(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a,o=e.r*e.a,l=e.g*e.a,h=e.b*e.a;return{r:(Math.min(n*e.a,o*t.a)+n*(1-e.a)+o*(1-t.a))/i,g:(Math.min(a*e.a,l*t.a)+a*(1-e.a)+l*(1-t.a))/i,b:(Math.min(s*e.a,h*t.a)+s*(1-e.a)+h*(1-t.a))/i,a:i}}function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a,o=e.r*e.a,l=e.g*e.a,h=e.b*e.a;return{r:(Math.max(n*e.a,o*t.a)+n*(1-e.a)+o*(1-t.a))/i,g:(Math.max(a*e.a,l*t.a)+a*(1-e.a)+l*(1-t.a))/i,b:(Math.max(s*e.a,h*t.a)+s*(1-e.a)+h*(1-t.a))/i,a:i}}function u(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a,o=e.r*e.a,l=e.g*e.a,h=e.b*e.a;return{r:(2*n<=t.a?2*n*o+n*(1-e.a)+o*(1-t.a):n*(1+e.a)+o*(1+t.a)-2*o*n-e.a*t.a)/i,g:(2*a<=t.a?2*a*l+a*(1-e.a)+l*(1-t.a):a*(1+e.a)+l*(1+t.a)-2*l*a-e.a*t.a)/i,b:(2*s<=t.a?2*s*h+s*(1-e.a)+h*(1-t.a):s*(1+e.a)+h*(1+t.a)-2*h*s-e.a*t.a)/i,a:i}}function f(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a,o=e.r*e.a,l=e.g*e.a,h=e.b*e.a;return{r:(n+o-2*Math.min(n*e.a,o*t.a))/i,g:(a+l-2*Math.min(a*e.a,l*t.a))/i,b:(s+h-2*Math.min(s*e.a,h*t.a))/i,a:i}}function c(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,s=t.b*t.a,o=e.r*e.a,l=e.g*e.a,h=e.b*e.a;return{r:(n*e.a+o*t.a-2*n*o+n*(1-e.a)+o*(1-t.a))/i,g:(a*e.a+l*t.a-2*a*l+a*(1-e.a)+l*(1-t.a))/i,b:(s*e.a+h*t.a-2*s*h+s*(1-e.a)+h*(1-t.a))/i,a:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.srcOver=r,e.dstOver=i,e.multiply=n,e.add=a,e.screen=s,e.overlay=o,e.darken=l,e.lighten=h,e.hardLight=u,e.difference=f,e.exclusion=c},25842:(t,e,r)=>{"use strict";var i=r(64056);Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=r(67937),a=i(r(63428)),s=i(r(36908));function o(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if("function"==typeof i&&(o=i,i={}),!(t instanceof this.constructor))return n.throwError.call(this,"The source must be a Jimp image",o);if("number"!=typeof e||"number"!=typeof r)return n.throwError.call(this,"x and y must be numbers",o);var l=i,h=l.mode,u=l.opacitySource,f=l.opacityDest;h||(h=a.BLEND_SOURCE_OVER),("number"!=typeof u||u<0||u>1)&&(u=1),("number"!=typeof f||f<0||f>1)&&(f=1);var c=s[h];e=Math.round(e),r=Math.round(r);var d=this;return 1!==f&&d.opacity(f),t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,function(t,i,n){var s=d.getPixelIndex(e+t,r+i,a.EDGE_CROP),o=c({r:this.bitmap.data[n+0]/255,g:this.bitmap.data[n+1]/255,b:this.bitmap.data[n+2]/255,a:this.bitmap.data[n+3]/255},{r:d.bitmap.data[s+0]/255,g:d.bitmap.data[s+1]/255,b:d.bitmap.data[s+2]/255,a:d.bitmap.data[s+3]/255},u);d.bitmap.data[s+0]=this.constructor.limit255(255*o.r),d.bitmap.data[s+1]=this.constructor.limit255(255*o.g),d.bitmap.data[s+2]=this.constructor.limit255(255*o.b),d.bitmap.data[s+3]=this.constructor.limit255(255*o.a)}),(0,n.isNodePattern)(o)&&o.call(this,null,this),this}t.exports=e.default},63428:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDGE_CROP=e.EDGE_WRAP=e.EDGE_EXTEND=e.BLEND_EXCLUSION=e.BLEND_DIFFERENCE=e.BLEND_HARDLIGHT=e.BLEND_LIGHTEN=e.BLEND_DARKEN=e.BLEND_OVERLAY=e.BLEND_SCREEN=e.BLEND_ADD=e.BLEND_MULTIPLY=e.BLEND_DESTINATION_OVER=e.BLEND_SOURCE_OVER=e.VERTICAL_ALIGN_BOTTOM=e.VERTICAL_ALIGN_MIDDLE=e.VERTICAL_ALIGN_TOP=e.HORIZONTAL_ALIGN_RIGHT=e.HORIZONTAL_ALIGN_CENTER=e.HORIZONTAL_ALIGN_LEFT=e.AUTO=void 0;var r=-1;e.AUTO=r;var i=1;e.HORIZONTAL_ALIGN_LEFT=i;var n=2;e.HORIZONTAL_ALIGN_CENTER=n;var a=4;e.HORIZONTAL_ALIGN_RIGHT=a;var s=8;e.VERTICAL_ALIGN_TOP=s;var o=16;e.VERTICAL_ALIGN_MIDDLE=o;var l=32;e.VERTICAL_ALIGN_BOTTOM=l;var h="srcOver";e.BLEND_SOURCE_OVER=h;var u="dstOver";e.BLEND_DESTINATION_OVER=u;var f="multiply";e.BLEND_MULTIPLY=f;var c="add";e.BLEND_ADD=c;var d="screen";e.BLEND_SCREEN=d;var p="overlay";e.BLEND_OVERLAY=p;var m="darken";e.BLEND_DARKEN=m;var g="lighten";e.BLEND_LIGHTEN=g;var v="hardLight";e.BLEND_HARDLIGHT=v;var b="difference";e.BLEND_DIFFERENCE=b;var _="exclusion";e.BLEND_EXCLUSION=_;var y=1;e.EDGE_EXTEND=y;var w=2;e.EDGE_WRAP=w;var x=3;e.EDGE_CROP=x},77401:(t,e,r)=>{"use strict";var i,n=r(64056),a=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.addConstants=H,e.addJimpMethods=W,e.jimpEvMethod=q,e.jimpEvChange=Y,Object.defineProperty(e,"addType",{enumerable:!0,get:function(){return A.addType}}),e.default=void 0;for(var s=a(r(62519)),o=a(r(35895)),l=a(r(68326)),h=a(r(42706)),u=a(r(83041)),f=a(r(89899)),c=a(r(33002)),d=a(r(59356)),p=a(r(61092)),m=a(r(12054)),g=a(r(57147)),v=a(r(71017)),b=a(r(82361)),_=r(67937),y=a(r(30473)),w=a(r(78372)),x=a(r(30364)),M=a(r(93945)),S=a(r(75645)),E=a(r(45480)),P=a(r(25842)),k=a(r(61151)),A=n(r(94469)),T=r(11513),I=n(r(63428)),B="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",C=[NaN,NaN],O=2;O<65;O++){var L=(0,y.default)(y.default.BIN,B.slice(0,O))(Array(65).join("1"));C.push(L.length)}function D(){}function R(t){return Object.prototype.toString.call(t).toLowerCase().indexOf("arraybuffer")>-1}function z(t){for(var e=Buffer.alloc(t.byteLength),r=new Uint8Array(t),i=0;i<e.length;++i)e[i]=r[i];return e}function F(t,e){(0,E.default)(t,function(r,i,n){return r?e(r):"headers"in i&&"location"in i.headers?(t.url=i.headers.location,F(t,e)):"object"===(0,m.default)(n)&&Buffer.isBuffer(n)?e(null,n):Error("Could not load Buffer from <"+t.url+"> (HTTP: "+i.statusCode+")")})}function j(t,e){g.default&&"function"==typeof g.default.readFile&&!t.match(/^(http|ftp)s?:\/\/./)?g.default.readFile(t,e):F({url:t},e)}function U(t){return t&&"object"===(0,m.default)(t)&&"number"==typeof t.width&&"number"==typeof t.height&&(Buffer.isBuffer(t.data)||t.data instanceof Uint8Array||"function"==typeof Uint8ClampedArray&&t.data instanceof Uint8ClampedArray)&&(t.data.length===t.width*t.height*4||t.data.length===t.width*t.height*3)}function N(t){if(t.length%3!=0)throw Error("Buffer length is incorrect");for(var e=Buffer.allocUnsafe(t.length/3*4),r=0,i=0;i<t.length;i++)e[r]=t[i],(i+1)%3==0&&(e[++r]=255),r++;return e}var G={data:null,width:null,height:null},V=function(t){function e(){for(var t,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];(0,l.default)(this,e),t=(0,u.default)(this,(0,f.default)(e).call(this)),(0,p.default)((0,c.default)(t),"bitmap",G),(0,p.default)((0,c.default)(t),"_background",0),(0,p.default)((0,c.default)(t),"_originalMime",e.MIME_PNG),(0,p.default)((0,c.default)(t),"_exif",null),(0,p.default)((0,c.default)(t),"_rgba",!0),(0,p.default)((0,c.default)(t),"writeAsync",function(e){return(0,k.default)(t.write,(0,c.default)(t),e)}),(0,p.default)((0,c.default)(t),"getBase64Async",function(e){return(0,k.default)(t.getBase64,(0,c.default)(t),e)}),(0,p.default)((0,c.default)(t),"getBuffer",T.getBuffer),(0,p.default)((0,c.default)(t),"getBufferAsync",T.getBufferAsync),(0,p.default)((0,c.default)(t),"getPixelColour",t.getPixelColor),(0,p.default)((0,c.default)(t),"setPixelColour",t.setPixelColor);var a=(0,c.default)(t),s=D;function o(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e[0];(i||{}).methodName="constructor",setTimeout(function(){var t;i&&s===D?a.emitError("constructor",i):i||a.emitMulti("constructor","initialized"),(t=s).call.apply(t,[a].concat(e))},1)}if(R(i[0])&&(i[0]=z(i[0])),"number"==typeof i[0]&&"number"==typeof i[1]||parseInt(i[0],10)&&parseInt(i[1],10)){var h=parseInt(i[0],10),d=parseInt(i[1],10);if(s=i[2],"number"==typeof i[2]&&(t._background=i[2],s=i[3]),"string"==typeof i[2]&&(t._background=e.cssColorToHex(i[2]),s=i[3]),void 0===s&&(s=D),"function"!=typeof s)return(0,u.default)(t,_.throwError.call((0,c.default)(t),"cb must be a function",o));t.bitmap={data:Buffer.alloc(h*d*4),width:h,height:d};for(var g=0;g<t.bitmap.data.length;g+=4)t.bitmap.data.writeUInt32BE(t._background,g);o(null,(0,c.default)(t))}else if("object"===(0,m.default)(i[0])&&i[0].url){if("function"!=typeof(s=i[1]||D))return(0,u.default)(t,_.throwError.call((0,c.default)(t),"cb must be a function",o));F(i[0],function(e,r){if(e)return _.throwError.call((0,c.default)(t),e,o);t.parseBitmap(r,i[0].url,o)})}else if(i[0]instanceof e){var v=i[0];if(void 0===(s=i[1])&&(s=D),"function"!=typeof s)return(0,u.default)(t,_.throwError.call((0,c.default)(t),"cb must be a function",o));t.bitmap={data:Buffer.from(v.bitmap.data),width:v.bitmap.width,height:v.bitmap.height},t._quality=v._quality,t._deflateLevel=v._deflateLevel,t._deflateStrategy=v._deflateStrategy,t._filterType=v._filterType,t._rgba=v._rgba,t._background=v._background,t._originalMime=v._originalMime,o(null,(0,c.default)(t))}else if(U(i[0])){var b=i[0];s=i[1]||D;var y=b.width*b.height*4===b.data.length?Buffer.from(b.data):N(b.data);t.bitmap={data:y,width:b.width,height:b.height},o(null,(0,c.default)(t))}else if("string"==typeof i[0]){var w=i[0];if(void 0===(s=i[1])&&(s=D),"function"!=typeof s)return(0,u.default)(t,_.throwError.call((0,c.default)(t),"cb must be a function",o));j(w,function(e,r){if(e)return _.throwError.call((0,c.default)(t),e,o);t.parseBitmap(r,w,o)})}else if("object"===(0,m.default)(i[0])&&Buffer.isBuffer(i[0])){var x=i[0];if("function"!=typeof(s=i[1]))return(0,u.default)(t,_.throwError.call((0,c.default)(t),"cb must be a function",o));t.parseBitmap(x,null,o)}else{"function"!=typeof(s=i[i.length-1])&&"function"!=typeof(s=i[i.length-2])&&(s=D);var M=e.__extraConstructors.find(function(t){return t.test.apply(t,i)});if(!M)return(0,u.default)(t,_.throwError.call((0,c.default)(t),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",o));new Promise(function(e,r){var n;(n=M.run).call.apply(n,[(0,c.default)(t),e,r].concat(i))}).then(function(){return o(null,(0,c.default)(t))}).catch(o)}return t}return(0,d.default)(e,t),(0,h.default)(e,[{key:"parseBitmap",value:function(t,e,r){T.parseBitmap.call(this,t,null,r)}},{key:"rgba",value:function(t,e){return"boolean"!=typeof t?_.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",e):(this._rgba=t,(0,_.isNodePattern)(e)&&e.call(this,null,this),this)}},{key:"emitMulti",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=Object.assign(r,{methodName:t,eventName:e}),this.emit("any",r),t&&this.emit(t,r),this.emit(e,r)}},{key:"emitError",value:function(t,e){this.emitMulti(t,"error",e)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===G?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){return this._originalMime||e.MIME_PNG}},{key:"getExtension",value:function(){var t=this.getMIME();return A.getExtension(t)}},{key:"write",value:function(t,e){var r=this;if(!g.default||!g.default.createWriteStream)throw Error("Cant access the filesystem. You can use the getBase64 method.");if("string"!=typeof t)return _.throwError.call(this,"path must be a string",e);if(void 0===e&&(e=D),"function"!=typeof e)return _.throwError.call(this,"cb must be a function",e);var i=A.getType(t)||this.getMIME(),n=v.default.parse(t);return n.dir&&w.default.sync(n.dir),this.getBuffer(i,function(i,n){if(i)return _.throwError.call(r,i,e);var a=g.default.createWriteStream(t);a.on("open",function(){a.write(n),a.end()}).on("error",function(t){return _.throwError.call(r,t,e)}),a.on("finish",function(){e.call(r,null,r)})}),this}},{key:"getBase64",value:function(t,r){return(t===e.AUTO&&(t=this.getMIME()),"string"!=typeof t)?_.throwError.call(this,"mime must be a string",r):"function"!=typeof r?_.throwError.call(this,"cb must be a function",r):(this.getBuffer(t,function(e,i){if(e)return _.throwError.call(this,e,r);var n="data:"+t+";base64,"+i.toString("base64");r.call(this,null,n)}),this)}},{key:"hash",value:function(t,e){if("function"==typeof(t=t||64)&&(e=t,t=64),"number"!=typeof t)return _.throwError.call(this,"base must be a number",e);if(t<2||t>64)return _.throwError.call(this,"base must be a number between 2 and 64",e);var r=this.pHash();for(r=(0,y.default)(y.default.BIN,B.slice(0,t))(r);r.length<C[t];)r="0"+r;return(0,_.isNodePattern)(e)&&e.call(this,null,r),r}},{key:"pHash",value:function(){return new S.default().getHash(this)}},{key:"distanceFromHash",value:function(t){var e=new S.default,r=e.getHash(this);return e.distance(r,t)}},{key:"getPixelIndex",value:function(t,r,i,n){if("function"==typeof i&&void 0===n&&(n=i,i=null),i||(i=e.EDGE_EXTEND),"number"!=typeof t||"number"!=typeof r)return _.throwError.call(this,"x and y must be numbers",n);t=Math.round(t),r=Math.round(r),a=t,s=r,i===e.EDGE_EXTEND&&(t<0&&(a=0),t>=this.bitmap.width&&(a=this.bitmap.width-1),r<0&&(s=0),r>=this.bitmap.height&&(s=this.bitmap.height-1)),i===e.EDGE_WRAP&&(t<0&&(a=this.bitmap.width+t),t>=this.bitmap.width&&(a=t%this.bitmap.width),r<0&&(a=this.bitmap.height+r),r>=this.bitmap.height&&(s=r%this.bitmap.height));var a,s,o=this.bitmap.width*s+a<<2;return(a<0||a>=this.bitmap.width)&&(o=-1),(s<0||s>=this.bitmap.height)&&(o=-1),(0,_.isNodePattern)(n)&&n.call(this,null,o),o}},{key:"getPixelColor",value:function(t,e,r){if("number"!=typeof t||"number"!=typeof e)return _.throwError.call(this,"x and y must be numbers",r);t=Math.round(t),e=Math.round(e);var i=this.getPixelIndex(t,e),n=this.bitmap.data.readUInt32BE(i);return(0,_.isNodePattern)(r)&&r.call(this,null,n),n}},{key:"setPixelColor",value:function(t,e,r,i){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)return _.throwError.call(this,"hex, x and y must be numbers",i);e=Math.round(e),r=Math.round(r);var n=this.getPixelIndex(e,r);return this.bitmap.data.writeUInt32BE(t,n),(0,_.isNodePattern)(i)&&i.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var t=0;t<this.bitmap.height;t++)for(var e=0;e<this.bitmap.width;e++){var r=this.bitmap.width*t+e<<2;if(255!==this.bitmap.data[r+3])return!0}return!1}},{key:"scanIterator",value:function(t,e,r,i){return"number"!=typeof t||"number"!=typeof e?_.throwError.call(this,"x and y must be numbers"):"number"!=typeof r||"number"!=typeof i?_.throwError.call(this,"w and h must be numbers"):(0,_.scanIterator)(this,t,e,r,i)}}]),e}(b.default);function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;Object.entries(t).forEach(function(t){var r=(0,o.default)(t,2),i=r[0],n=r[1];e[i]=n})}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;Object.entries(t).forEach(function(t){var r=(0,o.default)(t,2),i=r[0],n=r[1];e.prototype[i]=n})}function q(t,e,r){var i="before-"+e,n=e.replace(/e$/,"")+"ed";V.prototype[t]=function(){for(var e,a,s=arguments.length,o=Array(s),l=0;l<s;l++)o[l]=arguments[l];var h=o[r.length-1],u=this;"function"==typeof h?(e=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=r[0],s=r[1];a?u.emitError(t,a):u.emitMulti(t,n,(0,p.default)({},t,s)),h.apply(this,r)},o[o.length-1]=e):e=!1,this.emitMulti(t,i);try{a=r.apply(this,o),e||this.emitMulti(t,n,(0,p.default)({},t,a))}catch(e){e.methodName=t,this.emitError(t,e)}return a},V.prototype[t+"Quiet"]=r}function Y(t,e){q(t,"change",e)}H(I),W({composite:P.default}),V.__extraConstructors=[],V.appendConstructorOption=function(t,e,r){V.__extraConstructors.push({name:t,test:e,run:r})},V.read=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return new Promise(function(t,r){(0,s.default)(V,e.concat([function(e,i){e?r(e):t(i)}]))})},V.create=V.read,V.rgbaToInt=function(t,e,r,i,n){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r||"number"!=typeof i)return _.throwError.call(this,"r, g, b and a must be numbers",n);if(t<0||t>255)return _.throwError.call(this,"r must be between 0 and 255",n);if((e<0||e>255)&&_.throwError.call(this,"g must be between 0 and 255",n),r<0||r>255)return _.throwError.call(this,"b must be between 0 and 255",n);if(i<0||i>255)return _.throwError.call(this,"a must be between 0 and 255",n);t=Math.round(t),r=Math.round(r);var a=16777216*t+65536*(e=Math.round(e))+256*r+1*(i=Math.round(i));return(0,_.isNodePattern)(n)&&n.call(this,null,a),a},V.intToRGBA=function(t,e){if("number"!=typeof t)return _.throwError.call(this,"i must be a number",e);var r={};return r.r=Math.floor(t/16777216),r.g=Math.floor((t-16777216*r.r)/65536),r.b=Math.floor((t-16777216*r.r-65536*r.g)/256),r.a=Math.floor((t-16777216*r.r-65536*r.g-256*r.b)/1),(0,_.isNodePattern)(e)&&e.call(this,null,r),r},V.cssColorToHex=function(t){return"number"==typeof(t=t||0)?Number(t):parseInt((0,M.default)(t).toHex8(),16)},V.limit255=function(t){return t=Math.min(t=Math.max(t,0),255)},V.diff=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(t instanceof V)||!(e instanceof V))return _.throwError.call(this,"img1 and img2 must be an Jimp images");var i=t.bitmap,n=e.bitmap;if((i.width!==n.width||i.height!==n.height)&&(i.width*i.height>n.width*n.height?t=t.cloneQuiet().resize(n.width,n.height):e=e.cloneQuiet().resize(i.width,i.height)),"number"!=typeof r||r<0||r>1)return _.throwError.call(this,"threshold must be a number between 0 and 1");var a=new V(i.width,i.height,4294967295);return{percent:(0,x.default)(i.data,n.data,a.bitmap.data,a.bitmap.width,a.bitmap.height,{threshold:r})/(a.bitmap.width*a.bitmap.height),image:a}},V.distance=function(t,e){var r=new S.default,i=r.getHash(t),n=r.getHash(e);return r.distance(i,n)},V.compareHashes=function(t,e){return new S.default().distance(t,e)},V.colorDiff=function(t,e){var r=function(t){return Math.pow(t,2)},i=Math.max,n=195075;return 0===t.a||t.a||(t.a=255),0===e.a||e.a||(e.a=255),(i(r(t.r-e.r),r(t.r-e.r-t.a+e.a))+i(r(t.g-e.g),r(t.g-e.g-t.a+e.a))+i(r(t.b-e.b),r(t.b-e.b-t.a+e.a)))/n},q("clone","clone",function(t){var e=new V(this);return(0,_.isNodePattern)(t)&&t.call(e,null,e),e}),Y("background",function(t,e){return"number"!=typeof t?_.throwError.call(this,"hex must be a hexadecimal rgba value",e):(this._background=t,(0,_.isNodePattern)(e)&&e.call(this,null,this),this)}),Y("scan",function(t,e,r,i,n,a){if("number"!=typeof t||"number"!=typeof e)return _.throwError.call(this,"x and y must be numbers",a);if("number"!=typeof r||"number"!=typeof i)return _.throwError.call(this,"w and h must be numbers",a);if("function"!=typeof n)return _.throwError.call(this,"f must be a function",a);var s=(0,_.scan)(this,t,e,r,i,n);return(0,_.isNodePattern)(a)&&a.call(this,null,s),s}),"BROWSER"===process.env.ENVIRONMENT&&("undefined"!=typeof window&&("undefined"==typeof window?"undefined":(0,m.default)(window))==="object"&&(i=window),"undefined"!=typeof self&&("undefined"==typeof self?"undefined":(0,m.default)(self))==="object"&&(i=self),i.Jimp=V,i.Buffer=Buffer);var $=V;e.default=$},75645:t=>{"use strict";function e(t,e){this.size=this.size||t,this.smallerSize=this.smallerSize||e,n(this.size)}function r(t){var e={};return e.r=Math.floor(t/16777216),e.g=Math.floor((t-16777216*e.r)/65536),e.b=Math.floor((t-16777216*e.r-65536*e.g)/256),e.a=Math.floor((t-16777216*e.r-65536*e.g-256*e.b)/1),e}e.prototype.size=32,e.prototype.smallerSize=8,e.prototype.distance=function(t,e){for(var r=0,i=0;i<t.length;i++)t[i]!==e[i]&&r++;return r/t.length},e.prototype.getHash=function(t){(t=t.clone().resize(this.size,this.size)).grayscale();for(var e=[],i=0;i<t.bitmap.width;i++){e[i]=[];for(var n=0;n<t.bitmap.height;n++)e[i][n]=r(t.getPixelColor(i,n)).b}for(var s=a(e,this.size),o=0,l=0;l<this.smallerSize;l++)for(var h=0;h<this.smallerSize;h++)o+=s[l][h];for(var u=o/(this.smallerSize*this.smallerSize),f="",c=0;c<this.smallerSize;c++)for(var d=0;d<this.smallerSize;d++)f+=s[c][d]>u?"1":"0";return f};var i=[];function n(t){for(var e=1;e<t;e++)i[e]=1;i[0]=1/Math.sqrt(2)}function a(t,e){for(var r=e,n=[],a=0;a<r;a++){n[a]=[];for(var s=0;s<r;s++){for(var o=0,l=0;l<r;l++)for(var h=0;h<r;h++)o+=Math.cos((2*l+1)/(2*r)*a*Math.PI)*Math.cos((2*h+1)/(2*r)*s*Math.PI)*t[l][h];o*=i[a]*i[s]/4,n[a][s]=o}}return n}t.exports=e},45480:(t,e,r)=>{"use strict";var i=r(39618),n=i(r(61092)),a=i(r(65684));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(r,!0).forEach(function(e){(0,n.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}"BROWSER"===process.env.ENVIRONMENT||void 0!==process.versions.electron&&"renderer"===process.type&&"function"==typeof XMLHttpRequest?t.exports=function(t,e){var r=new XMLHttpRequest;r.open("GET",t.url,!0),r.responseType="arraybuffer",r.addEventListener("load",function(){if(r.status<400)try{var i=Buffer.from(this.response);e(null,r,i)}catch(r){return e(Error("Response is not a buffer for url "+t.url+". Error: "+r.message))}else e(Error("HTTP Status "+r.status+" for url "+t.url))}),r.addEventListener("error",function(t){e(t)}),r.send()}:t.exports=function(t,e){var i=(0,a.default)({},t);r(25929)(o({compression:!0},i),function(t,r){null===t?e(null,r,r.body):e(t)})}},11513:(t,e,r)=>{"use strict";var i=r(64056),n=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.parseBitmap=b,e.getBuffer=y,e.getBufferAsync=w;var a=n(r(35895)),s=n(r(16477)),o=n(r(31792)),l=n(r(26236)),h=r(67937),u=i(r(63428)),f=i(r(94469)),c=n(r(61151));function d(t,e){var r;return s.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.default.awrap(o.default.fromBuffer(t));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.mime);case 5:if(!e){i.next=7;break}return i.abrupt("return",f.getType(e));case 7:return i.abrupt("return",null);case 8:case"end":return i.stop()}})}function p(t){return t._exif&&t._exif.tags&&t._exif.tags.Orientation||1}function m(t){var e=t.getWidth(),r=t.getHeight();switch(p(t)){case 1:default:return null;case 2:return function(t,r){return[e-t-1,r]};case 3:return function(t,i){return[e-t-1,r-i-1]};case 4:return function(t,e){return[t,r-e-1]};case 5:return function(t,e){return[e,t]};case 6:return function(t,e){return[e,r-t-1]};case 7:return function(t,i){return[e-i-1,r-t-1]};case 8:return function(t,r){return[e-r-1,t]}}}function g(t,e,r,i){for(var n=t.bitmap.data,s=t.bitmap.width,o=Buffer.alloc(n.length),l=0;l<e;l++)for(var h=0;h<r;h++){var u=i(l,h),f=(0,a.default)(u,2),c=f[0],d=f[1],p=e*h+l<<2,m=s*d+c<<2,g=n.readUInt32BE(m);o.writeUInt32BE(g,p)}t.bitmap.data=o,t.bitmap.width=e,t.bitmap.height=r}function v(t){if(!(2>p(t))){var e=m(t),r=p(t)>4,i=r?t.bitmap.height:t.bitmap.width,n=r?t.bitmap.width:t.bitmap.height;g(t,i,n,e)}}function b(t,e,r){var i,n;return s.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.default.awrap(d(t,e));case 2:if(!("string"!=typeof(i=a.sent))){a.next=5;break}return a.abrupt("return",r(Error("Could not find MIME for Buffer <"+e+">")));case 5:if(this._originalMime=i.toLowerCase(),a.prev=6,n=this.getMIME(),!this.constructor.decoders[n]){a.next=12;break}this.bitmap=this.constructor.decoders[n](t),a.next=13;break;case 12:return a.abrupt("return",h.throwError.call(this,"Unsupported MIME type: "+n,r));case 13:a.next=18;break;case 15:return a.prev=15,a.t0=a.catch(6),a.abrupt("return",r.call(this,a.t0,this));case 18:try{this._exif=l.default.create(t).parse(),v(this)}catch(t){}return r.call(this,null,this),a.abrupt("return",this);case 21:case"end":return a.stop()}},null,this,[[6,15]])}function _(t,e){return new t(e.bitmap.width,e.bitmap.height,e._background).composite(e,0,0).bitmap}function y(t,e){if(t===u.AUTO&&(t=this.getMIME()),"string"!=typeof t)return h.throwError.call(this,"mime must be a string",e);if("function"!=typeof e)return h.throwError.call(this,"cb must be a function",e);if(t=t.toLowerCase(),this._rgba&&this.constructor.hasAlpha[t]?this.bitmap.data=Buffer.from(this.bitmap.data):this.bitmap.data=_(this.constructor,this).data,this.constructor.encoders[t]){var r=this.constructor.encoders[t](this);e.call(this,null,r)}else e.call(this,"Unsupported MIME type: "+t);return this}function w(t){return(0,c.default)(y,this,t)}},94469:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExtension=e.getType=e.addType=void 0;var r={},i=function(t){return Object.entries(r).find(function(e){return e[1].includes(t)})||[]},n=function(t,e){r[t]=e};e.addType=n;var a=function(t){var e=t.split("/").slice(-1);return i(e[e.length-1].split(".").pop())[0]};e.getType=a;var s=function(t){return(r[t.toLowerCase()]||[])[0]};e.getExtension=s},61151:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){for(var r=arguments.length,i=Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return new Promise(function(r,n){i.push(function(t,e){t&&n(t),r(e)}),t.bind(e).apply(void 0,i)})};e.default=r,t.exports=e.default},28450:(t,e,r)=>{"use strict";var i=r(64056),n=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var a=n(r(84653)),s=n(r(61092)),o=n(r(35895)),l=i(r(77401));function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(r,!0).forEach(function(e){(0,s.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default,r={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function i(t){Object.entries(t).forEach(function(t){var e=(0,o.default)(t,2),i=e[0],n=e[1];r[i]=u({},r[i],{},n)})}function n(t){var e=t();Array.isArray(e.mime)?l.addType.apply(void 0,(0,a.default)(e.mime)):Object.entries(e.mime).forEach(function(t){return l.addType.apply(void 0,(0,a.default)(t))}),delete e.mime,i(e)}function s(t){var e=t(l.jimpEvChange)||{};e.class||e.constants?i(e):i({class:e})}return t.types&&(t.types.forEach(n),e.decoders=u({},e.decoders,{},r.decoders),e.encoders=u({},e.encoders,{},r.encoders),e.hasAlpha=u({},e.hasAlpha,{},r.hasAlpha)),t.plugins&&t.plugins.forEach(s),(0,l.addJimpMethods)(r.class,e),(0,l.addConstants)(r.constants,e),l.default}t.exports=e.default},14137:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=i(r(65141)),s=r(5071),o="image/gif",l=function(){return{mime:(0,n.default)({},o,["gif"]),constants:{MIME_GIF:o},decoders:(0,n.default)({},o,function(t){var e=new a.default.GifReader(t),r=Buffer.alloc(e.width*e.height*4);return e.decodeAndBlitFrameRGBA(0,r),{data:r,width:e.width,height:e.height}}),encoders:(0,n.default)({},o,function(t){var e=new s.BitmapImage(t.bitmap);s.GifUtil.quantizeDekker(e,256);var r=new s.GifFrame(e);return new s.GifCodec().encodeGif([r],{}).then(function(t){return t.buffer})})}};e.default=l,t.exports=e.default},86130:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=i(r(83347)),s=r(67937),o="image/jpeg",l=function(){return{mime:(0,n.default)({},o,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:o},decoders:(0,n.default)({},o,a.default.decode),encoders:(0,n.default)({},o,function(t){return a.default.encode(t.bitmap,t._quality).data}),class:{_quality:100,quality:function(t,e){return"number"!=typeof t?s.throwError.call(this,"n must be a number",e):t<0||t>100?s.throwError.call(this,"n must be a number 0 - 100",e):(this._quality=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)}}}};e.default=l,t.exports=e.default},35338:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(67937),a=i(r(70745)),s=i(r(5277)),o=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(t,e,r,i){if("number"!=typeof t||"number"!=typeof e)return n.throwError.call(this,"w and h must be numbers",i);if("function"==typeof r&&void 0===i&&(i=r,r=null),t===this.constructor.AUTO&&e===this.constructor.AUTO)return n.throwError.call(this,"w and h cannot both be set to auto",i);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(e/this.bitmap.height)),e===this.constructor.AUTO&&(e=this.bitmap.height*(t/this.bitmap.width)),t<0||e<0)return n.throwError.call(this,"w and h must be positive numbers",i);if(t=Math.round(t),e=Math.round(e),"function"==typeof s.default[r]){var o={data:Buffer.alloc(t*e*4),width:t,height:e};s.default[r](this.bitmap,o),this.bitmap=o}else{var l=this;new a.default(this.bitmap.width,this.bitmap.height,t,e,!0,!0,function(r){l.bitmap.data=Buffer.from(r),l.bitmap.width=t,l.bitmap.height=e}).resize(this.bitmap.data)}return(0,n.isNodePattern)(i)&&i.call(this,null,this),this}}}};e.default=o,t.exports=e.default},70745:t=>{"use strict";function e(t,e,r,i,n,a,s){this.widthOriginal=Math.abs(Math.floor(t)||0),this.heightOriginal=Math.abs(Math.floor(e)||0),this.targetWidth=Math.abs(Math.floor(r)||0),this.targetHeight=Math.abs(Math.floor(i)||0),this.colorChannels=n?4:3,this.interpolationPass=!!a,this.resizeCallback="function"==typeof s?s:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}e.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw Error("Invalid settings specified for the resizer.")},e.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},e.prototype._resizeWidthInterpolatedRGBChannels=function(t,e){var r,i,n=e?4:3,a=this.ratioWeightWidthPass,s=this.widthBuffer,o=0,l=0,h=0,u=0,f=0;for(r=0;o<1/3;r+=n,o+=a)for(l=r,h=0;l<this.widthPassResultSize;h+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)s[l]=t[h],s[l+1]=t[h+1],s[l+2]=t[h+2],e&&(s[l+3]=t[h+3]);for(o-=1/3,i=this.widthOriginal-1;o<i;r+=n,o+=a)for(u=1-(f=o%1),l=r,h=Math.floor(o)*n;l<this.widthPassResultSize;h+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)s[l+0]=t[h+0]*u+t[h+n+0]*f,s[l+1]=t[h+1]*u+t[h+n+1]*f,s[l+2]=t[h+2]*u+t[h+n+2]*f,e&&(s[l+3]=t[h+3]*u+t[h+n+3]*f);for(i=this.originalWidthMultipliedByChannels-n;r<this.targetWidthMultipliedByChannels;r+=n)for(l=r,h=i;l<this.widthPassResultSize;h+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)s[l]=t[h],s[l+1]=t[h+1],s[l+2]=t[h+2],e&&(s[l+3]=t[h+3]);return s},e.prototype._resizeWidthRGBChannels=function(t,e){var r=e?4:3,i=this.ratioWeightWidthPass,n=1/i,a=this.originalWidthMultipliedByChannels-r+1,s=this.targetWidthMultipliedByChannels-r+1,o=this.outputWidthWorkBench,l=this.widthBuffer,h=this.outputWidthWorkBenchOpaquePixelsCount,u=0,f=0,c=0,d=0,p=0,m=0,g=0,v=1,b=0,_=0,y=0,w=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)o[p++]=0,o[p++]=0,o[p++]=0,e&&(o[p++]=0,h[p/r-1]=0);u=i;do{for(p=0,v=Math.min(u,f=1+c-d),m=c;p<this.originalHeightMultipliedByChannels;m+=a)b=t[m],_=t[++m],y=t[++m],w=e?t[++m]:255,o[p++]+=(w?b:0)*v,o[p++]+=(w?_:0)*v,o[p++]+=(w?y:0)*v,e&&(o[p++]+=w*v,h[p/r-1]+=w?v:0);if(u>=f)c+=r,d=c,u-=f;else{d+=u;break}}while(u>0&&c<this.originalWidthMultipliedByChannels);for(p=0,m=g;p<this.originalHeightMultipliedByChannels;m+=s)u=e?h[p/r]:1,v=e?u?1/u:0:n,l[m]=o[p++]*v,l[++m]=o[p++]*v,l[++m]=o[p++]*v,e&&(l[++m]=o[p++]*n);g+=r}while(g<this.targetWidthMultipliedByChannels);return l},e.prototype._resizeHeightRGBChannels=function(t,e){var r=this.ratioWeightHeightPass,i=1/r,n=this.outputHeightWorkBench,a=this.heightBuffer,s=this.outputHeightWorkBenchOpaquePixelsCount,o=0,l=0,h=0,u=0,f=0,c=0,d=0,p=1,m=0,g=0,v=0,b=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)n[f++]=0,n[f++]=0,n[f++]=0,e&&(n[f++]=0,s[f/4-1]=0);o=r;do{for(f=0,p=Math.min(o,l=1+h-u),d=h;f<this.targetWidthMultipliedByChannels;)m=t[d++],g=t[d++],v=t[d++],b=e?t[d++]:255,n[f++]+=(b?m:0)*p,n[f++]+=(b?g:0)*p,n[f++]+=(b?v:0)*p,e&&(n[f++]+=b*p,s[f/4-1]+=b?p:0);if(o>=l)u=h=d,o-=l;else{u+=o;break}}while(o>0&&h<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)o=e?s[f/4]:1,p=e?o?1/o:0:i,a[c++]=Math.round(n[f++]*p),a[c++]=Math.round(n[f++]*p),a[c++]=Math.round(n[f++]*p),e&&(a[c++]=Math.round(n[f++]*i))}while(c<this.finalResultSize);return a},e.prototype.resizeWidthInterpolatedRGB=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!1)},e.prototype.resizeWidthInterpolatedRGBA=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!0)},e.prototype.resizeWidthRGB=function(t){return this._resizeWidthRGBChannels(t,!1)},e.prototype.resizeWidthRGBA=function(t){return this._resizeWidthRGBChannels(t,!0)},e.prototype.resizeHeightInterpolated=function(t){for(var e,r=this.ratioWeightHeightPass,i=this.heightBuffer,n=0,a=0,s=0,o=0,l=0,h=0,u=0;n<1/3;n+=r)for(s=0;s<this.targetWidthMultipliedByChannels;)i[a++]=Math.round(t[s++]);for(n-=1/3,e=this.heightOriginal-1;n<e;n+=r)for(s=0,h=1-(u=n%1),l=(o=Math.floor(n)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels;s<this.targetWidthMultipliedByChannels;++s)i[a++]=Math.round(t[o++]*h+t[l++]*u);for(;a<this.finalResultSize;)for(s=0,o=e*this.targetWidthMultipliedByChannels;s<this.targetWidthMultipliedByChannels;++s)i[a++]=Math.round(t[o++]);return i},e.prototype.resizeHeightRGB=function(t){return this._resizeHeightRGBChannels(t,!1)},e.prototype.resizeHeightRGBA=function(t){return this._resizeHeightRGBChannels(t,!0)},e.prototype.resize=function(t){this.resizeCallback(this.resizeHeight(this.resizeWidth(t)))},e.prototype.bypassResizer=function(t){return t},e.prototype.initializeFirstPassBuffers=function(t){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),!t&&(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},e.prototype.initializeSecondPassBuffers=function(t){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),!t&&(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},e.prototype.generateFloatBuffer=function(t){try{return new Float32Array(t)}catch(t){return[]}},e.prototype.generateFloat64Buffer=function(t){try{return new Float64Array(t)}catch(t){return[]}},e.prototype.generateUint8Buffer=function(t){try{return new Uint8Array(t)}catch(t){return[]}},t.exports=e},5277:t=>{"use strict";t.exports={nearestNeighbor:function(t,e){for(var r=t.width,i=t.height,n=e.width,a=e.height,s=t.data,o=e.data,l=0;l<a;l++)for(var h=0;h<n;h++){var u=(l*n+h)*4,f=Math.floor(h*r/n),c=(Math.floor(l*i/a)*r+f)*4;o[u++]=s[c++],o[u++]=s[c++],o[u++]=s[c++],o[u++]=s[c++]}},bilinearInterpolation:function(t,e){for(var r=t.width,i=t.height,n=e.width,a=e.height,s=t.data,o=e.data,l=function(t,e,r,i,n){return e===i?r:Math.round((t-e)*n+(i-t)*r)},h=function(t,e,i,n,a,h,u,f){var c=(u*r+n)*4+e,d=(u*r+a)*4+e,p=l(i,n,s[c],a,s[d]);if(f===u)o[t+e]=p;else{c=(f*r+n)*4+e,d=(f*r+a)*4+e;var m=l(i,n,s[c],a,s[d]);o[t+e]=l(h,u,p,f,m)}},u=0;u<a;u++)for(var f=0;f<n;f++){var c=(u*n+f)*4,d=f*r/n,p=Math.floor(d),m=Math.min(Math.ceil(d),r-1),g=u*i/a,v=Math.floor(g),b=Math.min(Math.ceil(g),i-1);h(c,0,d,p,m,g,v,b),h(c,1,d,p,m,g,v,b),h(c,2,d,p,m,g,v,b),h(c,3,d,p,m,g,v,b)}},_interpolate2D:function(t,e,r,i){for(var n=t.data,a=e.data,s=t.width,o=t.height,l=e.width,h=e.height,u=Math.max(1,Math.floor(s/l)),f=l*u,c=Math.max(1,Math.floor(o/h)),d=h*c,p=Buffer.alloc(f*o*4),m=0;m<o;m++)for(var g=0;g<f;g++)for(var v=g*(s-1)/f,b=Math.floor(v),_=v-b,y=(m*s+b)*4,w=(m*f+g)*4,x=0;x<4;x++){var M=y+x,S=b>0?n[M-4]:2*n[M]-n[M+4],E=n[M],P=n[M+4],k=b<s-2?n[M+8]:2*n[M+4]-n[M];p[w+x]=i(S,E,P,k,_)}for(var A=Buffer.alloc(f*d*4),T=0;T<d;T++)for(var I=0;I<f;I++)for(var B=T*(o-1)/d,C=Math.floor(B),O=B-C,L=(C*f+I)*4,D=(T*f+I)*4,R=0;R<4;R++){var z=L+R,F=C>0?p[z-4*f]:2*p[z]-p[z+4*f],j=p[z],U=p[z+4*f],N=C<o-2?p[z+8*f]:2*p[z+4*f]-p[z];A[D+R]=i(F,j,U,N,O)}var G=u*c;if(G>1)for(var V=0;V<h;V++)for(var H=0;H<l;H++){for(var W=0,q=0,Y=0,$=0,X=0,Z=0;Z<c;Z++)for(var J=V*c+Z,K=0;K<u;K++){var Q=(J*f+(H*u+K))*4,tt=A[Q+3];tt&&(W+=A[Q],q+=A[Q+1],Y+=A[Q+2],X++),$+=tt}var te=(V*l+H)*4;a[te]=X?Math.round(W/X):0,a[te+1]=X?Math.round(q/X):0,a[te+2]=X?Math.round(Y/X):0,a[te+3]=Math.round($/G)}else e.data=A},bicubicInterpolation:function(t,e,r){var i=function(t,e,r,i,n){var a=i-r-t+e,s=t-e-a;return Math.max(0,Math.min(255,n*n*n*a+n*n*s+(r-t)*n+e))};return this._interpolate2D(t,e,r,i)},hermiteInterpolation:function(t,e,r){var i=function(t,e,r,i,n){var a=e,s=.5*(r-t),o=t-2.5*e+2*r-.5*i;return Math.max(0,Math.min(255,Math.round((((.5*(i-t)+1.5*(e-r))*n+o)*n+s)*n+a)))};return this._interpolate2D(t,e,r,i)},bezierInterpolation:function(t,e,r){var i=function(t,e,r,i,n){var a=e+(r-t)/4,s=r-(i-e)/4,o=1-n;return Math.max(0,Math.min(255,Math.round(e*o*o*o+3*a*o*o*n+3*s*o*n*n+r*n*n*n)))};return this._interpolate2D(t,e,r,i)}}},33136:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=r(81687),s=r(67937),o="image/png",l=-1,h=0,u=1,f=2,c=3,d=4,p=function(){return{mime:(0,n.default)({},o,["png"]),constants:{MIME_PNG:o,PNG_FILTER_AUTO:l,PNG_FILTER_NONE:h,PNG_FILTER_SUB:u,PNG_FILTER_UP:f,PNG_FILTER_AVERAGE:c,PNG_FILTER_PATH:d},hasAlpha:(0,n.default)({},o,!0),decoders:(0,n.default)({},o,a.PNG.sync.read),encoders:(0,n.default)({},o,function(t){var e=new a.PNG({width:t.bitmap.width,height:t.bitmap.height});return e.data=t.bitmap.data,a.PNG.sync.write(e,{width:t.bitmap.width,height:t.bitmap.height,deflateLevel:t._deflateLevel,deflateStrategy:t._deflateStrategy,filterType:t._filterType,colorType:"number"==typeof t._colorType?t._colorType:t._rgba?6:2,inputHasAlpha:t._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:l,_colorType:null,deflateLevel:function(t,e){return"number"!=typeof t?s.throwError.call(this,"l must be a number",e):t<0||t>9?s.throwError.call(this,"l must be a number 0 - 9",e):(this._deflateLevel=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},deflateStrategy:function(t,e){return"number"!=typeof t?s.throwError.call(this,"s must be a number",e):t<0||t>3?s.throwError.call(this,"s must be a number 0 - 3",e):(this._deflateStrategy=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},filterType:function(t,e){return"number"!=typeof t?s.throwError.call(this,"n must be a number",e):t<-1||t>4?s.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",e):(this._filterType=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},colorType:function(t,e){return"number"!=typeof t?s.throwError.call(this,"s must be a number",e):0!==t&&2!==t&&4!==t&&6!==t?s.throwError.call(this,"s must be a number 0, 2, 4, 6.",e):(this._colorType=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)}}}};e.default=p,t.exports=e.default},57314:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(61092)),a=i(r(53833)),s="image/tiff",o=function(){return{mime:(0,n.default)({},s,["tiff","tif"]),constants:{MIME_TIFF:s},decoders:(0,n.default)({},s,function(t){var e=a.default.decode(t),r=e[0];a.default.decodeImages(t,e);var i=a.default.toRGBA8(r);return{data:Buffer.from(i),width:r.t256[0],height:r.t257[0]}}),encoders:(0,n.default)({},s,function(t){var e=a.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return Buffer.from(e)})}};e.default=o,t.exports=e.default},82282:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(22745),a=i(r(86130)),s=i(r(33136)),o=i(r(46936)),l=i(r(57314)),h=i(r(14137)),u=function(){return(0,n.mergeDeep)((0,a.default)(),(0,s.default)(),(0,o.default)(),(0,l.default)(),(0,h.default)())};e.default=u,t.exports=e.default},67937:(t,e,r)=>{"use strict";var i=r(39618);Object.defineProperty(e,"__esModule",{value:!0}),e.isNodePattern=s,e.throwError=o,e.scan=l,e.scanIterator=h;var n=i(r(16477)),a=n.default.mark(h);function s(t){if(void 0===t)return!1;if("function"!=typeof t)throw TypeError("Callback must be a function");return!0}function o(t,e){if("string"==typeof t&&(t=Error(t)),"function"==typeof e)return e.call(this,t);throw t}function l(t,e,r,i,n,a){e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n);for(var s=r;s<r+n;s++)for(var o=e;o<e+i;o++){var l=t.bitmap.width*s+o<<2;a.call(t,o,s,l)}return t}function h(t,e,r,i,s){var o,l,h;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=Math.round(e),r=Math.round(r),i=Math.round(i),s=Math.round(s),o=r;case 5:if(!(o<r+s)){n.next=17;break}l=e;case 7:if(!(l<e+i)){n.next=14;break}return h=t.bitmap.width*o+l<<2,n.next=11,{x:l,y:o,idx:h,image:t};case 11:l++,n.next=7;break;case 14:o++,n.next=5;break;case 17:case"end":return n.stop()}},a)}},30473:(t,e,r)=>{var i=r(54296);function n(t,e){var r=new i(t,e);return function(t){return r.convert(t)}}n.BIN="01",n.OCT="01234567",n.DEC="0123456789",n.HEX="0123456789abcdef",t.exports=n},54296:t=>{"use strict";function e(t,e){if(!t||!e||!t.length||!e.length)throw Error("Bad alphabet");this.srcAlphabet=t,this.dstAlphabet=e}e.prototype.convert=function(t){var e,r,i,n={},a=this.srcAlphabet.length,s=this.dstAlphabet.length,o=t.length,l="string"==typeof t?"":[];if(!this.isValid(t))throw Error('Number "'+t+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return t;for(e=0;e<o;e++)n[e]=this.srcAlphabet.indexOf(t[e]);do{for(e=0,r=0,i=0;e<o;e++)(r=r*a+n[e])>=s?(n[i++]=parseInt(r/s,10),r%=s):i>0&&(n[i++]=0);o=i,l=this.dstAlphabet.slice(r,r+1).concat(l)}while(0!==i);return l},e.prototype.isValid=function(t){for(var e=0;e<t.length;++e)if(-1===this.srcAlphabet.indexOf(t[e]))return!1;return!0},t.exports=e},9312:(t,e,r)=>{var i=r(26258),n=r(32512);t.exports={encode:i,decode:n}},32512:t=>{function e(t,e){if(this.pos=0,this.buffer=t,this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}e.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=Array(t);for(var e=0;e<t;e++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.palette[e]={red:n,green:i,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},e.prototype.parseRGBA=function(){var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Buffer(e),this[t]()},e.prototype.bit1=function(){for(var t=Math.ceil(this.width/8),e=t%4,r=this.height>=0?this.height-1:-this.height,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<t;n++)for(var a=this.buffer.readUInt8(this.pos++),s=i*this.width*4+32*n,o=0;o<8;o++)if(8*n+o<this.width){var l=this.palette[a>>7-o&1];this.data[s+4*o]=0,this.data[s+4*o+1]=l.blue,this.data[s+4*o+2]=l.green,this.data[s+4*o+3]=l.red}else break;0!=e&&(this.pos+=4-e)}},e.prototype.bit4=function(){if(2==this.compress){this.data.fill(255);for(var t=0,e=this.bottom_up?this.height-1:0,r=!1;t<this.data.length;){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(0==i){if(0==n){this.bottom_up?e--:e++,t=e*this.width*4,r=!1;continue}if(1==n)break;if(2==n){var a=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);this.bottom_up?e-=s:e+=s,t+=s*this.width*4+4*a}else{for(var o=this.buffer.readUInt8(this.pos++),l=0;l<n;l++)r?h.call(this,15&o):h.call(this,(240&o)>>4),1&l&&l+1<n&&(o=this.buffer.readUInt8(this.pos++)),r=!r;(n+1>>1&1)==1&&this.pos++}}else for(var l=0;l<i;l++)r?h.call(this,15&n):h.call(this,(240&n)>>4),r=!r}function h(e){var r=this.palette[e];this.data[t]=0,this.data[t+1]=r.blue,this.data[t+2]=r.green,this.data[t+3]=r.red,t+=4}}else for(var u=Math.ceil(this.width/2),f=u%4,s=this.height-1;s>=0;s--){for(var c=this.bottom_up?s:this.height-1-s,a=0;a<u;a++){var n=this.buffer.readUInt8(this.pos++),t=c*this.width*4+8*a,d=n>>4,p=15&n,m=this.palette[d];if(this.data[t]=0,this.data[t+1]=m.blue,this.data[t+2]=m.green,this.data[t+3]=m.red,2*a+1>=this.width)break;m=this.palette[p],this.data[t+4]=0,this.data[t+4+1]=m.blue,this.data[t+4+2]=m.green,this.data[t+4+3]=m.red}0!=f&&(this.pos+=4-f)}},e.prototype.bit8=function(){if(1==this.compress){this.data.fill(255);for(var t=0,e=this.bottom_up?this.height-1:0;t<this.data.length;){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0==r){if(0==i){this.bottom_up?e--:e++,t=e*this.width*4;continue}if(1==i)break;if(2==i){var n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?e-=a:e+=a,t+=a*this.width*4+4*n}else{for(var s=0;s<i;s++)o.call(this,this.buffer.readUInt8(this.pos++));!0&i&&this.pos++}}else for(var s=0;s<r;s++)o.call(this,i)}function o(e){var r=this.palette[e];this.data[t]=0,this.data[t+1]=r.blue,this.data[t+2]=r.green,this.data[t+3]=r.red,t+=4}}else for(var l=this.width%4,a=this.height-1;a>=0;a--){for(var h=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.buffer.readUInt8(this.pos++),t=h*this.width*4+4*n;if(i<this.palette.length){var u=this.palette[i];this.data[t]=0,this.data[t+1]=u.blue,this.data[t+2]=u.green,this.data[t+3]=u.red}else this.data[t]=0,this.data[t+1]=255,this.data[t+2]=255,this.data[t+3]=255}0!=l&&(this.pos+=4-l)}},e.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,h=a>>15?255:0,u=i*this.width*4+4*n;this.data[u]=h,this.data[u+1]=s,this.data[u+2]=o,this.data[u+3]=l}this.pos+=t}},e.prototype.bit16=function(){var t=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var e=[0,0,0],r=0;r<16;r++)this.maskRed>>r&1&&e[0]++,this.maskGreen>>r&1&&e[1]++,this.maskBlue>>r&1&&e[2]++;e[1]+=e[0],e[2]+=e[1],e[0]=8-e[0],e[1]-=8,e[2]-=8;for(var i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var s=this.buffer.readUInt16LE(this.pos);this.pos+=2;var o=(s&this.maskBlue)<<e[0],l=(s&this.maskGreen)>>e[1],h=(s&this.maskRed)>>e[2],u=n*this.width*4+4*a;this.data[u]=0,this.data[u+1]=o,this.data[u+2]=l,this.data[u+3]=h}this.pos+=t}},e.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),s=e*this.width*4+4*r;this.data[s]=0,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=a}this.pos+=this.width%4}},e.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=s}}else for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=s}},e.prototype.getData=function(){return this.data},t.exports=function(t){return new e(t)}},26258:t=>{function e(t){this.buffer=t.data,this.width=t.width,this.height=t.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}e.prototype.encode=function(){var t=new Buffer(this.offset+this.rgbSize);this.pos=0,t.write(this.flag,this.pos,2),this.pos+=2,t.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,t.writeUInt32LE(this.reserved,this.pos),this.pos+=4,t.writeUInt32LE(this.offset,this.pos),this.pos+=4,t.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,t.writeUInt32LE(this.width,this.pos),this.pos+=4,t.writeInt32LE(-this.height,this.pos),this.pos+=4,t.writeUInt16LE(this.planes,this.pos),this.pos+=2,t.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,t.writeUInt32LE(this.compress,this.pos),this.pos+=4,t.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,t.writeUInt32LE(this.hr,this.pos),this.pos+=4,t.writeUInt32LE(this.vr,this.pos),this.pos+=4,t.writeUInt32LE(this.colors,this.pos),this.pos+=4,t.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var e=0,r=3*this.width+this.extraBytes,i=0;i<this.height;i++){for(var n=0;n<this.width;n++){var a=this.pos+i*r+3*n;e++,t[a]=this.buffer[e++],t[a+1]=this.buffer[e++],t[a+2]=this.buffer[e++]}if(this.extraBytes>0){var s=this.pos+i*r+3*this.width;t.fill(0,s,s+this.extraBytes)}}return t},t.exports=function(t,r){return void 0===r&&(r=100),{data:new e(t).encode(),width:t.width,height:t.height}}},26236:(t,e,r)=>{var i=r(20123);function n(){return(0,eval)("this")}t.exports={create:function(t,e){return new i(t instanceof(e=e||n()).ArrayBuffer?new(r(72161))(t,0,t.byteLength,!0,e):new(r(64172))(t,0,t.length,!0))}}},64172:t=>{function e(t,e,r,i){this.buffer=t,this.offset=e||0,r="number"==typeof r?r:t.length,this.endPosition=this.offset+r,this.setBigEndian(i)}e.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var e=this.buffer.toString("utf8",this.offset,this.offset+t);return this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new e(t.buffer,r,t.endPosition-r,t.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(t,r){return r="number"==typeof r?r:this.endPosition-(this.offset+t),new e(this.buffer,this.offset+t,r,this.bigEndian)}},t.exports=e},42305:t=>{function e(t){return parseInt(t,10)}var r=3600,i=60;function n(t,r){return t=t.map(e),r=r.map(e),Date.UTC(t[0],t[1]-1,t[2],r[0],r[1],r[2],0)/1e3}function a(t){var a=t.substr(0,10).split("-"),s=t.substr(11,8).split(":"),o=t.substr(19,6).split(":").map(e),l=o[0]*r+o[1]*i,h=n(a,s);if("number"==typeof(h-=l)&&!isNaN(h))return h}function s(t){var e=t.split(" "),r=n(e[0].split(":"),e[1].split(":"));if("number"==typeof r&&!isNaN(r))return r}function o(t){var e=19===t.length&&":"===t.charAt(4);return 25===t.length&&"T"===t.charAt(10)?a(t):e?s(t):void 0}t.exports={parseDateWithSpecFormat:s,parseDateWithTimezoneFormat:a,parseExifDate:o}},72161:t=>{function e(t,e,r,i,n,a){this.global=n,e=e||0,r=r||t.byteLength-e,this.arrayBuffer=t.slice(e,e+r),this.view=new n.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(i),this.offset=0,this.parentOffset=(a||0)+e}e.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return e=String.fromCharCode.apply(null,new this.global.Uint8Array(e)),this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new e(t.arrayBuffer,r,t.arrayBuffer.byteLength-r,!t.littleEndian,t.global,t.parentOffset)},offset:this.offset,getParentOffset:function(){return t.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(t,r){return r="number"==typeof r?r:this.arrayBuffer.byteLength-(this.offset+t),new e(this.arrayBuffer,this.offset+t,r,!this.littleEndian,this.global,this.parentOffset)}},t.exports=e},79443:t=>{t.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},49517:t=>{function e(t,e){switch(t){case 1:return e.nextUInt8();case 3:case 8:return e.nextUInt16();case 4:case 9:return e.nextUInt32();case 5:return[e.nextUInt32(),e.nextUInt32()];case 6:return e.nextInt8();case 10:return[e.nextInt32(),e.nextInt32()];case 11:return e.nextFloat();case 12:return e.nextDouble();default:throw Error("Invalid format while decoding: "+t)}}function r(t){switch(t){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function i(t,i){var n,a,s=i.nextUInt16(),o=i.nextUInt16(),l=r(o),h=i.nextUInt32(),u=l*h;if(u>4&&(i=t.openWithOffset(i.nextUInt32())),2===o){var f=(n=i.nextString(h)).indexOf("\0");-1!==f&&(n=n.substr(0,f))}else if(7===o)n=i.nextBuffer(h);else if(0!==o)for(a=0,n=[];a<h;++a)n.push(e(o,i));return u<4&&i.skip(4-u),[s,n,o]}function n(t,e,r){var n,a,s=e.nextUInt16();for(a=0;a<s;++a)r((n=i(t,e))[0],n[1],n[2])}function a(t){if("Exif\0\0"!==t.nextString(6))throw Error("Invalid EXIF header");var e=t.mark(),r=t.nextUInt16();if(18761===r)t.setBigEndian(!1);else if(19789===r)t.setBigEndian(!0);else throw Error("Invalid TIFF header");if(42!==t.nextUInt16())throw Error("Invalid TIFF data");return e}t.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(t,e){try{r=a(t)}catch(t){return!1}var r,i,s,o,l=r.openWithOffset(t.nextUInt32()),h=this.IFD0;n(r,l,function(t,r,n){switch(t){case 34853:s=r[0];break;case 34665:i=r[0];break;default:e(h,t,r,n)}});var u=l.nextUInt32();if(0!==u){var f=r.openWithOffset(u);n(r,f,e.bind(null,this.IFD1))}if(s){var c=r.openWithOffset(s);n(r,c,e.bind(null,this.GPSIFD))}if(i){var d=r.openWithOffset(i),p=this.InteropIFD;n(r,d,function(t,r,i){40965===t?o=r[0]:e(p,t,r,i)})}if(o){var m=r.openWithOffset(o);n(r,m,e.bind(null,this.InteropIFD))}return!0}}},63258:t=>{t.exports={parseSections:function(t,e){var r,i;for(t.setBigEndian(!0);t.remainingLength()>0&&218!==i;){if(255!==t.nextUInt8())throw Error("Invalid JPEG section offset");r=(i=t.nextUInt8())>=208&&i<=217||218===i?0:t.nextUInt16()-2,e(i,t.branch(0,r)),t.skip(r)}},getSizeFromSOFSection:function(t){return t.skip(1),{height:t.nextUInt16(),width:t.nextUInt16()}},getSectionName:function(t){switch(t){case 216:e="SOI";break;case 196:e="DHT";break;case 219:e="DQT";break;case 221:e="DRI";break;case 218:e="SOS";break;case 254:e="COM";break;case 217:e="EOI";break;default:t>=224&&t<=239?(e="APP",r=t-224):t>=192&&t<=207&&196!==t&&200!==t&&204!==t?(e="SOF",r=t-192):t>=208&&t<=215&&(e="RST",r=t-208)}var e,r,i={name:e};return"number"==typeof r&&(i.index=r),i}}},20123:(t,e,r)=>{var i=r(63258),n=r(49517),a=r(16697);function s(t,e,r,i,n,a,s){this.startMarker=t,this.tags=e,this.imageSize=r,this.thumbnailOffset=i,this.thumbnailLength=n,this.thumbnailType=a,this.app1Offset=s}function o(t){this.stream=t,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}s.prototype={hasThumbnail:function(t){return!!this.thumbnailOffset&&!!this.thumbnailLength&&("string"!=typeof t||("image/jpeg"===t.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===t.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var t,e=this._getThumbnailStream();return i.parseSections(e,function(e,r){"SOF"===i.getSectionName(e).name&&(t=i.getSizeFromSOFSection(r))}),t}},o.prototype={enableBinaryFields:function(t){return this.flags.readBinaryTags=!!t,this},enablePointers:function(t){return this.flags.hidePointers=!t,this},enableTagNames:function(t){return this.flags.resolveTagNames=!!t,this},enableImageSize:function(t){return this.flags.imageSize=!!t,this},enableReturnTags:function(t){return this.flags.returnTags=!!t,this},enableSimpleValues:function(t){return this.flags.simplifyValues=!!t,this},parse:function(){var t,e,o,l,h,u,f,c,d,p=this.stream.mark(),m=p.openWithOffset(0),g=this.flags;return g.resolveTagNames&&(f=r(79443)),g.resolveTagNames?(t={},c=function(e){return t[e.name]},d=function(e,r){t[e.name]=r}):(t=[],c=function(e){var r;for(r=0;r<t.length;++r)if(t[r].type===e.type&&t[r].section===e.section)return t.value},d=function(e,r){var i;for(i=0;i<t.length;++i)if(t[i].type===e.type&&t[i].section===e.section){t.value=r;return}}),i.parseSections(m,function(r,s){var c=s.offsetFrom(p);225===r?n.parseTags(s,function(e,r,i,s){if(g.readBinaryTags||7!==s){if(513===r){if(o=i[0],g.hidePointers)return}else if(514===r){if(l=i[0],g.hidePointers)return}else if(259===r&&(h=i[0],g.hidePointers))return;if(g.returnTags){if(g.simplifyValues&&(i=a.simplifyValue(i,s)),g.resolveTagNames){var u=(e===n.GPSIFD?f.gps:f.exif)[r];u||(u=f.exif[r]),t.hasOwnProperty(u)||(t[u]=i)}else t.push({section:e,type:r,value:i})}}})&&(u=c):g.imageSize&&"SOF"===i.getSectionName(r).name&&(e=i.getSizeFromSOFSection(s))}),g.simplifyValues&&(a.castDegreeValues(c,d),a.castDateValues(c,d)),new s(p,t,e,o,l,h,u)}},t.exports=o},16697:(t,e,r)=>{var i=r(49517),n=r(42305),a=[{section:i.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:i.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],s=[{section:i.SubIFD,type:306,name:"ModifyDate"},{section:i.SubIFD,type:36867,name:"DateTimeOriginal"},{section:i.SubIFD,type:36868,name:"CreateDate"},{section:i.SubIFD,type:306,name:"ModifyDate"}];t.exports={castDegreeValues:function(t,e){a.forEach(function(r){var i=t(r);if(i){var n=t({section:r.section,type:r.refType,name:r.refName})===r.posVal?1:-1;e(r,(i[0]+i[1]/60+i[2]/3600)*n)}})},castDateValues:function(t,e){s.forEach(function(r){var i=t(r);if(i){var a=n.parseExifDate(i);void 0!==a&&e(r,a)}})},simplifyValue:function(t,e){return Array.isArray(t)&&1===(t=t.map(function(t){return 10===e||5===e?t[0]/t[1]:t})).length&&(t=t[0]),t}}},106:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";let Token=__webpack_require__(40023),strtok3=__webpack_require__(57113),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(28238),supported=__webpack_require__(25554),minimumBytes=4100;async function fromStream(t){let e=await strtok3.fromStream(t);try{return await fromTokenizer(e)}finally{await e.close()}}async function fromBuffer(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);let e=t instanceof Buffer?t:Buffer.from(t);if(e&&e.length>1)return fromTokenizer(strtok3.fromBuffer(e))}function _check(t,e,r){for(let[i,n]of(r={offset:0,...r},e.entries()))if(r.mask){if(n!==(r.mask[i]&t[i+r.offset]))return!1}else if(n!==t[i+r.offset])return!1;return!0}async function fromTokenizer(t){try{return _fromTokenizer(t)}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}}async function _fromTokenizer(t){let e=Buffer.alloc(minimumBytes),r=12,i=(t,r)=>_check(e,t,r),n=(t,e)=>i(stringToBytes(t),e);if(t.fileInfo.size||(t.fileInfo.size=Number.MAX_SAFE_INTEGER),await t.peekBuffer(e,{length:r,mayBeLess:!0}),i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(i([37,33]))return(await t.peekBuffer(e,{length:24,mayBeLess:!0}),n("PS-Adobe-",{offset:2})&&n(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(i([31,160])||i([31,157]))return{ext:"Z",mime:"application/x-compress"};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n("ID3")){await t.ignore(6);let e=await t.readToken(uint32SyncSafeToken);return t.position+e>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(e),fromTokenizer(t))}if(n("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===e[0]||70===e[0])&&i([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n("FLIF"))return{ext:"flif",mime:"image/flif"};if(n("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(n("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(n("FORM"))return{ext:"aif",mime:"audio/aiff"};if(n("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(i([80,75,3,4])){try{for(;t.position+30<t.fileInfo.size;){await t.readBuffer(e,{length:30});let r={compressedSize:e.readUInt32LE(18),uncompressedSize:e.readUInt32LE(22),filenameLength:e.readUInt16LE(26),extraFieldLength:e.readUInt16LE(28)};if(r.filename=await t.readToken(new Token.StringType(r.filenameLength,"utf-8")),await t.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml"))switch(r.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize)switch(await t.readToken(new Token.StringType(r.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===r.compressedSize){let r=-1;for(;r<0&&t.position<t.fileInfo.size;)await t.peekBuffer(e,{mayBeLess:!0}),r=e.indexOf("504B0304",0,"hex"),await t.ignore(r>=0?r:e.length)}else await t.ignore(r.compressedSize)}}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}return{ext:"zip",mime:"application/zip"}}if(n("OggS")){await t.ignore(28);let e=Buffer.alloc(8);return(await t.readBuffer(e),_check(e,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/opus"}:_check(e,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(e,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(e,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(e,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(e,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(i([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(n("ftyp",{offset:4})&&(96&e[8])!=0){let t=e.toString("binary",8,12).replace("\0"," ").trim();switch(t){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(t.startsWith("3g")){if(t.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(n("MThd"))return{ext:"mid",mime:"audio/midi"};if(n("wOFF")&&(i([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(n("wOF2")&&(i([0,1,0,0],{offset:4})||n("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(i([212,195,178,161])||i([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(n("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(n("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(n("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(i([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(n("%PDF")){await t.ignore(1350);let e=10485760,r=Buffer.alloc(Math.min(e,t.fileInfo.size));return(await t.readBuffer(r,{mayBeLess:!0}),r.includes(Buffer.from("AIPrivateData")))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(i([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(i([73,73,42,0]))return n("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:i([28,0,254,0],{offset:8})||i([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:i([8,0,0,0],{offset:4})&&(i([45,0,254,0],{offset:8})||i([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(e=Buffer.alloc(24),await t.peekBuffer(e),(i([16,251,134,1],{offset:4})||i([8,0,0,0],{offset:4}))&&i([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9}))?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"};if(i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n("MAC "))return{ext:"ape",mime:"audio/ape"};if(i([26,69,223,163])){async function a(){let e=await t.peekNumber(Token.UINT8),r=128,i=0;for(;(e&r)==0&&0!==r;)++i,r>>=1;let n=Buffer.alloc(i+1);return await t.readBuffer(n),n}async function s(){let t=await a(),e=await a();e[0]^=128>>e.length-1;let r=Math.min(6,e.length);return{id:t.readUIntBE(0,t.length),len:e.readUIntBE(e.length-r,r)}}async function o(e,r){for(;r>0;){let e=await s();if(17026===e.id)return t.readToken(new Token.StringType(e.len,"utf-8"));await t.ignore(e.len),--r}}let e=await s();switch(await o(1,e.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(i([82,73,70,70])){if(i([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(i([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(i([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(i([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n("MSCF")||n("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(i([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(i([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(i([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(i([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(n("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(i([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n("IMPM"))return{ext:"it",mime:"audio/x-it"};if(n("-lh0-",{offset:2})||n("-lh1-",{offset:2})||n("-lh2-",{offset:2})||n("-lh3-",{offset:2})||n("-lh4-",{offset:2})||n("-lh5-",{offset:2})||n("-lh6-",{offset:2})||n("-lh7-",{offset:2})||n("-lzs-",{offset:2})||n("-lz4-",{offset:2})||n("-lz5-",{offset:2})||n("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(i([0,0,1,186])){if(i([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(i([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(n("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(i([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n("solid "))return{ext:"stl",mime:"model/stl"};if(n("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(n("!<arch>"))return(await t.ignore(8),"debian-binary"===await t.readToken(new Token.StringType(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(i([137,80,78,71,13,10,26,10])){async function l(){return{length:await t.readToken(Token.INT32_BE),type:await t.readToken(new Token.StringType(4,"binary"))}}await t.ignore(8);do{let e=await l();if(e.length<0)return;switch(e.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(e.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(i([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(i([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(i([102,114,101,101],{offset:4})||i([109,100,97,116],{offset:4})||i([109,111,111,118],{offset:4})||i([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(i([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(n("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(i([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(i([48,38,178,117,142,102,207,17,166,217])){async function h(){let e=Buffer.alloc(16);return await t.readBuffer(e),{id:e,size:Number(await t.readToken(Token.UINT64_LE))}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){let e=await h(),r=e.size-24;if(_check(e.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let e=Buffer.alloc(16);if(r-=await t.readBuffer(e),_check(e,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(e,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(r)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(i([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((i([126,16,4])||i([126,24,4]))&&i([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(i([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(i([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await t.ignore(20),await t.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(i([255,10])||i([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(i([0,0,1,186])||i([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(i([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(i([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(i([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(i([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(e,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),n("BEGIN:")){if(n("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(n("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(n("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(n("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(i([4,0,0,0])&&e.length>=16){let t=e.readUInt32LE(12);if(t>12&&e.length>=t+16)try{let r=e.slice(16,t+16).toString();if(JSON.parse(r).files)return{ext:"asar",mime:"application/x-asar"}}catch(t){}}if(i([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(i([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(i([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(i([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(i([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(i([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await t.peekBuffer(e,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(e))return{ext:"tar",mime:"application/x-tar"};if(i([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(n("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(e.length>=2&&i([255,224],{offset:0,mask:[255,224]})){if(i([16],{offset:1,mask:[22]}))return i([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(i([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(i([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(i([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}let stream=readableStream=>new Promise((resolve,reject)=>{let stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{let t;let e=new stream.PassThrough;t=stream.pipeline?stream.pipeline(readableStream,e,()=>{}):readableStream.pipe(e);let r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{let t=await fromBuffer(r);e.fileType=t}catch(t){reject(t)}resolve(t)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},31792:(t,e,r)=>{"use strict";let i=r(5e3),n=r(106),a={fromFile:async function(t){let e=await i.fromFile(t);try{return await n.fromTokenizer(e)}finally{await e.close()}}};Object.assign(a,n),Object.defineProperty(a,"extensions",{get:()=>n.extensions}),Object.defineProperty(a,"mimeTypes",{get:()=>n.mimeTypes}),t.exports=a},25554:t=>{"use strict";t.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},28238:(t,e)=>{"use strict";e.stringToBytes=t=>[...t].map(t=>t.charCodeAt(0)),e.tarHeaderChecksumMatches=(t,e=0)=>{let r=parseInt(t.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let i=256;for(let r=e;r<e+148;r++)i+=t[r];for(let r=e+156;r<e+512;r++)i+=t[r];return r===i},e.uint32SyncSafeToken={get:(t,e)=>127&t[e+3]|t[e+2]<<7|t[e+1]<<14|t[e]<<21,len:4}},21554:t=>{"use strict";class e{constructor(...t){if(0===t.length)throw Error("constructor requires parameters");let r=t[0];if(null!==r&&"object"==typeof r){if(r instanceof e){let t=r.bitmap;this.bitmap={width:t.width,height:t.height,data:new Buffer(t.width*t.height*4)},t.data.copy(this.bitmap.data)}else if(r.width&&r.height&&r.data)this.bitmap=r;else throw Error("unrecognized constructor parameters")}else if("number"==typeof r&&"number"==typeof t[1]){let e=r,i=t[1],n=t[2];this.bitmap={width:e,height:i},Buffer.isBuffer(n)?this.bitmap.data=n:(this.bitmap.data=new Buffer(e*i*4),"number"==typeof n&&this.fillRGBA(n))}else throw Error("unrecognized constructor parameters")}blit(t,e,r,i,n,a,s){if(i+a>this.bitmap.width)throw Error("copy exceeds width of source bitmap");if(e+a>t.bitmap.width)throw Error("copy exceeds width of target bitmap");if(n+s>this.bitmap.height)throw Error("copy exceeds height of source bitmap");if(r+s>t.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let o=this.bitmap.data,l=t.bitmap.data,h=4*this.bitmap.width,u=4*t.bitmap.width,f=4*a,c=n*h+4*i,d=r*u+4*e;for(;--s>=0;)o.copy(l,d,c,c+f),c+=h,d+=u;return this}fillRGBA(t){let e=this.bitmap.data,r=4*this.bitmap.height,i=0;for(;i<r;)e.writeUInt32BE(t,i),i+=4;for(;i<e.length;)e.copy(e,i,0,r),i+=r;return this}getRGBA(t,e){let r=(e*this.bitmap.width+t)*4;return this.bitmap.data.readUInt32BE(r)}getRGBASet(){let t=new Set,e=this.bitmap.data;for(let r=0;r<e.length;r+=4)t.add(e.readUInt32BE(r,!0));return t}greyscale(){let t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(e,r,i)=>{let n=Math.round(.299*t[i]+.587*t[i+1]+.114*t[i+2]);t[i]=n,t[i+1]=n,t[i+2]=n}),this}reframe(t,r,i,n,a){let s;let o=t<0?0:t,l=r<0?0:r,h=i+o>this.bitmap.width?this.bitmap.width-o:i,u=n+l>this.bitmap.height?this.bitmap.height-l:n,f=t<0?-t:0,c=r<0?-r:0;if(void 0===a){if(o!==t||l!=r||h!==i||u!==n)throw new GifError("fillRGBA required for this reframing");s=new e(i,n)}else s=new e(i,n,a);return this.blit(s,f,c,o,l,h,u),this.bitmap=s.bitmap,this}scale(t){let e;if(1===t)return;if(!Number.isInteger(t)||t<1)throw Error("the scale must be an integer >= 1");let r=this.bitmap.width,i=this.bitmap.height,n=r*t*4,a=this.bitmap.data,s=new Buffer(i*n*t),o=0,l=0;for(let h=0;h<i;++h){e=l;for(let e=0;e<r;++e){let e=a.readUInt32BE(o,!0);for(let r=0;r<t;++r)s.writeUInt32BE(e,l),l+=4;o+=4}for(let r=1;r<t;++r)s.copy(s,l,e,l),l+=n,e+=n}return this.bitmap={width:r*t,height:i*t,data:s},this}scanAllCoords(t){let e=this.bitmap.width,r=this.bitmap.data.length,i=0,n=0;for(let a=0;a<r;a+=4)t(i,n,a),++i===e&&(i=0,++n)}scanAllIndexes(t){let e=this.bitmap.data.length;for(let r=0;r<e;r+=4)t(r)}}t.exports=e},73024:(t,e)=>{"use strict";class r{constructor(t,e,r){this.width=r.width,this.height=r.height,this.loops=r.loops,this.usesTransparency=r.usesTransparency,this.colorScope=r.colorScope,this.frames=e,this.buffer=t}}r.GlobalColorsPreferred=0,r.GlobalColorsOnly=1,r.LocalColorsOnly=2;class i extends Error{constructor(t){super(t),t instanceof Error&&(this.stack="Gif"+t.stack)}}e.Gif=r,e.GifError=i},61872:(t,e,r)=>{"use strict";let i=r(65141),{Gif:n,GifError:a}=r(73024);function s(){let t=r(88072);return s=function(){return t},t}let{GifFrame:o}=r(56930),l=200,h=100;class u{constructor(t={}){this._transparentRGB=null,"number"==typeof t.transparentRGB&&0!==t.transparentRGB&&(this._transparentRGBA=256*t.transparentRGB),this._testInitialBufferSize=0}decodeGif(t){try{let e;try{e=new i.GifReader(t)}catch(t){throw new a(t)}let r=e.numFrames(),s=[],o={width:e.width,height:e.height,loops:e.loopCount()};o.usesTransparency=!1;for(let t=0;t<r;++t){let r=this._decodeFrame(e,t,o.usesTransparency);s.push(r.frame),r.usesTransparency&&(o.usesTransparency=!0)}return Promise.resolve(new n(t,s,o))}catch(t){return Promise.reject(t)}}encodeGif(t,e={}){try{if(null===t||0===t.length)throw new a("there are no frames");let r=s().getMaxDimensions(t);return(e=Object.assign({},e)).width=r.maxWidth,e.height=r.maxHeight,e.loops=e.loops||0,e.colorScope=e.colorScope||n.GlobalColorsPreferred,Promise.resolve(this._encodeGif(t,e))}catch(t){return Promise.reject(t)}}_decodeFrame(t,e,r){let i,n;try{if(i=t.frameInfo(e),n=new Buffer(t.width*t.height*4),t.decodeAndBlitFrameRGBA(e,n),i.width!==t.width||i.height!==t.height){if(i.y&&(n=n.slice(i.y*t.width*4)),t.width>i.width)for(let e=0;e<i.height;++e)n.copy(n,e*i.width*4,(i.x+e*t.width)*4,(i.x+e*t.width)*4+4*i.width);n=n.slice(0,i.width*i.height*4)}}catch(t){throw new a(t)}let s=!1;if(null===this._transparentRGBA){if(!r)for(let t=3;t<n.length;t+=4)0===n[t]&&(s=!0,t=n.length)}else for(let t=3;t<n.length;t+=4)0===n[t]&&(n.writeUInt32BE(this._transparentRGBA,t-3),s=!0);return{frame:new o(i.width,i.height,n,{xOffset:i.x,yOffset:i.y,disposalMethod:i.disposal,interlaced:i.interlaced,delayCentisecs:i.delay}),usesTransparency:s}}_encodeGif(t,e){let r;if(e.colorScope===n.LocalColorsOnly)r=s().getColorInfo(t,0);else if(!(r=s().getColorInfo(t,256)).colors){if(e.colorScope===n.GlobalColorsOnly)throw new a("Too many color indexes for global color table");e.colorScope=n.LocalColorsOnly}e.usesTransparency=r.usesTransparency;let i=r.palettes;return e.colorScope===n.LocalColorsOnly?p(t,e,2e3,i):d(t,e,2e3,r)}_getSizeEstimateGlobal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=l+768,i=b(t);return e.forEach(t=>{r+=g(t,i)}),r}_getSizeEstimateLocal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=l;for(let i=0;i<e.length;++i){let n=b(t[i]);r+=g(e[i],n)}return r}}function f(t,e){let r=t.indexOf(e);return -1===r?null:r}function c(t,e){for(var r,i=0,n=t.length-1;i<=n;)if(t[r=Math.floor((i+n)/2)]>e)n=r-1;else{if(!(t[r]<e))return r;i=r+1}return null}function d(t,e,r,s){let o;let l={colors:s.colors.slice(),usesTransparency:s.usesTransparency};m(l);let h={palette:l.colors,loop:e.loops},u=new Buffer(r);try{o=new i.GifWriter(u,e.width,e.height,h)}catch(t){throw new a(t)}for(let e=0;e<t.length;++e)u=_(o,e,t[e],s,!1);return new n(u.slice(0,o.end()),t,e)}function p(t,e,r,s){let o;let l={loop:e.loops},h=new Buffer(r);try{o=new i.GifWriter(h,e.width,e.height,l)}catch(t){throw new a(t)}for(let e=0;e<t.length;++e)h=_(o,e,t[e],s[e],!0);return new n(h.slice(0,o.end()),t,e)}function m(t){let e=t.colors;t.usesTransparency&&e.push(0);let r=e.length,i=2;for(;r>i;)i<<=1;e.length=i,e.fill(0,r)}function g(t,e){let r=t.bitmap.width*t.bitmap.height;return r=Math.ceil(r*e/8),h+(r+=Math.ceil(r/255))+768}function v(t,e,r){let i=r.colors,n=i.length<=8?f:c,s=e.bitmap.data,o=new Buffer(s.length/4),l=i.length,h=0,u=0;for(;h<s.length;){if(0!==s[h+3]){let t=s.readUInt32BE(h,!0)>>8&16777215;o[u]=n(i,t)}else o[u]=l;h+=4,++u}if(r.usesTransparency){if(256===l)throw new a(`Frame ${t} already has 256 colorsand so can't use transparency`)}else l=null;return{buffer:o,transparentIndex:l}}function b(t){let e=t.indexCount,r=0;for(--e;e;)++r,e>>=1;return r>0?r:1}function _(t,e,r,i,n){if(r.interlaced)throw new a("writing interlaced GIFs is not supported");let s=v(e,r,i),o={delay:r.delayCentisecs,disposal:r.disposalMethod,transparent:s.transparentIndex};n&&(m(i),o.palette=i.colors);try{let e,i=t.getOutputBuffer(),n=t.getOutputBufferPosition(),a=!0;for(;a;)if(e=t.addFrame(r.xOffset,r.yOffset,r.bitmap.width,r.bitmap.height,s.buffer,o),a=!1,e>=i.length-1){let e=new Buffer(1.5*i.length);i.copy(e),t.setOutputBuffer(e),t.setOutputBufferPosition(n),i=e,a=!0}return i}catch(t){throw new a(t)}}e.GifCodec=u},56930:(t,e,r)=>{"use strict";let i=r(21554),{GifError:n}=r(73024);class a extends i{constructor(...t){if(super(...t),t[0]instanceof a){let e=t[0];this.xOffset=e.xOffset,this.yOffset=e.yOffset,this.disposalMethod=e.disposalMethod,this.delayCentisecs=e.delayCentisecs,this.interlaced=e.interlaced}else{let e=t[t.length-1],r={};"object"!=typeof e||e instanceof i||(r=e),this.xOffset=r.xOffset||0,this.yOffset=r.yOffset||0,this.disposalMethod=void 0!==r.disposalMethod?r.disposalMethod:a.DisposeToBackgroundColor,this.delayCentisecs=r.delayCentisecs||8,this.interlaced=r.interlaced||!1}}getPalette(){let t=new Set,e=this.bitmap.data,r=0,i=!1;for(;r<e.length;){if(0===e[r+3])i=!0;else{let i=e.readUInt32BE(r,!0)>>8&16777215;t.add(i)}r+=4}let n=Array(t.size),a=t.values();for(r=0;r<n.length;++r)n[r]=a.next().value;n.sort((t,e)=>t-e);let s=n.length;return i&&++s,{colors:n,usesTransparency:i,indexCount:s}}}a.DisposeToAnything=0,a.DisposeNothing=1,a.DisposeToBackgroundColor=2,a.DisposeToPrevious=3,e.GifFrame=a},88072:(t,e,r)=>{"use strict";let i=r(57147),n=r(2645),a=r(21554),{GifFrame:s}=r(56930),{GifError:o}=r(73024),{GifCodec:l}=r(61872),h=[".jpg",".jpeg",".png",".bmp"],u=new l;function f(t,e,r,i,a){let s;let o=Array.isArray(t)?t:[t],l=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(a){if(0>l.indexOf(a.ditherAlgorithm))throw Error(`Invalid ditherAlgorithm '${a.ditherAlgorithm}'`);void 0===a.serpentine&&(a.serpentine=!0),void 0===a.minimumColorDistanceToDither&&(a.minimumColorDistanceToDither=0),void 0===a.calculateErrorLikeGIMP&&(a.calculateErrorLikeGIMP=!1)}let h=new n.distance.Euclidean,u=new n.palette[e](h,r,i);s=a?new n.image.ErrorDiffusionArray(h,n.image.ErrorDiffusionArrayKernel[a.ditherAlgorithm],a.serpentine,a.minimumColorDistanceToDither,a.calculateErrorLikeGIMP):new n.image.NearestColor(h);let f=[];o.forEach(t=>{let e=t.bitmap.data,r=new Uint32Array(new ArrayBuffer(e.length));for(let t=0,i=0;t<e.length;t+=4,++i)r[i]=e.readUInt32LE(t,!0);let i=n.utils.PointContainer.fromUint32Array(r,t.bitmap.width,t.bitmap.height);u.sample(i),f.push(i)});let c=u.quantizeSync();for(let t=0;t<o.length;++t){let e=o[t].bitmap.data,r=s.quantizeSync(f[t],c).toUint32Array();for(let t=0,i=0;t<e.length;t+=4,++i)e.writeUInt32LE(r[i],t)}}function c(t){return new Promise((e,r)=>{i.readFile(t,(t,i)=>t?r(t):e(i))})}function d(t,e){return new Promise((r,n)=>{i.writeFile(t,e,t=>t?n(t):r())})}e.cloneFrames=function(t){let e=[];return t.forEach(t=>{e.push(new s(t))}),e},e.getColorInfo=function(t,e){let r=!1,i=[];for(let e=0;e<t.length;++e){let n=t[e].getPalette();if(n.usesTransparency&&(r=!0),n.indexCount>256)throw new o(`Frame ${e} uses more than 256 color indexes`);i.push(n)}if(0===e)return{usesTransparency:r,palettes:i};let n=new Set;i.forEach(t=>{t.colors.forEach(t=>{n.add(t)})});let a=n.size;if(r&&++a,e&&a>e)return{usesTransparency:r,palettes:i};let s=Array(n.size),l=n.values();for(let t=0;t<s.length;++t)s[t]=l.next().value;return s.sort((t,e)=>t-e),{colors:s,indexCount:a,usesTransparency:r,palettes:i}},e.copyAsJimp=function(t,r){return e.shareAsJimp(t,new a(r))},e.getMaxDimensions=function(t){let e=0,r=0;return t.forEach(t=>{let i=t.xOffset+t.bitmap.width;i>e&&(e=i);let n=t.yOffset+t.bitmap.height;n>r&&(r=n)}),{maxWidth:e,maxHeight:r}},e.quantizeDekker=function(t,e,r){f(t,"NeuQuantFloat",e=e||256,0,r)},e.quantizeSorokin=function(t,e,r,i){let n;switch(e=e||256,r=r||"min-pop"){case"min-pop":n=2;break;case"top-pop":n=1;break;default:throw Error(`Invalid quantizeSorokin histogram '${r}'`)}f(t,"RGBQuant",e,n,i)},e.quantizeWu=function(t,e,r,i){if(e=e||256,(r=r||5)<1||r>8)throw Error("Invalid quantization quality");f(t,"WuQuant",e,r,i)},e.read=function(t,e){return(e=e||u,Buffer.isBuffer(t))?e.decodeGif(t):c(t).then(t=>e.decodeGif(t))},e.shareAsJimp=function(t,e){let r=new t(e.bitmap.width,e.bitmap.height,0);return r.bitmap.data=e.bitmap.data,r},e.write=function(t,e,r,i){i=i||u;let n=t.match(/\.[a-zA-Z]+$/);if(null!==n&&h.includes(n[0].toLowerCase()))throw Error(`GIF '${t}' has an unexpected suffix`);return i.encodeGif(e,r).then(e=>d(t,e.buffer).then(()=>e))}},5071:(t,e,r)=>{"use strict";let i=r(21554),{Gif:n,GifError:a}=r(73024),{GifCodec:s}=r(61872),{GifFrame:o}=r(56930),l=r(88072);t.exports={BitmapImage:i,Gif:n,GifCodec:s,GifFrame:o,GifUtil:l,GifError:a}},62655:(t,e)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */e.read=function(t,e,r,i,n){var a,s,o=8*n-i-1,l=(1<<o)-1,h=l>>1,u=-7,f=r?n-1:0,c=r?-1:1,d=t[e+f];for(f+=c,a=d&(1<<-u)-1,d>>=-u,u+=o;u>0;a=256*a+t[e+f],f+=c,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=i;u>0;s=256*s+t[e+f],f+=c,u-=8);if(0===a)a=1-h;else{if(a===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),a-=h}return(d?-1:1)*s*Math.pow(2,a-i)},e.write=function(t,e,r,i,n,a){var s,o,l,h=8*a-n-1,u=(1<<h)-1,f=u>>1,c=23===n?5960464477539062e-23:0,d=i?0:a-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?e+=c/l:e+=c*Math.pow(2,1-f),e*l>=2&&(s++,l/=2),s+f>=u?(o=0,s=u):s+f>=1?(o=(e*l-1)*Math.pow(2,n),s+=f):(o=e*Math.pow(2,f-1)*Math.pow(2,n),s=0));n>=8;t[r+d]=255&o,d+=p,o/=256,n-=8);for(s=s<<n|o,h+=n;h>0;t[r+d]=255&s,d+=p,s/=256,h-=8);t[r+d-p]|=128*m}},83347:(t,e,r)=>{var i=r(91706),n=r(2699);t.exports={encode:i,decode:n}},2699:t=>{var e=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,i=3406,n=2276,a=1567,s=3784,o=5793,l=2896;function h(){}function u(t,e){for(var r,i,n=0,a=[],s=16;s>0&&!t[s-1];)s--;a.push({children:[],index:0});var o,l=a[0];for(r=0;r<s;r++){for(i=0;i<t[r];i++){for((l=a.pop()).children[l.index]=e[n];l.index>0;){if(0===a.length)throw Error("Could not recreate Huffman Table");l=a.pop()}for(l.index++,a.push(l);a.length<=r;)a.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o;n++}r+1<s&&(a.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o)}return a[0].children}function f(e,r,i,n,a,s,o,l,h,u){i.precision,i.samplesPerLine,i.scanLines;var f,c,d,p=i.mcusPerLine,m=i.progressive;i.maxH,i.maxV;var g=r,v=0,b=0;function _(){if(b>0)return b--,v>>b&1;if(255==(v=e[r++])){var t=e[r++];if(t)throw Error("unexpected marker: "+(v<<8|t).toString(16))}return b=7,v>>>7}function y(t){for(var e,r=t;null!==(e=_());){if("number"==typeof(r=r[e]))return r;if("object"!=typeof r)throw Error("invalid huffman sequence")}return null}function w(t){for(var e=0;t>0;){var r=_();if(null===r)return;e=e<<1|r,t--}return e}function x(t){var e=w(t);return e>=1<<t-1?e:e+(-1<<t)+1}function M(e,r){var i=y(e.huffmanTableDC),n=0===i?0:x(i);r[0]=e.pred+=n;for(var a=1;a<64;){var s=y(e.huffmanTableAC),o=15&s,l=s>>4;if(0===o){if(l<15)break;a+=16;continue}r[t[a+=l]]=x(o),a++}}function S(t,e){var r=y(t.huffmanTableDC),i=0===r?0:x(r)<<h;e[0]=t.pred+=i}function E(t,e){e[0]|=_()<<h}var P=0;function k(e,r){if(P>0){P--;return}for(var i=s,n=o;i<=n;){var a=y(e.huffmanTableAC),l=15&a,u=a>>4;if(0===l){if(u<15){P=w(u)+(1<<u)-1;break}i+=16;continue}r[t[i+=u]]=x(l)*(1<<h),i++}}var A,T=0;function I(e,r){for(var i=s,n=o,a=0;i<=n;){var l=t[i],u=r[l]<0?-1:1;switch(T){case 0:var f=y(e.huffmanTableAC),c=15&f,a=f>>4;if(0===c)a<15?(P=w(a)+(1<<a),T=4):(a=16,T=1);else{if(1!==c)throw Error("invalid ACn encoding");A=x(c),T=a?2:3}continue;case 1:case 2:r[l]?r[l]+=(_()<<h)*u:0==--a&&(T=2==T?3:0);break;case 3:r[l]?r[l]+=(_()<<h)*u:(r[l]=A<<h,T=0);break;case 4:r[l]&&(r[l]+=(_()<<h)*u)}i++}4===T&&0==--P&&(T=0)}function B(t,e,r,i,n){var a=r/p|0,s=r%p,o=a*t.v+i,l=s*t.h+n;void 0===t.blocks[o]&&u.tolerantDecoding||e(t,t.blocks[o][l])}function C(t,e,r){var i=r/t.blocksPerLine|0,n=r%t.blocksPerLine;void 0===t.blocks[i]&&u.tolerantDecoding||e(t,t.blocks[i][n])}var O=n.length;j=m?0===s?0===l?S:E:0===l?k:I:M;var L,D,R,z,F,j,U,N=0;for(f=1==O?n[0].blocksPerLine*n[0].blocksPerColumn:p*i.mcusPerColumn,a||(a=f);N<f;){for(D=0;D<O;D++)n[D].pred=0;if(P=0,1==O)for(F=0,L=n[0];F<a;F++)C(L,j,N),N++;else for(F=0;F<a;F++){for(D=0;D<O;D++)for(R=0,c=(L=n[D]).h,d=L.v;R<d;R++)for(z=0;z<c;z++)B(L,j,N,R,z);if(++N===f)break}if(N===f)do{if(255===e[r]&&0!==e[r+1])break;r+=1}while(r<e.length-2);if(b=0,(U=e[r]<<8|e[r+1])<65280)throw Error("marker was not found");if(U>=65488&&U<=65495)r+=2;else break}return r-g}function c(t,h){var u,f,c=[],d=h.blocksPerLine,p=h.blocksPerColumn,m=d<<3,v=new Int32Array(64),b=new Uint8Array(64);function _(t,u,f){var c,d,p,m,g,v,b,_,y,w,x=h.quantizationTable,M=f;for(w=0;w<64;w++)M[w]=t[w]*x[w];for(w=0;w<8;++w){var S=8*w;if(0==M[1+S]&&0==M[2+S]&&0==M[3+S]&&0==M[4+S]&&0==M[5+S]&&0==M[6+S]&&0==M[7+S]){y=o*M[0+S]+512>>10,M[0+S]=y,M[1+S]=y,M[2+S]=y,M[3+S]=y,M[4+S]=y,M[5+S]=y,M[6+S]=y,M[7+S]=y;continue}c=o*M[0+S]+128>>8,d=o*M[4+S]+128>>8,p=M[2+S],m=M[6+S],g=l*(M[1+S]-M[7+S])+128>>8,_=l*(M[1+S]+M[7+S])+128>>8,v=M[3+S]<<4,b=M[5+S]<<4,y=c-d+1>>1,c=c+d+1>>1,d=y,y=p*s+m*a+128>>8,p=p*a-m*s+128>>8,m=y,y=g-b+1>>1,g=g+b+1>>1,b=y,y=_+v+1>>1,v=_-v+1>>1,_=y,y=c-m+1>>1,c=c+m+1>>1,m=y,y=d-p+1>>1,d=d+p+1>>1,p=y,y=g*n+_*i+2048>>12,g=g*i-_*n+2048>>12,_=y,y=v*r+b*e+2048>>12,v=v*e-b*r+2048>>12,b=y,M[0+S]=c+_,M[7+S]=c-_,M[1+S]=d+b,M[6+S]=d-b,M[2+S]=p+v,M[5+S]=p-v,M[3+S]=m+g,M[4+S]=m-g}for(w=0;w<8;++w){var E=w;if(0==M[8+E]&&0==M[16+E]&&0==M[24+E]&&0==M[32+E]&&0==M[40+E]&&0==M[48+E]&&0==M[56+E]){y=o*f[w+0]+8192>>14,M[0+E]=y,M[8+E]=y,M[16+E]=y,M[24+E]=y,M[32+E]=y,M[40+E]=y,M[48+E]=y,M[56+E]=y;continue}c=o*M[0+E]+2048>>12,d=o*M[32+E]+2048>>12,p=M[16+E],m=M[48+E],g=l*(M[8+E]-M[56+E])+2048>>12,_=l*(M[8+E]+M[56+E])+2048>>12,v=M[24+E],b=M[40+E],y=c-d+1>>1,c=c+d+1>>1,d=y,y=p*s+m*a+2048>>12,p=p*a-m*s+2048>>12,m=y,y=g-b+1>>1,g=g+b+1>>1,b=y,y=_+v+1>>1,v=_-v+1>>1,_=y,y=c-m+1>>1,c=c+m+1>>1,m=y,y=d-p+1>>1,d=d+p+1>>1,p=y,y=g*n+_*i+2048>>12,g=g*i-_*n+2048>>12,_=y,y=v*r+b*e+2048>>12,v=v*e-b*r+2048>>12,b=y,M[0+E]=c+_,M[56+E]=c-_,M[8+E]=d+b,M[48+E]=d-b,M[16+E]=p+v,M[40+E]=p-v,M[24+E]=m+g,M[32+E]=m-g}for(w=0;w<64;++w){var P=128+(M[w]+8>>4);u[w]=P<0?0:P>255?255:P}}g(m*p*8);for(var y=0;y<p;y++){var w=y<<3;for(u=0;u<8;u++)c.push(new Uint8Array(m));for(var x=0;x<d;x++){_(h.blocks[y][x],b,v);var M=0,S=x<<3;for(f=0;f<8;f++){var E=c[w+f];for(u=0;u<8;u++)E[S+u]=b[M++]}}}return c}function d(t){return t<0?0:t>255?255:t}h.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=(function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}).bind(this),e.send(null)},parse:function(e){var r=1e6*this.opts.maxResolutionInMP,i=0;function n(){var t=e[i]<<8|e[i+1];return i+=2,t}function a(){var t=n(),r=e.subarray(i,i+t-2);return i+=r.length,r}function s(t){var e,r,i=1,n=1;for(r in t.components)t.components.hasOwnProperty(r)&&(i<(e=t.components[r]).h&&(i=e.h),n<e.v&&(n=e.v));var a=Math.ceil(t.samplesPerLine/8/i),s=Math.ceil(t.scanLines/8/n);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];var o=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/i),l=Math.ceil(Math.ceil(t.scanLines/8)*e.v/n),h=a*e.h,u=s*e.v,f=[];g(u*h*256);for(var c=0;c<u;c++){for(var d=[],p=0;p<h;p++)d.push(new Int32Array(64));f.push(d)}e.blocksPerLine=o,e.blocksPerColumn=l,e.blocks=f}t.maxH=i,t.maxV=n,t.mcusPerLine=a,t.mcusPerColumn=s}e.length;var o=null,l=null,h=[],d=[],p=[],m=[],v=n(),b=-1;if(this.comments=[],65496!=v)throw Error("SOI not found");for(v=n();65497!=v;){switch(v){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var _=a();if(65534===v){var y=String.fromCharCode.apply(null,_);this.comments.push(y)}65504===v&&74===_[0]&&70===_[1]&&73===_[2]&&70===_[3]&&0===_[4]&&(o={version:{major:_[5],minor:_[6]},densityUnits:_[7],xDensity:_[8]<<8|_[9],yDensity:_[10]<<8|_[11],thumbWidth:_[12],thumbHeight:_[13],thumbData:_.subarray(14,14+3*_[12]*_[13])}),65505===v&&69===_[0]&&120===_[1]&&105===_[2]&&102===_[3]&&0===_[4]&&(this.exifBuffer=_.subarray(5,_.length)),65518===v&&65===_[0]&&100===_[1]&&111===_[2]&&98===_[3]&&101===_[4]&&0===_[5]&&(l={version:_[6],flags0:_[7]<<8|_[8],flags1:_[9]<<8|_[10],transformCode:_[11]});break;case 65499:for(var w=n()+i-2;i<w;){var x=e[i++];g(256);var M=new Int32Array(64);if(x>>4==0)for(I=0;I<64;I++){var S=t[I];M[S]=e[i++]}else if(x>>4==1)for(I=0;I<64;I++){var S=t[I];M[S]=n()}else throw Error("DQT: invalid table spec");h[15&x]=M}break;case 65472:case 65473:case 65474:n(),(k={}).extended=65473===v,k.progressive=65474===v,k.precision=e[i++],k.scanLines=n(),k.samplesPerLine=n(),k.components={},k.componentsOrder=[];var E=k.scanLines*k.samplesPerLine;if(E>r){var P=Math.ceil((E-r)/1e6);throw Error(`maxResolutionInMP limit exceeded by ${P}MP`)}var k,A,T,I,B,C=e[i++];for(T=0;T<C;T++){B=e[i];var O=e[i+1]>>4,L=15&e[i+1],D=e[i+2];if(O<=0||L<=0)throw Error("Invalid sampling factor, expected values above 0");k.componentsOrder.push(B),k.components[B]={h:O,v:L,quantizationIdx:D},i+=3}s(k),d.push(k);break;case 65476:var R=n();for(T=2;T<R;){var z=e[i++],F=new Uint8Array(16),j=0;for(I=0;I<16;I++,i++)j+=F[I]=e[i];g(16+j);var U=new Uint8Array(j);for(I=0;I<j;I++,i++)U[I]=e[i];T+=17+j,(z>>4==0?m:p)[15&z]=u(F,U)}break;case 65501:n(),A=n();break;case 65500:n(),n();break;case 65498:n();var N,G=e[i++],V=[];for(T=0;T<G;T++){N=k.components[e[i++]];var H=e[i++];N.huffmanTableDC=m[H>>4],N.huffmanTableAC=p[15&H],V.push(N)}var W=e[i++],q=e[i++],Y=e[i++],$=f(e,i,k,V,A,W,q,Y>>4,15&Y,this.opts);i+=$;break;case 65535:255!==e[i]&&i--;break;default:if(255==e[i-3]&&e[i-2]>=192&&e[i-2]<=254){i-=3;break}if(224===v||225==v){if(-1!==b)throw Error(`first unknown JPEG marker at offset ${b.toString(16)}, second unknown JPEG marker ${v.toString(16)} at offset ${(i-1).toString(16)}`);b=i-1;let t=n();if(255===e[i+t-2]){i+=t-2;break}}throw Error("unknown JPEG marker "+v.toString(16))}v=n()}if(1!=d.length)throw Error("only single frame JPEGs supported");for(var T=0;T<d.length;T++){var X=d[T].components;for(var I in X)X[I].quantizationTable=h[X[I].quantizationIdx],delete X[I].quantizationIdx}this.width=k.samplesPerLine,this.height=k.scanLines,this.jfif=o,this.adobe=l,this.components=[];for(var T=0;T<k.componentsOrder.length;T++){var N=k.components[k.componentsOrder[T]];this.components.push({lines:c(k,N),scaleX:N.h/k.maxH,scaleY:N.v/k.maxV})}},getData:function(t,e){var r,i,n,a,s,o,l,h,u,f,c,p,m,v,b,_,y,w,x,M,S,E=this.width/t,P=this.height/e,k=0,A=t*e*this.components.length;g(A);var T=new Uint8Array(A);switch(this.components.length){case 1:for(f=0,r=this.components[0];f<e;f++)for(u=0,s=r.lines[0|f*r.scaleY*P];u<t;u++)c=s[0|u*r.scaleX*E],T[k++]=c;break;case 2:for(f=0,r=this.components[0],i=this.components[1];f<e;f++)for(u=0,s=r.lines[0|f*r.scaleY*P],o=i.lines[0|f*i.scaleY*P];u<t;u++)c=s[0|u*r.scaleX*E],T[k++]=c,c=o[0|u*i.scaleX*E],T[k++]=c;break;case 3:for(S=!0,this.adobe&&this.adobe.transformCode?S=!0:void 0!==this.opts.colorTransform&&(S=!!this.opts.colorTransform),r=this.components[0],i=this.components[1],n=this.components[2],f=0;f<e;f++)for(u=0,s=r.lines[0|f*r.scaleY*P],o=i.lines[0|f*i.scaleY*P],l=n.lines[0|f*n.scaleY*P];u<t;u++)S?(c=s[0|u*r.scaleX*E],p=o[0|u*i.scaleX*E],w=d(c+1.402*((m=l[0|u*n.scaleX*E])-128)),x=d(c-.3441363*(p-128)-.71413636*(m-128)),M=d(c+1.772*(p-128))):(w=s[0|u*r.scaleX*E],x=o[0|u*i.scaleX*E],M=l[0|u*n.scaleX*E]),T[k++]=w,T[k++]=x,T[k++]=M;break;case 4:if(!this.adobe)throw Error("Unsupported color mode (4 components)");for(S=!1,this.adobe&&this.adobe.transformCode?S=!0:void 0!==this.opts.colorTransform&&(S=!!this.opts.colorTransform),r=this.components[0],i=this.components[1],n=this.components[2],a=this.components[3],f=0;f<e;f++)for(u=0,s=r.lines[0|f*r.scaleY*P],o=i.lines[0|f*i.scaleY*P],l=n.lines[0|f*n.scaleY*P],h=a.lines[0|f*a.scaleY*P];u<t;u++)S?(c=s[0|u*r.scaleX*E],p=o[0|u*i.scaleX*E],m=l[0|u*n.scaleX*E],v=h[0|u*a.scaleX*E],b=255-d(c+1.402*(m-128)),_=255-d(c-.3441363*(p-128)-.71413636*(m-128)),y=255-d(c+1.772*(p-128))):(b=s[0|u*r.scaleX*E],_=o[0|u*i.scaleX*E],y=l[0|u*n.scaleX*E],v=h[0|u*a.scaleX*E]),T[k++]=255-b,T[k++]=255-_,T[k++]=255-y,T[k++]=255-v;break;default:throw Error("Unsupported color mode")}return T},copyToImageData:function(t,e){var r,i,n,a,s,o,l,h,u,f=t.width,c=t.height,p=t.data,m=this.getData(f,c),g=0,v=0;switch(this.components.length){case 1:for(u=0;u<c;u++)for(h=0;h<f;h++)r=m[g++],p[v++]=r,p[v++]=r,p[v++]=r,e&&(p[v++]=255);break;case 3:for(u=0;u<c;u++)for(h=0;h<f;h++)s=m[g++],o=m[g++],l=m[g++],p[v++]=s,p[v++]=o,p[v++]=l,e&&(p[v++]=255);break;case 4:for(u=0;u<c;u++)for(h=0;h<f;h++)n=m[g++],a=m[g++],r=m[g++],s=255-d(n*(1-(i=m[g++])/255)+i),o=255-d(a*(1-i/255)+i),l=255-d(r*(1-i/255)+i),p[v++]=s,p[v++]=o,p[v++]=l,e&&(p[v++]=255);break;default:throw Error("Unsupported color mode")}}};var p=0,m=0;function g(t=0){var e=p+t;if(e>m){var r=Math.ceil((e-m)/1024/1024);throw Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}p=e}return h.resetMaxMemoryUsage=function(t){p=0,m=t},h.getBytesAllocated=function(){return p},h.requestMemoryAllocation=g,h}();function r(t,r={}){var i={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...r},n=new Uint8Array(t),a=new e;a.opts=i,e.resetMaxMemoryUsage(1048576*i.maxMemoryUsageInMB),a.parse(n);var s=i.formatAsRGBA?4:3,o=a.width*a.height*s;try{e.requestMemoryAllocation(o);var l={width:a.width,height:a.height,exifBuffer:a.exifBuffer,data:i.useTArray?new Uint8Array(o):Buffer.alloc(o)};a.comments.length>0&&(l.comments=a.comments)}catch(t){if(t instanceof RangeError)throw Error("Could not allocate enough memory for the image. Required: "+o);if(t instanceof ReferenceError&&"Buffer is not defined"===t.message)throw Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw t}return a.copyToImageData(l,i.formatAsRGBA),l}t.exports=r},91706:t=>{function e(t){var e,r,i,n,a,s=Math.floor,o=Array(64),l=Array(64),h=Array(64),u=Array(64),f=Array(65535),c=Array(65535),d=Array(64),p=Array(64),m=[],g=0,v=7,b=Array(64),_=Array(64),y=Array(64),w=Array(256),x=Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],B=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function C(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var i=s((e[r]*t+50)/100);i<1?i=1:i>255&&(i=255),o[M[r]]=i}for(var n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var f=s((n[a]*t+50)/100);f<1?f=1:f>255&&(f=255),l[M[a]]=f}for(var c=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)h[d]=1/(o[M[d]]*c[p]*c[m]*8),u[d]=1/(l[M[d]]*c[p]*c[m]*8),d++}function O(t,e){for(var r=0,i=0,n=[],a=1;a<=16;a++){for(var s=1;s<=t[a];s++)n[e[i]]=[],n[e[i]][0]=r,n[e[i]][1]=a,i++,r++;r*=2}return n}function L(){e=O(S,E),r=O(A,T),i=O(P,k),n=O(I,B)}function D(){for(var t=1,e=2,r=1;r<=15;r++){for(var i=t;i<e;i++)c[32767+i]=r,f[32767+i]=[],f[32767+i][1]=r,f[32767+i][0]=i;for(var n=-(e-1);n<=-t;n++)c[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=e-1+n;t<<=1,e<<=1}}function R(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}function z(t){for(var e=t[0],r=t[1]-1;r>=0;)e&1<<r&&(g|=1<<v),r--,--v<0&&(255==g?(F(255),F(0)):F(g),v=7,g=0)}function F(t){m.push(t)}function j(t){F(t>>8&255),F(255&t)}function U(t,e){var r,i,n,a,s,o,l,h,u,f,c=0,p=8,m=64;for(u=0;u<p;++u){r=t[c],i=t[c+1],n=t[c+2],a=t[c+3],s=t[c+4],o=t[c+5],l=t[c+6];var g=r+(h=t[c+7]),v=r-h,b=i+l,_=i-l,y=n+o,w=n-o,x=a+s,M=a-s,S=g+x,E=g-x,P=b+y,k=b-y;t[c]=S+P,t[c+4]=S-P;var A=(k+E)*.707106781;t[c+2]=E+A,t[c+6]=E-A,S=M+w,P=w+_;var T=(S-(k=_+v))*.382683433,I=.5411961*S+T,B=1.306562965*k+T,C=.707106781*P,O=v+C,L=v-C;t[c+5]=L+I,t[c+3]=L-I,t[c+1]=O+B,t[c+7]=O-B,c+=8}for(u=0,c=0;u<p;++u){r=t[c],i=t[c+8],n=t[c+16],a=t[c+24],s=t[c+32],o=t[c+40],l=t[c+48];var D=r+(h=t[c+56]),R=r-h,z=i+l,F=i-l,j=n+o,U=n-o,N=a+s,G=a-s,V=D+N,H=D-N,W=z+j,q=z-j;t[c]=V+W,t[c+32]=V-W;var Y=(q+H)*.707106781;t[c+16]=H+Y,t[c+48]=H-Y,V=G+U,W=U+F;var $=(V-(q=F+R))*.382683433,X=.5411961*V+$,Z=1.306562965*q+$,J=.707106781*W,K=R+J,Q=R-J;t[c+40]=Q+X,t[c+24]=Q-X,t[c+8]=K+Z,t[c+56]=K-Z,c++}for(u=0;u<m;++u)f=t[u]*e[u],d[u]=f>0?f+.5|0:f-.5|0;return d}function N(){j(65504),j(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),j(1),j(1),F(0),F(0)}function G(t){if(t){j(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?j(t.length+2):(j(t.length+5+2),F(69),F(120),F(105),F(102),F(0));for(var e=0;e<t.length;e++)F(t[e])}}function V(t,e){j(65472),j(17),F(8),j(e),j(t),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}function H(){j(65499),j(132),F(0);for(var t=0;t<64;t++)F(o[t]);F(1);for(var e=0;e<64;e++)F(l[e])}function W(){j(65476),j(418),F(0);for(var t=0;t<16;t++)F(S[t+1]);for(var e=0;e<=11;e++)F(E[e]);F(16);for(var r=0;r<16;r++)F(P[r+1]);for(var i=0;i<=161;i++)F(k[i]);F(1);for(var n=0;n<16;n++)F(A[n+1]);for(var a=0;a<=11;a++)F(T[a]);F(17);for(var s=0;s<16;s++)F(I[s+1]);for(var o=0;o<=161;o++)F(B[o])}function q(t){void 0!==t&&t.constructor===Array&&t.forEach(t=>{if("string"==typeof t){j(65534);var e,r=t.length;for(j(r+2),e=0;e<r;e++)F(t.charCodeAt(e))}})}function Y(){j(65498),j(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0)}function $(t,e,r,i,n){for(var a,s,o=n[0],l=n[240],h=16,u=63,d=64,m=U(t,e),g=0;g<d;++g)p[M[g]]=m[g];var v=p[0]-r;r=p[0],0==v?z(i[0]):(z(i[c[a=32767+v]]),z(f[a]));for(var b=63;b>0&&0==p[b];b--);if(0==b)return z(o),r;for(var _=1;_<=b;){for(var y=_;0==p[_]&&_<=b;++_);var w=_-y;if(w>=h){s=w>>4;for(var x=1;x<=s;++x)z(l);w&=15}z(n[(w<<4)+c[a=32767+p[_]]]),z(f[a]),_++}return b!=u&&z(o),r}function X(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}function Z(t){if(t<=0&&(t=1),t>100&&(t=100),a!=t){var e=0;e=t<50?Math.floor(5e3/t):Math.floor(200-2*t),C(e),a=t}}this.encode=function(t,a){new Date().getTime(),a&&Z(a),m=[],g=0,v=7,j(65496),N(),q(t.comments),G(t.exifBuffer),H(),V(t.width,t.height),W(),Y();var s=0,o=0,l=0;g=0,v=7,this.encode.displayName="_encode_";for(var f,c,d,p,w,M,S,E,P,k=t.data,A=t.width,T=t.height,I=4*A,B=0;B<T;){for(P=0;P<I;){for(E=0,w=p=I*B+P,M=-1,S=0;E<64;E++)w=p+(S=E>>3)*I+(M=(7&E)*4),B+S>=T&&(w-=I*(B+1+S-T)),P+M>=I&&(w-=P+M-I+4),f=k[w++],c=k[w++],d=k[w++],b[E]=(x[f]+x[c+256>>0]+x[d+512>>0]>>16)-128,_[E]=(x[f+768>>0]+x[c+1024>>0]+x[d+1280>>0]>>16)-128,y[E]=(x[f+1280>>0]+x[c+1536>>0]+x[d+1792>>0]>>16)-128;s=$(b,h,s,e,i),o=$(_,u,o,r,n),l=$(y,u,l,r,n),P+=32}B+=8}if(v>=0){var C=[];C[1]=v+1,C[0]=(1<<v+1)-1,z(C)}return j(65497),Buffer.from(m)},function(){new Date().getTime(),t||(t=50),X(),L(),D(),R(),Z(t),new Date().getTime()}()}function r(t,r){return void 0===r&&(r=50),{data:new e(r).encode(t,r),width:t.width,height:t.height}}t.exports=r},44654:(t,e,r)=>{var i=r(7017)(r(39288),"DataView");t.exports=i},27513:(t,e,r)=>{var i=r(7392),n=r(29247),a=r(84190),s=r(66193),o=r(66681);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,t.exports=l},58148:(t,e,r)=>{var i=r(31797),n=r(82142),a=r(83226),s=r(84001),o=r(31127);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,t.exports=l},67926:(t,e,r)=>{var i=r(7017)(r(39288),"Map");t.exports=i},30095:(t,e,r)=>{var i=r(86487),n=r(93976),a=r(91053),s=r(29941),o=r(70144);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,t.exports=l},9186:(t,e,r)=>{var i=r(7017)(r(39288),"Promise");t.exports=i},39746:(t,e,r)=>{var i=r(7017)(r(39288),"Set");t.exports=i},43484:(t,e,r)=>{var i=r(30095),n=r(51793),a=r(59191);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new i;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=n,s.prototype.has=a,t.exports=s},82006:(t,e,r)=>{var i=r(58148),n=r(82795),a=r(9113),s=r(80934),o=r(68732),l=r(5525);function h(t){var e=this.__data__=new i(t);this.size=e.size}h.prototype.clear=n,h.prototype.delete=a,h.prototype.get=s,h.prototype.has=o,h.prototype.set=l,t.exports=h},76245:(t,e,r)=>{var i=r(39288).Symbol;t.exports=i},89377:(t,e,r)=>{var i=r(39288).Uint8Array;t.exports=i},35803:(t,e,r)=>{var i=r(7017)(r(39288),"WeakMap");t.exports=i},39137:t=>{function e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}t.exports=e},98821:t=>{function e(t,e){for(var r=-1,i=null==t?0:t.length;++r<i&&!1!==e(t[r],r,t););return t}t.exports=e},17536:t=>{function e(t,e){for(var r=-1,i=null==t?0:t.length,n=0,a=[];++r<i;){var s=t[r];e(s,r,t)&&(a[n++]=s)}return a}t.exports=e},77133:(t,e,r)=>{var i=r(84643),n=r(46148),a=r(32966),s=r(10750),o=r(19699),l=r(42191),h=Object.prototype.hasOwnProperty;function u(t,e){var r=a(t),u=!r&&n(t),f=!r&&!u&&s(t),c=!r&&!u&&!f&&l(t),d=r||u||f||c,p=d?i(t.length,String):[],m=p.length;for(var g in t)(e||h.call(t,g))&&!(d&&("length"==g||f&&("offset"==g||"parent"==g)||c&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m)))&&p.push(g);return p}t.exports=u},29738:t=>{function e(t,e){for(var r=-1,i=null==t?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}t.exports=e},18939:t=>{function e(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}t.exports=e},83057:t=>{function e(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}t.exports=e},29126:(t,e,r)=>{var i=r(15216),n=r(64111),a=Object.prototype.hasOwnProperty;function s(t,e,r){var s=t[e];a.call(t,e)&&n(s,r)&&(void 0!==r||e in t)||i(t,e,r)}t.exports=s},33646:(t,e,r)=>{var i=r(64111);function n(t,e){for(var r=t.length;r--;)if(i(t[r][0],e))return r;return -1}t.exports=n},794:(t,e,r)=>{var i=r(44295),n=r(85865);function a(t,e){return t&&i(e,n(e),t)}t.exports=a},34633:(t,e,r)=>{var i=r(44295),n=r(58698);function a(t,e){return t&&i(e,n(e),t)}t.exports=a},15216:(t,e,r)=>{var i=r(99e3);function n(t,e,r){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}t.exports=n},75424:(t,e,r)=>{var i=r(82006),n=r(98821),a=r(29126),s=r(794),o=r(34633),l=r(70892),h=r(11160),u=r(23256),f=r(16591),c=r(67),d=r(68340),p=r(74963),m=r(80834),g=r(1679),v=r(71814),b=r(32966),_=r(10750),y=r(18674),w=r(62880),x=r(35531),M=r(85865),S=r(58698),E=1,P=2,k=4,A="[object Arguments]",T="[object Array]",I="[object Boolean]",B="[object Date]",C="[object Error]",O="[object Function]",L="[object GeneratorFunction]",D="[object Map]",R="[object Number]",z="[object Object]",F="[object RegExp]",j="[object Set]",U="[object String]",N="[object Symbol]",G="[object WeakMap]",V="[object ArrayBuffer]",H="[object DataView]",W="[object Float32Array]",q="[object Float64Array]",Y="[object Int8Array]",$="[object Int16Array]",X="[object Int32Array]",Z="[object Uint8Array]",J="[object Uint8ClampedArray]",K="[object Uint16Array]",Q="[object Uint32Array]",tt={};function te(t,e,r,T,I,B){var C,D=e&E,R=e&P,F=e&k;if(r&&(C=I?r(t,T,I,B):r(t)),void 0!==C)return C;if(!w(t))return t;var j=b(t);if(j){if(C=m(t),!D)return h(t,C)}else{var U=p(t),N=U==O||U==L;if(_(t))return l(t,D);if(U==z||U==A||N&&!I){if(C=R||N?{}:v(t),!D)return R?f(t,o(C,t)):u(t,s(C,t))}else{if(!tt[U])return I?t:{};C=g(t,U,D)}}B||(B=new i);var G=B.get(t);if(G)return G;B.set(t,C),x(t)?t.forEach(function(i){C.add(te(i,e,r,i,t,B))}):y(t)&&t.forEach(function(i,n){C.set(n,te(i,e,r,n,t,B))});var V=F?R?d:c:R?S:M,H=j?void 0:V(t);return n(H||t,function(i,n){H&&(i=t[n=i]),a(C,n,te(i,e,r,n,t,B))}),C}tt[A]=tt[T]=tt[V]=tt[H]=tt[I]=tt[B]=tt[W]=tt[q]=tt[Y]=tt[$]=tt[X]=tt[D]=tt[R]=tt[z]=tt[F]=tt[j]=tt[U]=tt[N]=tt[Z]=tt[J]=tt[K]=tt[Q]=!0,tt[C]=tt[O]=tt[G]=!1,t.exports=te},39016:(t,e,r)=>{var i=r(62880),n=Object.create,a=function(){function t(){}return function(e){if(!i(e))return{};if(n)return n(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=a},57706:(t,e,r)=>{var i=r(59796),n=r(15271)(i);t.exports=n},16868:(t,e,r)=>{var i=r(57706);function n(t,e){var r=[];return i(t,function(t,i,n){e(t,i,n)&&r.push(t)}),r}t.exports=n},67917:(t,e,r)=>{var i=r(13012)();t.exports=i},59796:(t,e,r)=>{var i=r(67917),n=r(85865);function a(t,e){return t&&i(t,e,n)}t.exports=a},57305:(t,e,r)=>{var i=r(80204),n=r(1094);function a(t,e){e=i(e,t);for(var r=0,a=e.length;null!=t&&r<a;)t=t[n(e[r++])];return r&&r==a?t:void 0}t.exports=a},24003:(t,e,r)=>{var i=r(18939),n=r(32966);function a(t,e,r){var a=e(t);return n(t)?a:i(a,r(t))}t.exports=a},1534:(t,e,r)=>{var i=r(76245),n=r(34244),a=r(13390),s="[object Null]",o="[object Undefined]",l=i?i.toStringTag:void 0;function h(t){return null==t?void 0===t?o:s:l&&l in Object(t)?n(t):a(t)}t.exports=h},50045:t=>{function e(t,e){return null!=t&&e in Object(t)}t.exports=e},79574:(t,e,r)=>{var i=r(1534),n=r(91380),a="[object Arguments]";function s(t){return n(t)&&i(t)==a}t.exports=s},88132:(t,e,r)=>{var i=r(80588),n=r(91380);function a(t,e,r,s,o){return t===e||(null!=t&&null!=e&&(n(t)||n(e))?i(t,e,r,s,a,o):t!=t&&e!=e)}t.exports=a},80588:(t,e,r)=>{var i=r(82006),n=r(12317),a=r(99487),s=r(1958),o=r(74963),l=r(32966),h=r(10750),u=r(42191),f=1,c="[object Arguments]",d="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;function g(t,e,r,g,v,b){var _=l(t),y=l(e),w=_?d:o(t),x=y?d:o(e);w=w==c?p:w,x=x==c?p:x;var M=w==p,S=x==p,E=w==x;if(E&&h(t)){if(!h(e))return!1;_=!0,M=!1}if(E&&!M)return b||(b=new i),_||u(t)?n(t,e,r,g,v,b):a(t,e,w,r,g,v,b);if(!(r&f)){var P=M&&m.call(t,"__wrapped__"),k=S&&m.call(e,"__wrapped__");if(P||k){var A=P?t.value():t,T=k?e.value():e;return b||(b=new i),v(A,T,r,g,b)}}return!!E&&(b||(b=new i),s(t,e,r,g,v,b))}t.exports=g},87962:(t,e,r)=>{var i=r(74963),n=r(91380),a="[object Map]";function s(t){return n(t)&&i(t)==a}t.exports=s},7240:(t,e,r)=>{var i=r(82006),n=r(88132),a=1,s=2;function o(t,e,r,o){var l=r.length,h=l,u=!o;if(null==t)return!h;for(t=Object(t);l--;){var f=r[l];if(u&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++l<h;){var c=(f=r[l])[0],d=t[c],p=f[1];if(u&&f[2]){if(void 0===d&&!(c in t))return!1}else{var m=new i;if(o)var g=o(d,p,c,t,e,m);if(!(void 0===g?n(p,d,a|s,o,m):g))return!1}}return!0}t.exports=o},74104:(t,e,r)=>{var i=r(85586),n=r(15621),a=r(62880),s=r(81708),o=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,h=Object.prototype,u=Function.prototype.toString,f=h.hasOwnProperty,c=RegExp("^"+u.call(f).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(t){return!(!a(t)||n(t))&&(i(t)?c:l).test(s(t))}t.exports=d},62923:(t,e,r)=>{var i=r(74963),n=r(91380),a="[object Set]";function s(t){return n(t)&&i(t)==a}t.exports=s},17633:(t,e,r)=>{var i=r(1534),n=r(99002),a=r(91380),s="[object Arguments]",o="[object Array]",l="[object Boolean]",h="[object Date]",u="[object Error]",f="[object Function]",c="[object Map]",d="[object Number]",p="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",b="[object WeakMap]",_="[object ArrayBuffer]",y="[object DataView]",w="[object Float64Array]",x="[object Int8Array]",M="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",T={};function I(t){return a(t)&&n(t.length)&&!!T[i(t)]}T["[object Float32Array]"]=T[w]=T[x]=T[M]=T[S]=T[E]=T[P]=T[k]=T[A]=!0,T[s]=T[o]=T[_]=T[l]=T[y]=T[h]=T[u]=T[f]=T[c]=T[d]=T[p]=T[m]=T[g]=T[v]=T[b]=!1,t.exports=I},44729:(t,e,r)=>{var i=r(71069),n=r(44723),a=r(24576),s=r(32966),o=r(94416);function l(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?n(t[0],t[1]):i(t):o(t)}t.exports=l},54190:(t,e,r)=>{var i=r(83314),n=r(66045),a=Object.prototype.hasOwnProperty;function s(t){if(!i(t))return n(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}t.exports=s},75806:(t,e,r)=>{var i=r(62880),n=r(83314),a=r(22350),s=Object.prototype.hasOwnProperty;function o(t){if(!i(t))return a(t);var e=n(t),r=[];for(var o in t)"constructor"==o&&(e||!s.call(t,o))||r.push(o);return r}t.exports=o},71069:(t,e,r)=>{var i=r(7240),n=r(35906),a=r(17106);function s(t){var e=n(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(r){return r===t||i(r,t,e)}}t.exports=s},44723:(t,e,r)=>{var i=r(88132),n=r(9459),a=r(1433),s=r(76958),o=r(61623),l=r(17106),h=r(1094),u=1,f=2;function c(t,e){return s(t)&&o(e)?l(h(t),e):function(r){var s=n(r,t);return void 0===s&&s===e?a(r,t):i(e,s,u|f)}}t.exports=c},78974:t=>{function e(t){return function(e){return null==e?void 0:e[t]}}t.exports=e},3243:(t,e,r)=>{var i=r(57305);function n(t){return function(e){return i(e,t)}}t.exports=n},44563:(t,e,r)=>{var i=r(24576),n=r(21112),a=r(234);function s(t,e){return a(n(t,e,i),t+"")}t.exports=s},44578:(t,e,r)=>{var i=r(44347),n=r(99e3),a=r(24576),s=n?function(t,e){return n(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:a;t.exports=s},84643:t=>{function e(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}t.exports=e},96115:(t,e,r)=>{var i=r(76245),n=r(29738),a=r(32966),s=r(76871),o=1/0,l=i?i.prototype:void 0,h=l?l.toString:void 0;function u(t){if("string"==typeof t)return t;if(a(t))return n(t,u)+"";if(s(t))return h?h.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}t.exports=u},96291:t=>{function e(t){return function(e){return t(e)}}t.exports=e},5354:t=>{function e(t,e){return t.has(e)}t.exports=e},80204:(t,e,r)=>{var i=r(32966),n=r(76958),a=r(31364),s=r(41029);function o(t,e){return i(t)?t:n(t,e)?[t]:a(s(t))}t.exports=o},8265:(t,e,r)=>{var i=r(89377);function n(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}t.exports=n},70892:(t,e,r)=>{t=r.nmd(t);var i=r(39288),n=e&&!e.nodeType&&e,a=n&&t&&!t.nodeType&&t,s=a&&a.exports===n?i.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(t,e){if(e)return t.slice();var r=t.length,i=o?o(r):new t.constructor(r);return t.copy(i),i}t.exports=l},90465:(t,e,r)=>{var i=r(8265);function n(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}t.exports=n},84879:t=>{var e=/\w*$/;function r(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}t.exports=r},76204:(t,e,r)=>{var i=r(76245),n=i?i.prototype:void 0,a=n?n.valueOf:void 0;function s(t){return a?Object(a.call(t)):{}}t.exports=s},68845:(t,e,r)=>{var i=r(8265);function n(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}t.exports=n},11160:t=>{function e(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}t.exports=e},44295:(t,e,r)=>{var i=r(29126),n=r(15216);function a(t,e,r,a){var s=!r;r||(r={});for(var o=-1,l=e.length;++o<l;){var h=e[o],u=a?a(r[h],t[h],h,r,t):void 0;void 0===u&&(u=t[h]),s?n(r,h,u):i(r,h,u)}return r}t.exports=a},23256:(t,e,r)=>{var i=r(44295),n=r(26102);function a(t,e){return i(t,n(t),e)}t.exports=a},16591:(t,e,r)=>{var i=r(44295),n=r(77980);function a(t,e){return i(t,n(t),e)}t.exports=a},35987:(t,e,r)=>{var i=r(39288)["__core-js_shared__"];t.exports=i},15271:(t,e,r)=>{var i=r(17632);function n(t,e){return function(r,n){if(null==r)return r;if(!i(r))return t(r,n);for(var a=r.length,s=e?a:-1,o=Object(r);(e?s--:++s<a)&&!1!==n(o[s],s,o););return r}}t.exports=n},13012:t=>{function e(t){return function(e,r,i){for(var n=-1,a=Object(e),s=i(e),o=s.length;o--;){var l=s[t?o:++n];if(!1===r(a[l],l,a))break}return e}}t.exports=e},99e3:(t,e,r)=>{var i=r(7017),n=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},12317:(t,e,r)=>{var i=r(43484),n=r(83057),a=r(5354),s=1,o=2;function l(t,e,r,l,h,u){var f=r&s,c=t.length,d=e.length;if(c!=d&&!(f&&d>c))return!1;var p=u.get(t),m=u.get(e);if(p&&m)return p==e&&m==t;var g=-1,v=!0,b=r&o?new i:void 0;for(u.set(t,e),u.set(e,t);++g<c;){var _=t[g],y=e[g];if(l)var w=f?l(y,_,g,e,t,u):l(_,y,g,t,e,u);if(void 0!==w){if(w)continue;v=!1;break}if(b){if(!n(e,function(t,e){if(!a(b,e)&&(_===t||h(_,t,r,l,u)))return b.push(e)})){v=!1;break}}else if(!(_===y||h(_,y,r,l,u))){v=!1;break}}return u.delete(t),u.delete(e),v}t.exports=l},99487:(t,e,r)=>{var i=r(76245),n=r(89377),a=r(64111),s=r(12317),o=r(59616),l=r(78874),h=1,u=2,f="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",_="[object Symbol]",y="[object ArrayBuffer]",w="[object DataView]",x=i?i.prototype:void 0,M=x?x.valueOf:void 0;function S(t,e,r,i,x,S,E){switch(r){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case y:if(t.byteLength!=e.byteLength||!S(new n(t),new n(e)))break;return!0;case f:case c:case m:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case b:return t==e+"";case p:var P=o;case v:var k=i&h;if(P||(P=l),t.size!=e.size&&!k)break;var A=E.get(t);if(A)return A==e;i|=u,E.set(t,e);var T=s(P(t),P(e),i,x,S,E);return E.delete(t),T;case _:if(M)return M.call(t)==M.call(e)}return!1}t.exports=S},1958:(t,e,r)=>{var i=r(67),n=1,a=Object.prototype.hasOwnProperty;function s(t,e,r,s,o,l){var h=r&n,u=i(t),f=u.length;if(f!=i(e).length&&!h)return!1;for(var c=f;c--;){var d=u[c];if(!(h?d in e:a.call(e,d)))return!1}var p=l.get(t),m=l.get(e);if(p&&m)return p==e&&m==t;var g=!0;l.set(t,e),l.set(e,t);for(var v=h;++c<f;){var b=t[d=u[c]],_=e[d];if(s)var y=h?s(_,b,d,e,t,l):s(b,_,d,t,e,l);if(!(void 0===y?b===_||o(b,_,r,s,l):y)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(g=!1)}return l.delete(t),l.delete(e),g}t.exports=s},37611:t=>{var e="object"==typeof global&&global&&global.Object===Object&&global;t.exports=e},67:(t,e,r)=>{var i=r(24003),n=r(26102),a=r(85865);function s(t){return i(t,a,n)}t.exports=s},68340:(t,e,r)=>{var i=r(24003),n=r(77980),a=r(58698);function s(t){return i(t,a,n)}t.exports=s},4326:(t,e,r)=>{var i=r(24587);function n(t,e){var r=t.__data__;return i(e)?r["string"==typeof e?"string":"hash"]:r.map}t.exports=n},35906:(t,e,r)=>{var i=r(61623),n=r(85865);function a(t){for(var e=n(t),r=e.length;r--;){var a=e[r],s=t[a];e[r]=[a,s,i(s)]}return e}t.exports=a},7017:(t,e,r)=>{var i=r(74104),n=r(12751);function a(t,e){var r=n(t,e);return i(r)?r:void 0}t.exports=a},89083:(t,e,r)=>{var i=r(87181)(Object.getPrototypeOf,Object);t.exports=i},34244:(t,e,r)=>{var i=r(76245),n=Object.prototype,a=n.hasOwnProperty,s=n.toString,o=i?i.toStringTag:void 0;function l(t){var e=a.call(t,o),r=t[o];try{t[o]=void 0;var i=!0}catch(t){}var n=s.call(t);return i&&(e?t[o]=r:delete t[o]),n}t.exports=l},26102:(t,e,r)=>{var i=r(17536),n=r(95252),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(t){return null==t?[]:i(s(t=Object(t)),function(e){return a.call(t,e)})}:n;t.exports=o},77980:(t,e,r)=>{var i=r(18939),n=r(89083),a=r(26102),s=r(95252),o=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,a(t)),t=n(t);return e}:s;t.exports=o},74963:(t,e,r)=>{var i=r(44654),n=r(67926),a=r(9186),s=r(39746),o=r(35803),l=r(1534),h=r(81708),u="[object Map]",f="[object Object]",c="[object Promise]",d="[object Set]",p="[object WeakMap]",m="[object DataView]",g=h(i),v=h(n),b=h(a),_=h(s),y=h(o),w=l;(i&&w(new i(new ArrayBuffer(1)))!=m||n&&w(new n)!=u||a&&w(a.resolve())!=c||s&&w(new s)!=d||o&&w(new o)!=p)&&(w=function(t){var e=l(t),r=e==f?t.constructor:void 0,i=r?h(r):"";if(i)switch(i){case g:return m;case v:return u;case b:return c;case _:return d;case y:return p}return e}),t.exports=w},12751:t=>{function e(t,e){return null==t?void 0:t[e]}t.exports=e},23932:(t,e,r)=>{var i=r(80204),n=r(46148),a=r(32966),s=r(19699),o=r(99002),l=r(1094);function h(t,e,r){e=i(e,t);for(var h=-1,u=e.length,f=!1;++h<u;){var c=l(e[h]);if(!(f=null!=t&&r(t,c)))break;t=t[c]}return f||++h!=u?f:!!(u=null==t?0:t.length)&&o(u)&&s(c,u)&&(a(t)||n(t))}t.exports=h},7392:(t,e,r)=>{var i=r(67193);function n(){this.__data__=i?i(null):{},this.size=0}t.exports=n},29247:t=>{function e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=e},84190:(t,e,r)=>{var i=r(67193),n="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;function s(t){var e=this.__data__;if(i){var r=e[t];return r===n?void 0:r}return a.call(e,t)?e[t]:void 0}t.exports=s},66193:(t,e,r)=>{var i=r(67193),n=Object.prototype.hasOwnProperty;function a(t){var e=this.__data__;return i?void 0!==e[t]:n.call(e,t)}t.exports=a},66681:(t,e,r)=>{var i=r(67193),n="__lodash_hash_undefined__";function a(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===e?n:e,this}t.exports=a},80834:t=>{var e=Object.prototype.hasOwnProperty;function r(t){var r=t.length,i=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(i.index=t.index,i.input=t.input),i}t.exports=r},1679:(t,e,r)=>{var i=r(8265),n=r(90465),a=r(84879),s=r(76204),o=r(68845),l="[object Boolean]",h="[object Date]",u="[object Map]",f="[object Number]",c="[object RegExp]",d="[object Set]",p="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",y="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",M="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",P="[object Uint32Array]";function k(t,e,r){var k=t.constructor;switch(e){case g:return i(t);case l:case h:return new k(+t);case v:return n(t,r);case b:case _:case y:case w:case x:case M:case S:case E:case P:return o(t,r);case u:return new k;case f:case p:return new k(t);case c:return a(t);case d:return new k;case m:return s(t)}}t.exports=k},71814:(t,e,r)=>{var i=r(39016),n=r(89083),a=r(83314);function s(t){return"function"!=typeof t.constructor||a(t)?{}:i(n(t))}t.exports=s},19699:t=>{var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(t,i){var n=typeof t;return!!(i=null==i?e:i)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<i}t.exports=i},47760:(t,e,r)=>{var i=r(64111),n=r(17632),a=r(19699),s=r(62880);function o(t,e,r){if(!s(r))return!1;var o=typeof e;return("number"==o?!!(n(r)&&a(e,r.length)):"string"==o&&e in r)&&i(r[e],t)}t.exports=o},76958:(t,e,r)=>{var i=r(32966),n=r(76871),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function o(t,e){if(i(t))return!1;var r=typeof t;return!!("number"==r||"symbol"==r||"boolean"==r||null==t||n(t))||s.test(t)||!a.test(t)||null!=e&&t in Object(e)}t.exports=o},24587:t=>{function e(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=e},15621:(t,e,r)=>{var i=r(35987),n=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function a(t){return!!n&&n in t}t.exports=a},83314:t=>{var e=Object.prototype;function r(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}t.exports=r},61623:(t,e,r)=>{var i=r(62880);function n(t){return t==t&&!i(t)}t.exports=n},31797:t=>{function e(){this.__data__=[],this.size=0}t.exports=e},82142:(t,e,r)=>{var i=r(33646),n=Array.prototype.splice;function a(t){var e=this.__data__,r=i(e,t);return!(r<0)&&(r==e.length-1?e.pop():n.call(e,r,1),--this.size,!0)}t.exports=a},83226:(t,e,r)=>{var i=r(33646);function n(t){var e=this.__data__,r=i(e,t);return r<0?void 0:e[r][1]}t.exports=n},84001:(t,e,r)=>{var i=r(33646);function n(t){return i(this.__data__,t)>-1}t.exports=n},31127:(t,e,r)=>{var i=r(33646);function n(t,e){var r=this.__data__,n=i(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}t.exports=n},86487:(t,e,r)=>{var i=r(27513),n=r(58148),a=r(67926);function s(){this.size=0,this.__data__={hash:new i,map:new(a||n),string:new i}}t.exports=s},93976:(t,e,r)=>{var i=r(4326);function n(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}t.exports=n},91053:(t,e,r)=>{var i=r(4326);function n(t){return i(this,t).get(t)}t.exports=n},29941:(t,e,r)=>{var i=r(4326);function n(t){return i(this,t).has(t)}t.exports=n},70144:(t,e,r)=>{var i=r(4326);function n(t,e){var r=i(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}t.exports=n},59616:t=>{function e(t){var e=-1,r=Array(t.size);return t.forEach(function(t,i){r[++e]=[i,t]}),r}t.exports=e},17106:t=>{function e(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}t.exports=e},85244:(t,e,r)=>{var i=r(97300),n=500;function a(t){var e=i(t,function(t){return r.size===n&&r.clear(),t}),r=e.cache;return e}t.exports=a},67193:(t,e,r)=>{var i=r(7017)(Object,"create");t.exports=i},66045:(t,e,r)=>{var i=r(87181)(Object.keys,Object);t.exports=i},22350:t=>{function e(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}t.exports=e},7553:(t,e,r)=>{t=r.nmd(t);var i=r(37611),n=e&&!e.nodeType&&e,a=n&&t&&!t.nodeType&&t,s=a&&a.exports===n&&i.process,o=function(){try{var t=a&&a.require&&a.require("util").types;if(t)return t;return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=o},13390:t=>{var e=Object.prototype.toString;function r(t){return e.call(t)}t.exports=r},87181:t=>{function e(t,e){return function(r){return t(e(r))}}t.exports=e},21112:(t,e,r)=>{var i=r(39137),n=Math.max;function a(t,e,r){return e=n(void 0===e?t.length-1:e,0),function(){for(var a=arguments,s=-1,o=n(a.length-e,0),l=Array(o);++s<o;)l[s]=a[e+s];s=-1;for(var h=Array(e+1);++s<e;)h[s]=a[s];return h[e]=r(l),i(t,this,h)}}t.exports=a},39288:(t,e,r)=>{var i=r(37611),n="object"==typeof self&&self&&self.Object===Object&&self,a=i||n||Function("return this")();t.exports=a},51793:t=>{var e="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,e),this}t.exports=r},59191:t=>{function e(t){return this.__data__.has(t)}t.exports=e},78874:t=>{function e(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}t.exports=e},234:(t,e,r)=>{var i=r(44578),n=r(72347)(i);t.exports=n},72347:t=>{var e=800,r=16,i=Date.now;function n(t){var n=0,a=0;return function(){var s=i(),o=r-(s-a);if(a=s,o>0){if(++n>=e)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}t.exports=n},82795:(t,e,r)=>{var i=r(58148);function n(){this.__data__=new i,this.size=0}t.exports=n},9113:t=>{function e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}t.exports=e},80934:t=>{function e(t){return this.__data__.get(t)}t.exports=e},68732:t=>{function e(t){return this.__data__.has(t)}t.exports=e},5525:(t,e,r)=>{var i=r(58148),n=r(67926),a=r(30095),s=200;function o(t,e){var r=this.__data__;if(r instanceof i){var o=r.__data__;if(!n||o.length<s-1)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(o)}return r.set(t,e),this.size=r.size,this}t.exports=o},31364:(t,e,r)=>{var i=r(85244),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=i(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(n,function(t,r,i,n){e.push(i?n.replace(a,"$1"):r||t)}),e});t.exports=s},1094:(t,e,r)=>{var i=r(76871),n=1/0;function a(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}t.exports=a},81708:t=>{var e=Function.prototype.toString;function r(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}t.exports=r},85154:(t,e,r)=>{var i=r(75424),n=4;function a(t){return i(t,n)}t.exports=a},44347:t=>{function e(t){return function(){return t}}t.exports=e},87432:(t,e,r)=>{var i=r(44563),n=r(64111),a=r(47760),s=r(58698),o=Object.prototype,l=o.hasOwnProperty,h=i(function(t,e){t=Object(t);var r=-1,i=e.length,h=i>2?e[2]:void 0;for(h&&a(e[0],e[1],h)&&(i=1);++r<i;)for(var u=e[r],f=s(u),c=-1,d=f.length;++c<d;){var p=f[c],m=t[p];(void 0===m||n(m,o[p])&&!l.call(t,p))&&(t[p]=u[p])}return t});t.exports=h},64111:t=>{function e(t,e){return t===e||t!=t&&e!=e}t.exports=e},15961:(t,e,r)=>{var i=r(17536),n=r(16868),a=r(44729),s=r(32966);function o(t,e){return(s(t)?i:n)(t,a(e,3))}t.exports=o},9459:(t,e,r)=>{var i=r(57305);function n(t,e,r){var n=null==t?void 0:i(t,e);return void 0===n?r:n}t.exports=n},1433:(t,e,r)=>{var i=r(50045),n=r(23932);function a(t,e){return null!=t&&n(t,e,i)}t.exports=a},24576:t=>{function e(t){return t}t.exports=e},46148:(t,e,r)=>{var i=r(79574),n=r(91380),a=Object.prototype,s=a.hasOwnProperty,o=a.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return n(t)&&s.call(t,"callee")&&!o.call(t,"callee")};t.exports=l},32966:t=>{var e=Array.isArray;t.exports=e},17632:(t,e,r)=>{var i=r(85586),n=r(99002);function a(t){return null!=t&&n(t.length)&&!i(t)}t.exports=a},10750:(t,e,r)=>{t=r.nmd(t);var i=r(39288),n=r(89531),a=e&&!e.nodeType&&e,s=a&&t&&!t.nodeType&&t,o=s&&s.exports===a?i.Buffer:void 0,l=(o?o.isBuffer:void 0)||n;t.exports=l},85586:(t,e,r)=>{var i=r(1534),n=r(62880),a="[object AsyncFunction]",s="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";function h(t){if(!n(t))return!1;var e=i(t);return e==s||e==o||e==a||e==l}t.exports=h},99002:t=>{var e=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}t.exports=r},18674:(t,e,r)=>{var i=r(87962),n=r(96291),a=r(7553),s=a&&a.isMap,o=s?n(s):i;t.exports=o},62880:t=>{function e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=e},91380:t=>{function e(t){return null!=t&&"object"==typeof t}t.exports=e},35531:(t,e,r)=>{var i=r(62923),n=r(96291),a=r(7553),s=a&&a.isSet,o=s?n(s):i;t.exports=o},76871:(t,e,r)=>{var i=r(1534),n=r(91380),a="[object Symbol]";function s(t){return"symbol"==typeof t||n(t)&&i(t)==a}t.exports=s},42191:(t,e,r)=>{var i=r(17633),n=r(96291),a=r(7553),s=a&&a.isTypedArray,o=s?n(s):i;t.exports=o},85865:(t,e,r)=>{var i=r(77133),n=r(54190),a=r(17632);function s(t){return a(t)?i(t):n(t)}t.exports=s},58698:(t,e,r)=>{var i=r(77133),n=r(75806),a=r(17632);function s(t){return a(t)?i(t,!0):n(t)}t.exports=s},97300:(t,e,r)=>{var i=r(30095),n="Expected a function";function a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw TypeError(n);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var s=t.apply(this,i);return r.cache=a.set(n,s)||a,s};return r.cache=new(a.Cache||i),r}a.Cache=i,t.exports=a},94416:(t,e,r)=>{var i=r(78974),n=r(3243),a=r(76958),s=r(1094);function o(t){return a(t)?i(s(t)):n(t)}t.exports=o},95252:t=>{function e(){return[]}t.exports=e},89531:t=>{function e(){return!1}t.exports=e},41029:(t,e,r)=>{var i=r(96115);function n(t){return null==t?"":i(t)}t.exports=n},78372:(t,e,r)=>{var i=r(71017),n=r(57147),a=parseInt("0777",8);function s(t,e,r,o){"function"==typeof e?(r=e,e={}):e&&"object"==typeof e||(e={mode:e});var l=e.mode,h=e.fs||n;void 0===l&&(l=a),o||(o=null);var u=r||function(){};t=i.resolve(t),h.mkdir(t,l,function(r){if(!r)return u(null,o=o||t);if("ENOENT"===r.code){if(i.dirname(t)===t)return u(r);s(i.dirname(t),e,function(r,i){r?u(r,i):s(t,e,u,i)})}else h.stat(t,function(t,e){t||!e.isDirectory()?u(r,o):u(null,o)})})}t.exports=s.mkdirp=s.mkdirP=s,s.sync=function t(e,r,s){r&&"object"==typeof r||(r={mode:r});var o,l=r.mode,h=r.fs||n;void 0===l&&(l=a),s||(s=null),e=i.resolve(e);try{h.mkdirSync(e,l),s=s||e}catch(n){if("ENOENT"===n.code)s=t(i.dirname(e),r,s),t(e,r,s);else{try{o=h.statSync(e)}catch(t){throw n}if(!o.isDirectory())throw n}}return s}},72413:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(81140)),a=r(85154),s=function(){function t(t,e){void 0===e&&(e={}),this._src=t,this._opts=e,this._opts.filters=a(n.default.DefaultOpts.filters)}return t.prototype.maxColorCount=function(t){return this._opts.colorCount=t,this},t.prototype.maxDimension=function(t){return this._opts.maxDimension=t,this},t.prototype.addFilter=function(t){return this._opts.filters.push(t),this},t.prototype.removeFilter=function(t){var e=this._opts.filters.indexOf(t);return e>0&&this._opts.filters.splice(e),this},t.prototype.clearFilters=function(){return this._opts.filters=[],this},t.prototype.quality=function(t){return this._opts.quality=t,this},t.prototype.useImageClass=function(t){return this._opts.ImageClass=t,this},t.prototype.useGenerator=function(t){return this._opts.generator=t,this},t.prototype.useQuantizer=function(t){return this._opts.quantizer=t,this},t.prototype.build=function(){return new n.default(this._src,this._opts)},t.prototype.getPalette=function(t){return this.build().getPalette(t)},t.prototype.getSwatches=function(t){return this.build().getPalette(t)},t}();e.default=s},37314:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Swatch=void 0;var i=r(72213),n=r(15961),a=function(){function t(t,e){this._rgb=t,this._population=e}return t.applyFilter=function(t,e){return"function"==typeof e?n(t,function(t){return e(t.r,t.g,t.b,255)}):t},Object.defineProperty(t.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){if(!this._hsl){var t=this._rgb,e=t[0],r=t[1],n=t[2];this._hsl=i.rgbToHsl(e,r,n)}return this._hsl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){if(!this._hex){var t=this._rgb,e=t[0],r=t[1],n=t[2];this._hex=i.rgbToHex(e,r,n)}return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"population",{get:function(){return this._population},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},t.prototype.getRgb=function(){return this._rgb},t.prototype.getHsl=function(){return this.hsl},t.prototype.getPopulation=function(){return this._population},t.prototype.getHex=function(){return this.hex},t.prototype.getYiq=function(){if(!this._yiq){var t=this._rgb;this._yiq=(299*t[0]+587*t[1]+114*t[2])/1e3}return this._yiq},Object.defineProperty(t.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=200>this.getYiq()?"#fff":"#000"),this._titleTextColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=150>this.getYiq()?"#fff":"#000"),this._bodyTextColor},enumerable:!1,configurable:!0}),t.prototype.getTitleTextColor=function(){return this.titleTextColor},t.prototype.getBodyTextColor=function(){return this.bodyTextColor},t}();e.Swatch=a},24900:(t,e)=>{"use strict";function r(t,e,r,i){return i>=125&&!(t>250&&e>250&&r>250)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},1525:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineFilters=void 0;var i=r(24900);function n(t){return Array.isArray(t)&&0!==t.length?function(e,r,i,n){if(0===n)return!1;for(var a=0;a<t.length;a++)if(!t[a](e,r,i,n))return!1;return!0}:null}Object.defineProperty(e,"Default",{enumerable:!0,get:function(){return i.default}}),e.combineFilters=n},45105:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(37314),n=r(72213),a=r(87432),s={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function o(t){var e=0;return t.forEach(function(t){e=Math.max(e,t.getPopulation())}),e}function l(t,e){return t.Vibrant===e||t.DarkVibrant===e||t.LightVibrant===e||t.Muted===e||t.DarkMuted===e||t.LightMuted===e}function h(t,e,r,i,n,a,s){function o(t,e){return 1-Math.abs(t-e)}return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,i=0,n=0;n<t.length;n+=2){var a=t[n],s=t[n+1];r+=a*s,i+=s}return r/i}(o(t,e),s.weightSaturation,o(r,i),s.weightLuma,n/a,s.weightPopulation)}function u(t,e,r,i,n,a,s,o,u,f){var c=null,d=0;return e.forEach(function(e){var p=e.getHsl(),m=p[1],g=p[2];if(m>=o&&m<=u&&g>=n&&g<=a&&!l(t,e)){var v=h(m,s,g,i,e.getPopulation(),r,f);(null===c||v>d)&&(c=e,d=v)}}),c}function f(t,e,r){var i={};return i.Vibrant=u(i,t,e,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),i.LightVibrant=u(i,t,e,r.targetLightLuma,r.minLightLuma,1,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),i.DarkVibrant=u(i,t,e,r.targetDarkLuma,0,r.maxDarkLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),i.Muted=u(i,t,e,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),i.LightMuted=u(i,t,e,r.targetLightLuma,r.minLightLuma,1,r.targetMutesSaturation,0,r.maxMutesSaturation,r),i.DarkMuted=u(i,t,e,r.targetDarkLuma,0,r.maxDarkLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),i}function c(t,e,r){if(null===t.Vibrant&&null===t.DarkVibrant&&null===t.LightVibrant){if(null===t.DarkVibrant&&null!==t.DarkMuted){var a=t.DarkMuted.getHsl(),s=a[0],o=a[1],l=a[2];l=r.targetDarkLuma,t.DarkVibrant=new i.Swatch(n.hslToRgb(s,o,l),0)}if(null===t.LightVibrant&&null!==t.LightMuted){var h=t.LightMuted.getHsl(),s=h[0],o=h[1],l=h[2];l=r.targetDarkLuma,t.DarkVibrant=new i.Swatch(n.hslToRgb(s,o,l),0)}}if(null===t.Vibrant&&null!==t.DarkVibrant){var u=t.DarkVibrant.getHsl(),s=u[0],o=u[1],l=u[2];l=r.targetNormalLuma,t.Vibrant=new i.Swatch(n.hslToRgb(s,o,l),0)}else if(null===t.Vibrant&&null!==t.LightVibrant){var f=t.LightVibrant.getHsl(),s=f[0],o=f[1],l=f[2];l=r.targetNormalLuma,t.Vibrant=new i.Swatch(n.hslToRgb(s,o,l),0)}if(null===t.DarkVibrant&&null!==t.Vibrant){var c=t.Vibrant.getHsl(),s=c[0],o=c[1],l=c[2];l=r.targetDarkLuma,t.DarkVibrant=new i.Swatch(n.hslToRgb(s,o,l),0)}if(null===t.LightVibrant&&null!==t.Vibrant){var d=t.Vibrant.getHsl(),s=d[0],o=d[1],l=d[2];l=r.targetLightLuma,t.LightVibrant=new i.Swatch(n.hslToRgb(s,o,l),0)}if(null===t.Muted&&null!==t.Vibrant){var p=t.Vibrant.getHsl(),s=p[0],o=p[1],l=p[2];l=r.targetMutesSaturation,t.Muted=new i.Swatch(n.hslToRgb(s,o,l),0)}if(null===t.DarkMuted&&null!==t.DarkVibrant){var m=t.DarkVibrant.getHsl(),s=m[0],o=m[1],l=m[2];l=r.targetMutesSaturation,t.DarkMuted=new i.Swatch(n.hslToRgb(s,o,l),0)}if(null===t.LightMuted&&null!==t.LightVibrant){var g=t.LightVibrant.getHsl(),s=g[0],o=g[1],l=g[2];l=r.targetMutesSaturation,t.LightMuted=new i.Swatch(n.hslToRgb(s,o,l),0)}}var d=function(t,e){e=a({},e,s);var r=o(t),i=f(t,r,e);return c(i,r,e),i};e.default=d},99614:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(45105);Object.defineProperty(e,"Default",{enumerable:!0,get:function(){return i.default}})},76036:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageBase=void 0;var r=function(){function t(){}return t.prototype.scaleDown=function(t){var e=this.getWidth(),r=this.getHeight(),i=1;if(t.maxDimension>0){var n=Math.max(e,r);n>t.maxDimension&&(i=t.maxDimension/n)}else i=1/t.quality;i<1&&this.resize(e*i,r*i,i)},t.prototype.applyFilter=function(t){var e=this.getImageData();if("function"==typeof t)for(var r=e.data,i=r.length/4,n=void 0,a=void 0,s=void 0,o=void 0,l=void 0,h=0;h<i;h++)a=r[(n=4*h)+0],t(a,s=r[n+1],o=r[n+2],l=r[n+3])||(r[n+3]=0);return Promise.resolve(e)},t}();e.ImageBase=r},90798:function(t,e,r){"use strict";var i=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=r(76036),h=s(r(13685)),u=s(r(95687)),f=o(r(28450)),c=o(r(82282)),d=o(r(35338)),p=f.default({types:[c.default],plugins:[d.default]}),m=/^(\w+):\/\/.*/i,g={http:h,https:u},v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._loadByProtocolHandler=function(t,e){return new Promise(function(r,i){t.get(e,function(t){var e=Buffer.alloc(0);t.on("data",function(t){e=Buffer.concat([e,t])}),t.on("end",function(){return r(e)}),t.on("error",function(t){return i(t)})}).on("error",function(t){return i(t)})})},e.prototype._loadFromPath=function(t){var e=this,r=m.exec(t);if(!r)return this._loadByJimp(t);var i=r[1].toLocaleLowerCase(),n=g[i];return n?this._loadByProtocolHandler(n,t).then(function(t){return e._loadByJimp(t)}):Promise.reject(Error("Unsupported protocol: "+i))},e.prototype._loadByJimp=function(t){var e=this;return p.read(t).then(function(t){return e._image=t,e})},e.prototype.load=function(t){return"string"==typeof t?this._loadFromPath(t):t instanceof Buffer?this._loadByJimp(t):Promise.reject(Error("Cannot load image from HTMLImageElement in node environment"))},e.prototype.clear=function(){},e.prototype.update=function(t){},e.prototype.getWidth=function(){return this._image.bitmap.width},e.prototype.getHeight=function(){return this._image.bitmap.height},e.prototype.resize=function(t,e,r){this._image.resize(t,e)},e.prototype.getPixelCount=function(){var t=this._image.bitmap;return t.width*t.height},e.prototype.getImageData=function(){return this._image.bitmap},e.prototype.remove=function(){},e}(l.ImageBase);e.default=v},19985:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},n=i(r(81140)),a=i(r(90798));n.default.DefaultOpts.ImageClass=a.default,t.exports=n.default},61926:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebWorker=void 0;var i=r(17637);Object.defineProperty(e,"MMCQ",{enumerable:!0,get:function(){return i.default}}),e.WebWorker=null},17637:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(37314),a=i(r(28828)),s=i(r(38548)),o=.75;function l(t,e){for(var r=t.size();t.size()<e;){var i=t.pop();if(i&&i.count()>0){var n=i.split(),a=n[0],s=n[1];if(t.push(a),s&&s.count()>0&&t.push(s),t.size()===r)break;r=t.size()}else break}}var h=function(t,e){if(0===t.length||e.colorCount<2||e.colorCount>256)throw Error("Wrong MMCQ parameters");var r=a.default.build(t);Object.keys(r.hist).length;var i=new s.default(function(t,e){return t.count()-e.count()});i.push(r),l(i,o*e.colorCount);var n=new s.default(function(t,e){return t.count()*t.volume()-e.count()*e.volume()});return n.contents=i.contents,l(n,e.colorCount-n.size()),u(n)};function u(t){for(var e=[];t.size();){var r=t.pop(),i=r.avg();i[0],i[1],i[2],e.push(new n.Swatch(i,r.count()))}return e}e.default=h},38548:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._comparator=t,this.contents=[],this._sorted=!1}return t.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},t.prototype.push=function(t){this.contents.push(t),this._sorted=!1},t.prototype.peek=function(t){return this._sort(),t="number"==typeof t?t:this.contents.length-1,this.contents[t]},t.prototype.pop=function(){return this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this._sort(),this.contents.map(t)},t}();e.default=r},28828:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(72213),n=function(){function t(t,e,r,i,n,a,s){this._volume=-1,this._count=-1,this.dimension={r1:t,r2:e,g1:r,g2:i,b1:n,b2:a},this.hist=s}return t.build=function(e,r){var n,a,s,o,l,h,u,f,c,d=new Uint32Array(1<<3*i.SIGBITS);n=s=l=0,a=o=h=Number.MAX_VALUE;for(var p=e.length/4,m=0;m<p;){var g=4*m;if(m++,u=e[g+0],f=e[g+1],c=e[g+2],0!==e[g+3]){u>>=i.RSHIFT,f>>=i.RSHIFT,c>>=i.RSHIFT;var v=i.getColorIndex(u,f,c);d[v]+=1,u>n&&(n=u),u<a&&(a=u),f>s&&(s=f),f<o&&(o=f),c>l&&(l=c),c<h&&(h=c)}}return new t(a,n,o,s,h,l,d)},t.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},t.prototype.volume=function(){if(this._volume<0){var t=this.dimension,e=t.r1,r=t.r2,i=t.g1,n=t.g2,a=t.b1,s=t.b2;this._volume=(r-e+1)*(n-i+1)*(s-a+1)}return this._volume},t.prototype.count=function(){if(this._count<0){for(var t=this.hist,e=this.dimension,r=e.r1,n=e.r2,a=e.g1,s=e.g2,o=e.b1,l=e.b2,h=0,u=r;u<=n;u++)for(var f=a;f<=s;f++)for(var c=o;c<=l;c++)h+=t[i.getColorIndex(u,f,c)];this._count=h}return this._count},t.prototype.clone=function(){var e=this.hist,r=this.dimension;return new t(r.r1,r.r2,r.g1,r.g2,r.b1,r.b2,e)},t.prototype.avg=function(){if(!this._avg){var t=this.hist,e=this.dimension,r=e.r1,n=e.r2,a=e.g1,s=e.g2,o=e.b1,l=e.b2,h=0,u=1<<8-i.SIGBITS,f=void 0,c=void 0,d=void 0;f=c=d=0;for(var p=r;p<=n;p++)for(var m=a;m<=s;m++)for(var g=o;g<=l;g++){var v=t[i.getColorIndex(p,m,g)];h+=v,f+=v*(p+.5)*u,c+=v*(m+.5)*u,d+=v*(g+.5)*u}h?this._avg=[~~(f/h),~~(c/h),~~(d/h)]:this._avg=[~~(u*(r+n+1)/2),~~(u*(a+s+1)/2),~~(u*(o+l+1)/2)]}return this._avg},t.prototype.contains=function(t){var e=t[0],r=t[1],n=t[2],a=this.dimension,s=a.r1,o=a.r2,l=a.g1,h=a.g2,u=a.b1,f=a.b2;return e>>=i.RSHIFT,r>>=i.RSHIFT,n>>=i.RSHIFT,e>=s&&e<=o&&r>=l&&r<=h&&n>=u&&n<=f},t.prototype.split=function(){var t,e,r=this.hist,n=this.dimension,a=n.r1,s=n.r2,o=n.g1,l=n.g2,h=n.b1,u=n.b2,f=this.count();if(!f)return[];if(1===f)return[this.clone()];var c=s-a+1,d=l-o+1,p=Math.max(c,d,u-h+1),m=null;t=e=0;var g=null;if(p===c){g="r",m=new Uint32Array(s+1);for(var v=a;v<=s;v++){t=0;for(var b=o;b<=l;b++)for(var _=h;_<=u;_++){var y=i.getColorIndex(v,b,_);t+=r[y]}e+=t,m[v]=e}}else if(p===d){g="g",m=new Uint32Array(l+1);for(var b=o;b<=l;b++){t=0;for(var v=a;v<=s;v++)for(var _=h;_<=u;_++){var y=i.getColorIndex(v,b,_);t+=r[y]}e+=t,m[b]=e}}else{g="b",m=new Uint32Array(u+1);for(var _=h;_<=u;_++){t=0;for(var v=a;v<=s;v++)for(var b=o;b<=l;b++){var y=i.getColorIndex(v,b,_);t+=r[y]}e+=t,m[_]=e}}for(var w=-1,x=new Uint32Array(m.length),M=0;M<m.length;M++){var S=m[M];w<0&&S>e/2&&(w=M),x[M]=e-S}var E=this;return function(t){var e=t+"1",r=t+"2",i=E.dimension[e],n=E.dimension[r],a=E.clone(),s=E.clone(),o=w-i,l=n-w;for(o<=l?n=Math.max(0,n=Math.min(n-1,~~(w+l/2))):(n=Math.max(i,~~(w-1-o/2)),n=Math.min(E.dimension[r],n));!m[n];)n++;for(var h=x[n];!h&&m[n-1];)h=x[--n];return a.dimension[r]=n,s.dimension[e]=n+1,[a,s]}(g)},t}();e.default=n},72213:(t,e)=>{"use strict";function r(){var t,e,r=new Promise(function(r,i){t=r,e=i});return{resolve:t,reject:e,promise:r}}function i(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return null===e?null:[e[1],e[2],e[3]].map(function(t){return parseInt(t,16)})}function n(t,e,r){return"#"+(16777216+(t<<16)+(e<<8)+r).toString(16).slice(1,7)}function a(t,e,r){var i,n,a=Math.max(t/=255,e/=255,r/=255),s=Math.min(t,e,r),o=(a+s)/2;if(a===s)i=n=0;else{var l=a-s;switch(n=o>.5?l/(2-a-s):l/(a+s),a){case t:i=(e-r)/l+(e<r?6:0);break;case e:i=(r-t)/l+2;break;case r:i=(t-e)/l+4}i/=6}return[i,n,o]}function s(t,e,r){function i(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(0===e)n=a=s=r;else{var n,a,s,o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;n=i(l,o,t+1/3),a=i(l,o,t),s=i(l,o,t-1/3)}return[255*n,255*a,255*s]}function o(t,e,r){return t/=255,e/=255,r/=255,[.4124*(t=(t>.04045?Math.pow((t+.005)/1.055,2.4):t/12.92)*100)+.3576*(e=(e>.04045?Math.pow((e+.005)/1.055,2.4):e/12.92)*100)+.1805*(r=(r>.04045?Math.pow((r+.005)/1.055,2.4):r/12.92)*100),.2126*t+.7152*e+.0722*r,.0193*t+.1192*e+.9505*r]}function l(t,e,r){return t/=95.047,e/=100,r/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116)-16,500*(t-e),200*(e-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function h(t,e,r){var i=o(t,e,r);return l(i[0],i[1],i[2])}function u(t,e){var r=1,i=1,n=1,a=t[0],s=t[1],o=t[2],l=e[0],h=e[1],u=e[2],f=a-l,c=s-h,d=o-u,p=Math.sqrt(s*s+o*o),m=l-a,g=Math.sqrt(h*h+u*u)-p,v=Math.sqrt(f*f+c*c+d*d),b=Math.sqrt(v)>Math.sqrt(Math.abs(m))+Math.sqrt(Math.abs(g))?Math.sqrt(v*v-m*m-g*g):0,_=1+.045*p,y=1+.015*p;return Math.sqrt((m/=r)*m+(g/=i*_)*g+(b/=n*y)*b)}function f(t,e){return u(h.apply(void 0,t),h.apply(void 0,e))}function c(t,e){return f(i(t),i(e))}function d(t){return t<e.DELTAE94_DIFF_STATUS.NA?"N/A":t<=e.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":t<=e.DELTAE94_DIFF_STATUS.CLOSE?"Close":t<=e.DELTAE94_DIFF_STATUS.GOOD?"Good":t<e.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"}function p(t,r,i){return(t<<2*e.SIGBITS)+(r<<e.SIGBITS)+i}Object.defineProperty(e,"__esModule",{value:!0}),e.getColorIndex=e.getColorDiffStatus=e.hexDiff=e.rgbDiff=e.deltaE94=e.rgbToCIELab=e.xyzToCIELab=e.rgbToXyz=e.hslToRgb=e.rgbToHsl=e.rgbToHex=e.hexToRgb=e.defer=e.RSHIFT=e.SIGBITS=e.DELTAE94_DIFF_STATUS=void 0,e.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},e.SIGBITS=5,e.RSHIFT=8-e.SIGBITS,e.defer=r,e.hexToRgb=i,e.rgbToHex=n,e.rgbToHsl=a,e.hslToRgb=s,e.rgbToXyz=o,e.xyzToCIELab=l,e.rgbToCIELab=h,e.deltaE94=u,e.rgbDiff=f,e.hexDiff=c,e.getColorDiffStatus=d,e.getColorIndex=p},81140:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(37314),l=s(r(72413)),h=a(r(72213)),u=a(r(61926)),f=a(r(99614)),c=a(r(1525)),d=r(87432),p=function(){function t(e,r){this._src=e,this.opts=d({},r,t.DefaultOpts),this.opts.combinedFilter=c.combineFilters(this.opts.filters)}return t.from=function(t){return new l.default(t)},t.prototype._process=function(t,e){var r=e.quantizer,i=e.generator;return t.scaleDown(e),t.applyFilter(e.combinedFilter).then(function(t){return r(t.data,e)}).then(function(t){return o.Swatch.applyFilter(t,e.combinedFilter)}).then(function(t){return Promise.resolve(i(t))})},t.prototype.palette=function(){return this.swatches()},t.prototype.swatches=function(){return this._palette},t.prototype.getPalette=function(t){var e=this,r=new this.opts.ImageClass,i=r.load(this._src).then(function(t){return e._process(t,e.opts)}).then(function(t){return e._palette=t,r.remove(),t},function(t){throw r.remove(),t});return t&&i.then(function(e){return t(null,e)},function(e){return t(e)}),i},t.Builder=l.default,t.Quantizer=u,t.Generator=f,t.Filter=c,t.Util=h,t.Swatch=o.Swatch,t.DefaultOpts={colorCount:64,quality:5,generator:f.Default,ImageClass:null,quantizer:u.MMCQ,filters:[c.Default]},t}();e.default=p},65141:(t,e)=>{"use strict";function r(t,e,r,n){var a=0,n=void 0===n?{}:n,s=void 0===n.loop?null:n.loop,o=void 0===n.palette?null:n.palette;if(e<=0||r<=0||e>65535||r>65535)throw Error("Width/Height invalid.");function l(t){var e=t.length;if(e<2||e>256||e&e-1)throw Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[a++]=71,t[a++]=73,t[a++]=70,t[a++]=56,t[a++]=57,t[a++]=97;var h=0,u=0;if(null!==o){for(var f=l(o);f>>=1;)++h;if(f=1<<h,--h,void 0!==n.background){if((u=n.background)>=f)throw Error("Background index out of range.");if(0===u)throw Error("Background index explicitly passed as 0.")}}if(t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=(null!==o?128:0)|h,t[a++]=u,t[a++]=0,null!==o)for(var c=0,d=o.length;c<d;++c){var p=o[c];t[a++]=p>>16&255,t[a++]=p>>8&255,t[a++]=255&p}if(null!==s){if(s<0||s>65535)throw Error("Loop count invalid.");t[a++]=33,t[a++]=255,t[a++]=11,t[a++]=78,t[a++]=69,t[a++]=84,t[a++]=83,t[a++]=67,t[a++]=65,t[a++]=80,t[a++]=69,t[a++]=50,t[a++]=46,t[a++]=48,t[a++]=3,t[a++]=1,t[a++]=255&s,t[a++]=s>>8&255,t[a++]=0}var m=!1;this.addFrame=function(e,r,n,s,h,u){if(!0===m&&(--a,m=!1),u=void 0===u?{}:u,e<0||r<0||e>65535||r>65535)throw Error("x/y invalid.");if(n<=0||s<=0||n>65535||s>65535)throw Error("Width/Height invalid.");if(h.length<n*s)throw Error("Not enough pixels for the frame size.");var f=!0,c=u.palette;if(null==c&&(f=!1,c=o),null==c)throw Error("Must supply either a local or global palette.");for(var d=l(c),p=0;d>>=1;)++p;d=1<<p;var g=void 0===u.delay?0:u.delay,v=void 0===u.disposal?0:u.disposal;if(v<0||v>3)throw Error("Disposal out of range.");var b=!1,_=0;if(void 0!==u.transparent&&null!==u.transparent&&(b=!0,(_=u.transparent)<0||_>=d))throw Error("Transparent color index.");if((0!==v||b||0!==g)&&(t[a++]=33,t[a++]=249,t[a++]=4,t[a++]=v<<2|(!0===b?1:0),t[a++]=255&g,t[a++]=g>>8&255,t[a++]=_,t[a++]=0),t[a++]=44,t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=255&n,t[a++]=n>>8&255,t[a++]=255&s,t[a++]=s>>8&255,t[a++]=!0===f?128|p-1:0,!0===f)for(var y=0,w=c.length;y<w;++y){var x=c[y];t[a++]=x>>16&255,t[a++]=x>>8&255,t[a++]=255&x}return a=i(t,a,p<2?2:p,h)},this.end=function(){return!1===m&&(t[a++]=59,m=!0),a},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(t){a=t}}function i(t,e,r,i){t[e++]=r;var n=e++,a=1<<r,s=a-1,o=a+1,l=o+1,h=r+1,u=0,f=0;function c(r){for(;u>=r;)t[e++]=255&f,f>>=8,u-=8,e===n+256&&(t[n]=255,n=e++)}function d(t){f|=t<<u,u+=h,c(8)}var p=i[0]&s,m={};d(a);for(var g=1,v=i.length;g<v;++g){var b=i[g]&s,_=p<<8|b,y=m[_];if(void 0===y){for(f|=p<<u,u+=h;u>=8;)t[e++]=255&f,f>>=8,u-=8,e===n+256&&(t[n]=255,n=e++);4096===l?(d(a),l=o+1,h=r+1,m={}):(l>=1<<h&&++h,m[_]=l++),p=b}else p=y}return d(p),d(o),c(1),n+1===e?t[n]=0:(t[n]=e-n-1,t[e++]=0),e}function n(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||(t[e++]+1&253)!=56||97!==t[e++])throw Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,n=t[e++],s=n>>7,o=1<<(7&n)+1;t[e++],t[e++];var l=null,h=null;s&&(l=e,h=o,e+=3*o);var u=!0,f=[],c=0,d=null,p=0,m=null;for(this.width=r,this.height=i;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){var g=t[e++];if(!(g>=0))throw Error("Invalid block size");if(0===g)break;e+=g}break;case 249:if(4!==t[e++]||0!==t[e+4])throw Error("Invalid graphics extension block.");var v=t[e++];c=t[e++]|t[e++]<<8,d=t[e++],(1&v)==0&&(d=null),p=v>>2&7,e++;break;case 254:for(;;){var g=t[e++];if(!(g>=0))throw Error("Invalid block size");if(0===g)break;e+=g}break;default:throw Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++],M=x>>7,S=x>>6&1,E=1<<(7&x)+1,P=l,k=h,A=!1;if(M){var A=!0;P=e,k=E,e+=3*E}var T=e;for(e++;;){var g=t[e++];if(!(g>=0))throw Error("Invalid block size");if(0===g)break;e+=g}f.push({x:b,y:_,width:y,height:w,has_local_palette:A,palette_offset:P,palette_size:k,data_offset:T,data_length:e-T,transparent_index:d,interlaced:!!S,delay:c,disposal:p});break;case 59:u=!1;break;default:throw Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return m},this.frameInfo=function(t){if(t<0||t>=f.length)throw Error("Frame index out of range.");return f[t]},this.decodeAndBlitFrameBGRA=function(e,i){var n=this.frameInfo(e),s=n.width*n.height,o=new Uint8Array(s);a(t,n.data_offset,o,s);var l=n.palette_offset,h=n.transparent_index;null===h&&(h=256);var u=n.width,f=r-u,c=u,d=(n.y*r+n.x)*4,p=((n.y+n.height)*r+n.x)*4,m=d,g=4*f;!0===n.interlaced&&(g+=28*r);for(var v=8,b=0,_=o.length;b<_;++b){var y=o[b];if(0===c&&(m+=g,c=u,m>=p&&(g=4*f+4*r*(v-1),m=d+(u+f)*(v<<1),v>>=1)),y===h)m+=4;else{var w=t[l+3*y],x=t[l+3*y+1],M=t[l+3*y+2];i[m++]=M,i[m++]=x,i[m++]=w,i[m++]=255}--c}},this.decodeAndBlitFrameRGBA=function(e,i){var n=this.frameInfo(e),s=n.width*n.height,o=new Uint8Array(s);a(t,n.data_offset,o,s);var l=n.palette_offset,h=n.transparent_index;null===h&&(h=256);var u=n.width,f=r-u,c=u,d=(n.y*r+n.x)*4,p=((n.y+n.height)*r+n.x)*4,m=d,g=4*f;!0===n.interlaced&&(g+=28*r);for(var v=8,b=0,_=o.length;b<_;++b){var y=o[b];if(0===c&&(m+=g,c=u,m>=p&&(g=4*f+4*r*(v-1),m=d+(u+f)*(v<<1),v>>=1)),y===h)m+=4;else{var w=t[l+3*y],x=t[l+3*y+1],M=t[l+3*y+2];i[m++]=w,i[m++]=x,i[m++]=M,i[m++]=255}--c}}}function a(t,e,r,i){for(var n=t[e++],a=1<<n,s=a+1,o=s+1,l=n+1,h=(1<<l)-1,u=0,f=0,c=0,d=t[e++],p=new Int32Array(4096),m=null;;){for(;u<16&&0!==d;)f|=t[e++]<<u,u+=8,1===d?d=t[e++]:--d;if(u<l)break;var g=f&h;if(f>>=l,u-=l,g===a){o=s+1,h=(1<<(l=n+1))-1,m=null;continue}if(g===s)break;for(var v=g<o?g:m,b=0,_=v;_>a;)_=p[_]>>8,++b;var y=_;if(c+b+(v!==g?1:0)>i){console.log("Warning, gif stream longer than expected.");return}r[c++]=y;var w=c+=b;for(v!==g&&(r[c++]=y),_=v;b--;)_=p[_],r[--w]=255&_,_>>=8;null!==m&&o<4096&&(p[o++]=m<<8|y,o>=h+1&&l<12&&(++l,h=h<<1|1)),m=g}return c!==i&&console.log("Warning, gif stream shorter than expected."),r}try{e.GifWriter=r,e.GifReader=n}catch(t){}},52207:(t,e,r)=>{"use strict";var i=r(97630).assign,n=r(98604),a=r(7194),s=r(74103),o={};i(o,n,a,s),t.exports=o},98604:(t,e,r)=>{"use strict";var i=r(42713),n=r(97630),a=r(1197),s=r(58115),o=r(46019),l=Object.prototype.toString,h=0,u=4,f=0,c=1,d=2,p=-1,m=0,g=8;function v(t){if(!(this instanceof v))return new v(t);this.options=n.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e,r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var h=i.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(h!==f)throw Error(s[h]);if(r.header&&i.deflateSetHeader(this.strm,r.header),r.dictionary){if(e="string"==typeof r.dictionary?a.string2buf(r.dictionary):"[object ArrayBuffer]"===l.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,(h=i.deflateSetDictionary(this.strm,e))!==f)throw Error(s[h]);this._dict_set=!0}}function b(t,e){var r=new v(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}function _(t,e){return(e=e||{}).raw=!0,b(t,e)}function y(t,e){return(e=e||{}).gzip=!0,b(t,e)}v.prototype.push=function(t,e){var r,s,o=this.strm,p=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?u:h,"string"==typeof t?o.input=a.string2buf(t):"[object ArrayBuffer]"===l.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(p),o.next_out=0,o.avail_out=p),(r=i.deflate(o,s))!==c&&r!==f)return this.onEnd(r),this.ended=!0,!1;(0===o.avail_out||0===o.avail_in&&(s===u||s===d))&&("string"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&r!==c);return s===u?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===f):(s===d&&(this.onEnd(f),o.avail_out=0),!0)},v.prototype.onData=function(t){this.chunks.push(t)},v.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=v,e.deflate=b,e.deflateRaw=_,e.gzip=y},7194:(t,e,r)=>{"use strict";var i=r(97057),n=r(97630),a=r(1197),s=r(74103),o=r(58115),l=r(46019),h=r(67591),u=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,e.windowBits);if(r!==s.Z_OK||(this.header=new h,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=i.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK)))throw Error(o[r])}function c(t,e){var r=new f(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}function d(t,e){return(e=e||{}).raw=!0,c(t,e)}f.prototype.push=function(t,e){var r,o,l,h,f,c=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?c.input=a.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?c.input=new Uint8Array(t):c.input=t,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new n.Buf8(d),c.next_out=0,c.avail_out=d),(r=i.inflate(c,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(r=i.inflateSetDictionary(this.strm,p)),r===s.Z_BUF_ERROR&&!0===m&&(r=s.Z_OK,m=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;c.next_out&&(0===c.avail_out||r===s.Z_STREAM_END||0===c.avail_in&&(o===s.Z_FINISH||o===s.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=a.utf8border(c.output,c.next_out),h=c.next_out-l,f=a.buf2string(c.output,l),c.next_out=h,c.avail_out=d-h,h&&n.arraySet(c.output,c.output,l,h,0),this.onData(f)):this.onData(n.shrinkBuf(c.output,c.next_out))),0===c.avail_in&&0===c.avail_out&&(m=!0)}while((c.avail_in>0||0===c.avail_out)&&r!==s.Z_STREAM_END);return(r===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH)?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):(o===s.Z_SYNC_FLUSH&&(this.onEnd(s.Z_OK),c.avail_out=0),!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=f,e.inflate=c,e.inflateRaw=d,e.ungzip=c},97630:(t,e)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+i),n);return}for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){var e,r,i,n,a,s;for(e=0,i=0,r=t.length;e<r;e++)i+=t[e].length;for(e=0,s=new Uint8Array(i),n=0,r=t.length;e<r;e++)a=t[e],s.set(a,n),n+=a.length;return s}},a={arraySet:function(t,e,r,i,n){for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},1197:(t,e,r)=>{"use strict";var i=r(97630),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",s=0;s<e;s++)r+=String.fromCharCode(t[s]);return r}s[254]=s[254]=1,e.string2buf=function(t){var e,r,n,a,s,o=t.length,l=0;for(a=0;a<o;a++)(64512&(r=t.charCodeAt(a)))==55296&&a+1<o&&(64512&(n=t.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(s=0,e=new i.Buf8(l),a=0;s<l;a++)(64512&(r=t.charCodeAt(a)))==55296&&a+1<o&&(64512&(n=t.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,i,n,a,o=e||t.length,h=Array(2*o);for(i=0,r=0;r<o;){if((n=t[r++])<128){h[i++]=n;continue}if((a=s[n])>4){h[i++]=65533,r+=a-1;continue}for(n&=2===a?31:3===a?15:7;a>1&&r<o;)n=n<<6|63&t[r++],a--;if(a>1){h[i++]=65533;continue}n<65536?h[i++]=n:(n-=65536,h[i++]=55296|n>>10&1023,h[i++]=56320|1023&n)}return l(h,i)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&(192&t[r])==128;)r--;return r<0||0===r?e:r+s[t[r]]>e?r:e}},26151:t=>{"use strict";function e(t,e,r,i){for(var n=65535&t|0,a=t>>>16&65535|0,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do a=a+(n=n+e[i++]|0)|0;while(--s);n%=65521,a%=65521}return n|a<<16|0}t.exports=e},74103:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},86919:t=>{"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();function r(t,r,i,n){var a=e,s=n+i;t^=-1;for(var o=n;o<s;o++)t=t>>>8^a[(t^r[o])&255];return -1^t}t.exports=r},42713:(t,e,r)=>{"use strict";var i,n=r(97630),a=r(46922),s=r(26151),o=r(86919),l=r(58115),h=0,u=1,f=3,c=4,d=5,p=0,m=1,g=-2,v=-3,b=-5,_=-1,y=1,w=2,x=3,M=4,S=0,E=2,P=8,k=9,A=15,T=8,I=286,B=30,C=19,O=573,L=15,D=3,R=258,z=262,F=32,j=42,U=69,N=73,G=91,V=103,H=113,W=666,q=1,Y=2,$=3,X=4,Z=3;function J(t,e){return t.msg=l[e],e}function K(t){return(t<<1)-(t>4?9:0)}function Q(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(n.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function te(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function tr(t,e){t.pending_buf[t.pending++]=e}function ti(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function tn(t,e,r,i){var a=t.avail_in;return(a>i&&(a=i),0===a)?0:(t.avail_in-=a,n.arraySet(e,t.input,t.next_in,a,r),1===t.state.wrap?t.adler=s(t.adler,e,a,r):2===t.state.wrap&&(t.adler=o(t.adler,e,a,r)),t.next_in+=a,t.total_in+=a,a)}function ta(t,e){var r,i,n=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,h=t.window,u=t.w_mask,f=t.prev,c=t.strstart+R,d=h[a+s-1],p=h[a+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(r=e)+s]!==p||h[r+s-1]!==d||h[r]!==h[a]||h[++r]!==h[a+1])continue;a+=2,r++;do;while(h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&a<c);if(i=R-(c-a),a=c-R,i>s){if(t.match_start=e,s=i,i>=o)break;d=h[a+s-1],p=h[a+s]}}while((e=f[e&u])>l&&0!=--n);return s<=t.lookahead?s:t.lookahead}function ts(t){var e,r,i,a,s,o=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-z)){n.arraySet(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=r=t.hash_size;do i=t.head[--e],t.head[e]=i>=o?i-o:0;while(--r);e=r=o;do i=t.prev[--e],t.prev[e]=i>=o?i-o:0;while(--r);a+=o}if(0===t.strm.avail_in)break;if(r=tn(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=r,t.lookahead+t.insert>=D)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+D-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<D)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function to(t,e){for(var r,i;;){if(t.lookahead<z){if(ts(t),t.lookahead<z&&e===h)return q;if(0===t.lookahead)break}if(r=0,t.lookahead>=D&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-z&&(t.match_length=ta(t,r)),t.match_length>=D){if(i=a._tr_tally(t,t.strstart-t.match_start,t.match_length-D),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=D){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask}else i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(te(t,!1),0===t.strm.avail_out))return q}return(t.insert=t.strstart<D-1?t.strstart:D-1,e===c)?(te(t,!0),0===t.strm.avail_out)?$:X:t.last_lit&&(te(t,!1),0===t.strm.avail_out)?q:Y}function tl(t,e){for(var r,i,n;;){if(t.lookahead<z){if(ts(t),t.lookahead<z&&e===h)return q;if(0===t.lookahead)break}if(r=0,t.lookahead>=D&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=D-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-z&&(t.match_length=ta(t,r),t.match_length<=5&&(t.strategy===y||t.match_length===D&&t.strstart-t.match_start>4096)&&(t.match_length=D-1)),t.prev_length>=D&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-D,i=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-D),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+D-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!=--t.prev_length);if(t.match_available=0,t.match_length=D-1,t.strstart++,i&&(te(t,!1),0===t.strm.avail_out))return q}else if(t.match_available){if((i=a._tr_tally(t,0,t.window[t.strstart-1]))&&te(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return q}else t.match_available=1,t.strstart++,t.lookahead--}return(t.match_available&&(i=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<D-1?t.strstart:D-1,e===c)?(te(t,!0),0===t.strm.avail_out)?$:X:t.last_lit&&(te(t,!1),0===t.strm.avail_out)?q:Y}function th(t,e){for(var r,i,n,s,o=t.window;;){if(t.lookahead<=R){if(ts(t),t.lookahead<=R&&e===h)return q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=D&&t.strstart>0&&(i=o[n=t.strstart-1])===o[++n]&&i===o[++n]&&i===o[++n]){s=t.strstart+R;do;while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<s);t.match_length=R-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=D?(r=a._tr_tally(t,1,t.match_length-D),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(te(t,!1),0===t.strm.avail_out))return q}return(t.insert=0,e===c)?(te(t,!0),0===t.strm.avail_out)?$:X:t.last_lit&&(te(t,!1),0===t.strm.avail_out)?q:Y}function tu(t,e){for(var r;;){if(0===t.lookahead&&(ts(t),0===t.lookahead)){if(e===h)return q;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(te(t,!1),0===t.strm.avail_out))return q}return(t.insert=0,e===c)?(te(t,!0),0===t.strm.avail_out)?$:X:t.last_lit&&(te(t,!1),0===t.strm.avail_out)?q:Y}function tf(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function tc(t){t.window_size=2*t.w_size,Q(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=D-1,t.match_available=0,t.ins_h=0}function td(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*O),this.dyn_dtree=new n.Buf16((2*B+1)*2),this.bl_tree=new n.Buf16((2*C+1)*2),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(L+1),this.heap=new n.Buf16(2*I+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*I+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function tp(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=E,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?j:H,t.adler=2===e.wrap?0:1,e.last_flush=h,a._tr_init(e),p):J(t,g)}function tm(t){var e=tp(t);return e===p&&tc(t.state),e}function tg(t,e){return t&&t.state&&2===t.state.wrap?(t.state.gzhead=e,p):g}function tv(t,e,r,i,a,s){if(!t)return g;var o=1;if(e===_&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),a<1||a>k||r!==P||i<8||i>15||e<0||e>9||s<0||s>M)return J(t,g);8===i&&(i=9);var l=new td;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+D-1)/D),l.window=new n.Buf8(2*l.w_size),l.head=new n.Buf16(l.hash_size),l.prev=new n.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new n.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=r,tm(t)}function tb(t,e){return tv(t,e,P,A,T,S)}function t_(t,e){if(!t||!t.state||e>d||e<0)return t?J(t,g):g;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===W&&e!==c)return J(t,0===t.avail_out?b:g);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===j){if(2===n.wrap)t.adler=0,tr(n,31),tr(n,139),tr(n,8),n.gzhead?(tr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),tr(n,255&n.gzhead.time),tr(n,n.gzhead.time>>8&255),tr(n,n.gzhead.time>>16&255),tr(n,n.gzhead.time>>24&255),tr(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),tr(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(tr(n,255&n.gzhead.extra.length),tr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=o(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=U):(tr(n,0),tr(n,0),tr(n,0),tr(n,0),tr(n,0),tr(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),tr(n,Z),n.status=H);else{var r,n,s,l,v=P+(n.w_bits-8<<4)<<8,_=-1;v|=(_=n.strategy>=w||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(v|=F),v+=31-v%31,n.status=H,ti(n,v),0!==n.strstart&&(ti(n,t.adler>>>16),ti(n,65535&t.adler)),t.adler=1}}if(n.status===U){if(n.gzhead.extra){for(s=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),tt(t),s=n.pending,n.pending!==n.pending_buf_size));)tr(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=N)}else n.status=N}if(n.status===N){if(n.gzhead.name){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),tt(t),s=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,tr(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),0===l&&(n.gzindex=0,n.status=G)}else n.status=G}if(n.status===G){if(n.gzhead.comment){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),tt(t),s=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,tr(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),0===l&&(n.status=V)}else n.status=V}if(n.status===V&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&tt(t),n.pending+2<=n.pending_buf_size&&(tr(n,255&t.adler),tr(n,t.adler>>8&255),t.adler=0,n.status=H)):n.status=H),0!==n.pending){if(tt(t),0===t.avail_out)return n.last_flush=-1,p}else if(0===t.avail_in&&K(e)<=K(r)&&e!==c)return J(t,b);if(n.status===W&&0!==t.avail_in)return J(t,b);if(0!==t.avail_in||0!==n.lookahead||e!==h&&n.status!==W){var y=n.strategy===w?tu(n,e):n.strategy===x?th(n,e):i[n.level].func(n,e);if((y===$||y===X)&&(n.status=W),y===q||y===$)return 0===t.avail_out&&(n.last_flush=-1),p;if(y===Y&&(e===u?a._tr_align(n):e!==d&&(a._tr_stored_block(n,0,0,!1),e===f&&(Q(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),tt(t),0===t.avail_out))return n.last_flush=-1,p}return e!==c?p:n.wrap<=0?m:(2===n.wrap?(tr(n,255&t.adler),tr(n,t.adler>>8&255),tr(n,t.adler>>16&255),tr(n,t.adler>>24&255),tr(n,255&t.total_in),tr(n,t.total_in>>8&255),tr(n,t.total_in>>16&255),tr(n,t.total_in>>24&255)):(ti(n,t.adler>>>16),ti(n,65535&t.adler)),tt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?p:m)}function ty(t){var e;return t&&t.state?(e=t.state.status)!==j&&e!==U&&e!==N&&e!==G&&e!==V&&e!==H&&e!==W?J(t,g):(t.state=null,e===H?J(t,v):p):g}function tw(t,e){var r,i,a,o,l,h,u,f,c=e.length;if(!t||!t.state||2===(o=(r=t.state).wrap)||1===o&&r.status!==j||r.lookahead)return g;for(1===o&&(t.adler=s(t.adler,e,c,0)),r.wrap=0,c>=r.w_size&&(0===o&&(Q(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new n.Buf8(r.w_size),n.arraySet(f,e,c-r.w_size,r.w_size,0),e=f,c=r.w_size),l=t.avail_in,h=t.next_in,u=t.input,t.avail_in=c,t.next_in=0,t.input=e,ts(r);r.lookahead>=D;){i=r.strstart,a=r.lookahead-(D-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+D-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--a);r.strstart=i,r.lookahead=D-1,ts(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=D-1,r.match_available=0,t.next_in=h,t.input=u,t.avail_in=l,r.wrap=o,p}i=[new tf(0,0,0,0,function(t,e){var r=65535;for(65535>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ts(t),0===t.lookahead&&e===h)return q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,te(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-z&&(te(t,!1),0===t.strm.avail_out))return q}return(t.insert=0,e===c)?(te(t,!0),0===t.strm.avail_out)?$:X:(t.strstart>t.block_start&&(te(t,!1),t.strm.avail_out),q)}),new tf(4,4,8,4,to),new tf(4,5,16,8,to),new tf(4,6,32,32,to),new tf(4,4,16,16,tl),new tf(8,16,32,32,tl),new tf(8,16,128,128,tl),new tf(8,32,128,256,tl),new tf(32,128,258,1024,tl),new tf(32,258,258,4096,tl)],e.deflateInit=tb,e.deflateInit2=tv,e.deflateReset=tm,e.deflateResetKeep=tp,e.deflateSetHeader=tg,e.deflate=t_,e.deflateEnd=ty,e.deflateSetDictionary=tw,e.deflateInfo="pako deflate (from Nodeca project)"},67591:t=>{"use strict";function e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=e},5638:t=>{"use strict";var e=30,r=12;t.exports=function(t,i){var n,a,s,o,l,h,u,f,c,d,p,m,g,v,b,_,y,w,x,M,S,E,P,k,A;n=t.state,a=t.next_in,k=t.input,s=a+(t.avail_in-5),o=t.next_out,A=t.output,l=o-(i-t.avail_out),h=o+(t.avail_out-257),u=n.dmax,f=n.wsize,c=n.whave,d=n.wnext,p=n.window,m=n.hold,g=n.bits,v=n.lencode,b=n.distcode,_=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do for(g<15&&(m+=k[a++]<<g,g+=8,m+=k[a++]<<g,g+=8),w=v[m&_];;){if(m>>>=x=w>>>24,g-=x,0==(x=w>>>16&255))A[o++]=65535&w;else if(16&x)for(M=65535&w,(x&=15)&&(g<x&&(m+=k[a++]<<g,g+=8),M+=m&(1<<x)-1,m>>>=x,g-=x),g<15&&(m+=k[a++]<<g,g+=8,m+=k[a++]<<g,g+=8),w=b[m&y];;){if(m>>>=x=w>>>24,g-=x,16&(x=w>>>16&255)){if(S=65535&w,g<(x&=15)&&(m+=k[a++]<<g,(g+=8)<x&&(m+=k[a++]<<g,g+=8)),(S+=m&(1<<x)-1)>u){t.msg="invalid distance too far back",n.mode=e;break t}if(m>>>=x,g-=x,S>(x=o-l)){if((x=S-x)>c&&n.sane){t.msg="invalid distance too far back",n.mode=e;break t}if(E=0,P=p,0===d){if(E+=f-x,x<M){M-=x;do A[o++]=p[E++];while(--x);E=o-S,P=A}}else if(d<x){if(E+=f+d-x,(x-=d)<M){M-=x;do A[o++]=p[E++];while(--x);if(E=0,d<M){M-=x=d;do A[o++]=p[E++];while(--x);E=o-S,P=A}}}else if(E+=d-x,x<M){M-=x;do A[o++]=p[E++];while(--x);E=o-S,P=A}for(;M>2;)A[o++]=P[E++],A[o++]=P[E++],A[o++]=P[E++],M-=3;M&&(A[o++]=P[E++],M>1&&(A[o++]=P[E++]))}else{E=o-S;do A[o++]=A[E++],A[o++]=A[E++],A[o++]=A[E++],M-=3;while(M>2);M&&(A[o++]=A[E++],M>1&&(A[o++]=A[E++]))}}else if((64&x)==0){w=b[(65535&w)+(m&(1<<x)-1)];continue}else{t.msg="invalid distance code",n.mode=e;break t}break}else if((64&x)==0){w=v[(65535&w)+(m&(1<<x)-1)];continue}else if(32&x){n.mode=r;break t}else{t.msg="invalid literal/length code",n.mode=e;break t}break}while(a<s&&o<h);a-=M=g>>3,g-=M<<3,m&=(1<<g)-1,t.next_in=a,t.next_out=o,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=o<h?257+(h-o):257-(o-h),n.hold=m,n.bits=g}},97057:(t,e,r)=>{"use strict";var i,n,a=r(97630),s=r(26151),o=r(86919),l=r(5638),h=r(28009),u=0,f=1,c=2,d=4,p=5,m=6,g=0,v=1,b=2,_=-2,y=-3,w=-4,x=-5,M=8,S=1,E=2,P=3,k=4,A=5,T=6,I=7,B=8,C=9,O=10,L=11,D=12,R=13,z=14,F=15,j=16,U=17,N=18,G=19,V=20,H=21,W=22,q=23,Y=24,$=25,X=26,Z=27,J=28,K=29,Q=30,tt=31,te=852,tr=592,ti=15;function tn(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function ta(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ts(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=S,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new a.Buf32(te),e.distcode=e.distdyn=new a.Buf32(tr),e.sane=1,e.back=-1,g):_}function to(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,ts(t)):_}function tl(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?_:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,to(t)):_}function th(t,e){var r,i;return t?(i=new ta,t.state=i,i.window=null,(r=tl(t,e))!==g&&(t.state=null),r):_}function tu(t){return th(t,ti)}var tf=!0;function tc(t){if(tf){var e;for(i=new a.Buf32(512),n=new a.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(h(f,t.lens,0,288,i,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;h(c,t.lens,0,32,n,0,t.work,{bits:5}),tf=!1}t.lencode=i,t.lenbits=9,t.distcode=n,t.distbits=5}function td(t,e,r,i){var n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new a.Buf8(s.wsize)),i>=s.wsize?(a.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((n=s.wsize-s.wnext)>i&&(n=i),a.arraySet(s.window,e,r-i,n,s.wnext),(i-=n)?(a.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}function tp(t,e){var r,i,n,te,tr,ti,ta,ts,to,tl,th,tu,tf,tp,tm,tg,tv,tb,t_,ty,tw,tx,tM,tS,tE=0,tP=new a.Buf8(4),tk=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return _;(r=t.state).mode===D&&(r.mode=R),tr=t.next_out,n=t.output,ta=t.avail_out,te=t.next_in,i=t.input,ti=t.avail_in,ts=r.hold,to=r.bits,tl=ti,th=ta,tx=g;e:for(;;)switch(r.mode){case S:if(0===r.wrap){r.mode=R;break}for(;to<16;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if(2&r.wrap&&35615===ts){r.check=0,tP[0]=255&ts,tP[1]=ts>>>8&255,r.check=o(r.check,tP,2,0),ts=0,to=0,r.mode=E;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&ts)<<8)+(ts>>8))%31){t.msg="incorrect header check",r.mode=Q;break}if((15&ts)!==M){t.msg="unknown compression method",r.mode=Q;break}if(ts>>>=4,to-=4,tw=(15&ts)+8,0===r.wbits)r.wbits=tw;else if(tw>r.wbits){t.msg="invalid window size",r.mode=Q;break}r.dmax=1<<tw,t.adler=r.check=1,r.mode=512&ts?O:D,ts=0,to=0;break;case E:for(;to<16;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if(r.flags=ts,(255&r.flags)!==M){t.msg="unknown compression method",r.mode=Q;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Q;break}r.head&&(r.head.text=ts>>8&1),512&r.flags&&(tP[0]=255&ts,tP[1]=ts>>>8&255,r.check=o(r.check,tP,2,0)),ts=0,to=0,r.mode=P;case P:for(;to<32;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}r.head&&(r.head.time=ts),512&r.flags&&(tP[0]=255&ts,tP[1]=ts>>>8&255,tP[2]=ts>>>16&255,tP[3]=ts>>>24&255,r.check=o(r.check,tP,4,0)),ts=0,to=0,r.mode=k;case k:for(;to<16;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}r.head&&(r.head.xflags=255&ts,r.head.os=ts>>8),512&r.flags&&(tP[0]=255&ts,tP[1]=ts>>>8&255,r.check=o(r.check,tP,2,0)),ts=0,to=0,r.mode=A;case A:if(1024&r.flags){for(;to<16;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}r.length=ts,r.head&&(r.head.extra_len=ts),512&r.flags&&(tP[0]=255&ts,tP[1]=ts>>>8&255,r.check=o(r.check,tP,2,0)),ts=0,to=0}else r.head&&(r.head.extra=null);r.mode=T;case T:if(1024&r.flags&&((tu=r.length)>ti&&(tu=ti),tu&&(r.head&&(tw=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),a.arraySet(r.head.extra,i,te,tu,tw)),512&r.flags&&(r.check=o(r.check,i,tu,te)),ti-=tu,te+=tu,r.length-=tu),r.length))break e;r.length=0,r.mode=I;case I:if(2048&r.flags){if(0===ti)break e;tu=0;do tw=i[te+tu++],r.head&&tw&&r.length<65536&&(r.head.name+=String.fromCharCode(tw));while(tw&&tu<ti);if(512&r.flags&&(r.check=o(r.check,i,tu,te)),ti-=tu,te+=tu,tw)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=B;case B:if(4096&r.flags){if(0===ti)break e;tu=0;do tw=i[te+tu++],r.head&&tw&&r.length<65536&&(r.head.comment+=String.fromCharCode(tw));while(tw&&tu<ti);if(512&r.flags&&(r.check=o(r.check,i,tu,te)),ti-=tu,te+=tu,tw)break e}else r.head&&(r.head.comment=null);r.mode=C;case C:if(512&r.flags){for(;to<16;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if(ts!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Q;break}ts=0,to=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=D;break;case O:for(;to<32;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}t.adler=r.check=tn(ts),ts=0,to=0,r.mode=L;case L:if(0===r.havedict)return t.next_out=tr,t.avail_out=ta,t.next_in=te,t.avail_in=ti,r.hold=ts,r.bits=to,b;t.adler=r.check=1,r.mode=D;case D:if(e===p||e===m)break e;case R:if(r.last){ts>>>=7&to,to-=7&to,r.mode=Z;break}for(;to<3;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}switch(r.last=1&ts,to-=1,3&(ts>>>=1)){case 0:r.mode=z;break;case 1:if(tc(r),r.mode=V,e===m){ts>>>=2,to-=2;break e}break;case 2:r.mode=U;break;case 3:t.msg="invalid block type",r.mode=Q}ts>>>=2,to-=2;break;case z:for(ts>>>=7&to,to-=7&to;to<32;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if((65535&ts)!=(ts>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Q;break}if(r.length=65535&ts,ts=0,to=0,r.mode=F,e===m)break e;case F:r.mode=j;case j:if(tu=r.length){if(tu>ti&&(tu=ti),tu>ta&&(tu=ta),0===tu)break e;a.arraySet(n,i,te,tu,tr),ti-=tu,te+=tu,ta-=tu,tr+=tu,r.length-=tu;break}r.mode=D;break;case U:for(;to<14;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if(r.nlen=(31&ts)+257,ts>>>=5,to-=5,r.ndist=(31&ts)+1,ts>>>=5,to-=5,r.ncode=(15&ts)+4,ts>>>=4,to-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Q;break}r.have=0,r.mode=N;case N:for(;r.have<r.ncode;){for(;to<3;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}r.lens[tk[r.have++]]=7&ts,ts>>>=3,to-=3}for(;r.have<19;)r.lens[tk[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,tM={bits:r.lenbits},tx=h(u,r.lens,0,19,r.lencode,0,r.work,tM),r.lenbits=tM.bits,tx){t.msg="invalid code lengths set",r.mode=Q;break}r.have=0,r.mode=G;case G:for(;r.have<r.nlen+r.ndist;){for(;tm=(tE=r.lencode[ts&(1<<r.lenbits)-1])>>>24,tg=tE>>>16&255,tv=65535&tE,!(tm<=to);){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if(tv<16)ts>>>=tm,to-=tm,r.lens[r.have++]=tv;else{if(16===tv){for(tS=tm+2;to<tS;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if(ts>>>=tm,to-=tm,0===r.have){t.msg="invalid bit length repeat",r.mode=Q;break}tw=r.lens[r.have-1],tu=3+(3&ts),ts>>>=2,to-=2}else if(17===tv){for(tS=tm+3;to<tS;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}ts>>>=tm,to-=tm,tw=0,tu=3+(7&ts),ts>>>=3,to-=3}else{for(tS=tm+7;to<tS;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}ts>>>=tm,to-=tm,tw=0,tu=11+(127&ts),ts>>>=7,to-=7}if(r.have+tu>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Q;break}for(;tu--;)r.lens[r.have++]=tw}}if(r.mode===Q)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Q;break}if(r.lenbits=9,tM={bits:r.lenbits},tx=h(f,r.lens,0,r.nlen,r.lencode,0,r.work,tM),r.lenbits=tM.bits,tx){t.msg="invalid literal/lengths set",r.mode=Q;break}if(r.distbits=6,r.distcode=r.distdyn,tM={bits:r.distbits},tx=h(c,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,tM),r.distbits=tM.bits,tx){t.msg="invalid distances set",r.mode=Q;break}if(r.mode=V,e===m)break e;case V:r.mode=H;case H:if(ti>=6&&ta>=258){t.next_out=tr,t.avail_out=ta,t.next_in=te,t.avail_in=ti,r.hold=ts,r.bits=to,l(t,th),tr=t.next_out,n=t.output,ta=t.avail_out,te=t.next_in,i=t.input,ti=t.avail_in,ts=r.hold,to=r.bits,r.mode===D&&(r.back=-1);break}for(r.back=0;tm=(tE=r.lencode[ts&(1<<r.lenbits)-1])>>>24,tg=tE>>>16&255,tv=65535&tE,!(tm<=to);){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if(tg&&(240&tg)==0){for(tb=tm,t_=tg,ty=tv;tm=(tE=r.lencode[ty+((ts&(1<<tb+t_)-1)>>tb)])>>>24,tg=tE>>>16&255,tv=65535&tE,!(tb+tm<=to);){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}ts>>>=tb,to-=tb,r.back+=tb}if(ts>>>=tm,to-=tm,r.back+=tm,r.length=tv,0===tg){r.mode=X;break}if(32&tg){r.back=-1,r.mode=D;break}if(64&tg){t.msg="invalid literal/length code",r.mode=Q;break}r.extra=15&tg,r.mode=W;case W:if(r.extra){for(tS=r.extra;to<tS;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}r.length+=ts&(1<<r.extra)-1,ts>>>=r.extra,to-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=q;case q:for(;tm=(tE=r.distcode[ts&(1<<r.distbits)-1])>>>24,tg=tE>>>16&255,tv=65535&tE,!(tm<=to);){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if((240&tg)==0){for(tb=tm,t_=tg,ty=tv;tm=(tE=r.distcode[ty+((ts&(1<<tb+t_)-1)>>tb)])>>>24,tg=tE>>>16&255,tv=65535&tE,!(tb+tm<=to);){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}ts>>>=tb,to-=tb,r.back+=tb}if(ts>>>=tm,to-=tm,r.back+=tm,64&tg){t.msg="invalid distance code",r.mode=Q;break}r.offset=tv,r.extra=15&tg,r.mode=Y;case Y:if(r.extra){for(tS=r.extra;to<tS;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}r.offset+=ts&(1<<r.extra)-1,ts>>>=r.extra,to-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Q;break}r.mode=$;case $:if(0===ta)break e;if(tu=th-ta,r.offset>tu){if((tu=r.offset-tu)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Q;break}tu>r.wnext?(tu-=r.wnext,tf=r.wsize-tu):tf=r.wnext-tu,tu>r.length&&(tu=r.length),tp=r.window}else tp=n,tf=tr-r.offset,tu=r.length;tu>ta&&(tu=ta),ta-=tu,r.length-=tu;do n[tr++]=tp[tf++];while(--tu);0===r.length&&(r.mode=H);break;case X:if(0===ta)break e;n[tr++]=r.length,ta--,r.mode=H;break;case Z:if(r.wrap){for(;to<32;){if(0===ti)break e;ti--,ts|=i[te++]<<to,to+=8}if(th-=ta,t.total_out+=th,r.total+=th,th&&(t.adler=r.check=r.flags?o(r.check,n,th,tr-th):s(r.check,n,th,tr-th)),th=ta,(r.flags?ts:tn(ts))!==r.check){t.msg="incorrect data check",r.mode=Q;break}ts=0,to=0}r.mode=J;case J:if(r.wrap&&r.flags){for(;to<32;){if(0===ti)break e;ti--,ts+=i[te++]<<to,to+=8}if(ts!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Q;break}ts=0,to=0}r.mode=K;case K:tx=v;break e;case Q:tx=y;break e;case tt:return w;default:return _}return(t.next_out=tr,t.avail_out=ta,t.next_in=te,t.avail_in=ti,r.hold=ts,r.bits=to,(r.wsize||th!==t.avail_out&&r.mode<Q&&(r.mode<Z||e!==d))&&td(t,t.output,t.next_out,th-t.avail_out))?(r.mode=tt,w):(tl-=t.avail_in,th-=t.avail_out,t.total_in+=tl,t.total_out+=th,r.total+=th,r.wrap&&th&&(t.adler=r.check=r.flags?o(r.check,n,th,t.next_out-th):s(r.check,n,th,t.next_out-th)),t.data_type=r.bits+(r.last?64:0)+(r.mode===D?128:0)+(r.mode===V||r.mode===F?256:0),(0===tl&&0===th||e===d)&&tx===g&&(tx=x),tx)}function tm(t){if(!t||!t.state)return _;var e=t.state;return e.window&&(e.window=null),t.state=null,g}function tg(t,e){var r;return t&&t.state&&(2&(r=t.state).wrap)!=0?(r.head=e,e.done=!1,g):_}function tv(t,e){var r,i,n=e.length;return t&&t.state&&(0===(r=t.state).wrap||r.mode===L)?r.mode===L&&(i=s(i=1,e,n,0))!==r.check?y:td(t,e,n,n)?(r.mode=tt,w):(r.havedict=1,g):_}e.inflateReset=to,e.inflateReset2=tl,e.inflateResetKeep=ts,e.inflateInit=tu,e.inflateInit2=th,e.inflate=tp,e.inflateEnd=tm,e.inflateGetHeader=tg,e.inflateSetDictionary=tv,e.inflateInfo="pako inflate (from Nodeca project)"},28009:(t,e,r)=>{"use strict";var i=r(97630),n=15,a=852,s=592,o=0,l=1,h=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,p,m,g,v,b){var _,y,w,x,M,S,E,P,k,A=b.bits,T=0,I=0,B=0,C=0,O=0,L=0,D=0,R=0,z=0,F=0,j=null,U=0,N=new i.Buf16(n+1),G=new i.Buf16(n+1),V=null,H=0;for(T=0;T<=n;T++)N[T]=0;for(I=0;I<p;I++)N[e[r+I]]++;for(O=A,C=n;C>=1&&0===N[C];C--);if(O>C&&(O=C),0===C)return m[g++]=20971520,m[g++]=20971520,b.bits=1,0;for(B=1;B<C&&0===N[B];B++);for(O<B&&(O=B),R=1,T=1;T<=n;T++)if(R<<=1,(R-=N[T])<0)return -1;if(R>0&&(t===o||1!==C))return -1;for(T=1,G[1]=0;T<n;T++)G[T+1]=G[T]+N[T];for(I=0;I<p;I++)0!==e[r+I]&&(v[G[e[r+I]]++]=I);if(t===o?(j=V=v,S=19):t===l?(j=u,U-=257,V=f,H-=257,S=256):(j=c,V=d,S=-1),F=0,I=0,T=B,M=g,L=O,D=0,w=-1,x=(z=1<<O)-1,t===l&&z>a||t===h&&z>s)return 1;for(;;){E=T-D,v[I]<S?(P=0,k=v[I]):v[I]>S?(P=V[H+v[I]],k=j[U+v[I]]):(P=96,k=0),_=1<<T-D,B=y=1<<L;do m[M+(F>>D)+(y-=_)]=E<<24|P<<16|k|0;while(0!==y);for(_=1<<T-1;F&_;)_>>=1;if(0!==_?(F&=_-1,F+=_):F=0,I++,0==--N[T]){if(T===C)break;T=e[r+v[I]]}if(T>O&&(F&x)!==w){for(0===D&&(D=O),M+=B,R=1<<(L=T-D);L+D<C&&!((R-=N[L+D])<=0);)L++,R<<=1;if(z+=1<<L,t===l&&z>a||t===h&&z>s)return 1;m[w=F&x]=O<<24|L<<16|M-g|0}}return 0!==F&&(m[M+F]=T-D<<24|4194304),b.bits=O,0}},58115:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},46922:(t,e,r)=>{"use strict";var i,n,a,s=r(97630),o=4,l=0,h=1,u=2;function f(t){for(var e=t.length;--e>=0;)t[e]=0}var c=0,d=1,p=2,m=3,g=258,v=29,b=256,_=286,y=30,w=19,x=573,M=15,S=16,E=7,P=256,k=16,A=17,T=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=512,D=Array(576);f(D);var R=Array(2*y);f(R);var z=Array(L);f(z);var F=Array(g-m+1);f(F);var j=Array(v);f(j);var U=Array(y);function N(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function G(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function V(t){return t<256?z[t]:z[256+(t>>>7)]}function H(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function W(t,e,r){t.bi_valid>S-r?(t.bi_buf|=e<<t.bi_valid&65535,H(t,t.bi_buf),t.bi_buf=e>>S-t.bi_valid,t.bi_valid+=r-S):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function q(t,e,r){W(t,r[2*e],r[2*e+1])}function Y(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function $(t){16===t.bi_valid?(H(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function X(t,e){var r,i,n,a,s,o,l=e.dyn_tree,h=e.max_code,u=e.stat_desc.static_tree,f=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=M;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<x;r++)(a=l[2*l[2*(i=t.heap[r])+1]+1]+1)>p&&(a=p,m++),l[2*i+1]=a,!(i>h)&&(t.bl_count[a]++,s=0,i>=d&&(s=c[i-d]),o=l[2*i],t.opt_len+=o*(a+s),f&&(t.static_len+=o*(u[2*i+1]+s)));if(0!==m){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(i=t.bl_count[a];0!==i;)!((n=t.heap[--r])>h)&&(l[2*n+1]!==a&&(t.opt_len+=(a-l[2*n+1])*l[2*n],l[2*n+1]=a),i--)}}function Z(t,e,r){var i,n,a=Array(M+1),s=0;for(i=1;i<=M;i++)a[i]=s=s+r[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=Y(a[o]++,o))}}function J(){var t,e,r,s,o,l=Array(M+1);for(s=0,r=0;s<v-1;s++)for(t=0,j[s]=r;t<1<<I[s];t++)F[r++]=s;for(F[r-1]=s,o=0,s=0;s<16;s++)for(t=0,U[s]=o;t<1<<B[s];t++)z[o++]=s;for(o>>=7;s<y;s++)for(t=0,U[s]=o<<7;t<1<<B[s]-7;t++)z[256+o++]=s;for(e=0;e<=M;e++)l[e]=0;for(t=0;t<=143;)D[2*t+1]=8,t++,l[8]++;for(;t<=255;)D[2*t+1]=9,t++,l[9]++;for(;t<=279;)D[2*t+1]=7,t++,l[7]++;for(;t<=287;)D[2*t+1]=8,t++,l[8]++;for(Z(D,_+1,l),t=0;t<y;t++)R[2*t+1]=5,R[2*t]=Y(t,5);i=new N(D,I,b+1,_,M),n=new N(R,B,0,y,M),a=new N([],C,0,w,E)}function K(t){var e;for(e=0;e<_;e++)t.dyn_ltree[2*e]=0;for(e=0;e<y;e++)t.dyn_dtree[2*e]=0;for(e=0;e<w;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*P]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Q(t){t.bi_valid>8?H(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function tt(t,e,r,i){Q(t),i&&(H(t,r),H(t,~r)),s.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function te(t,e,r,i){var n=2*e,a=2*r;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[r]}function tr(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&te(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!te(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function ti(t,e,r){var i,n,a,s,o=0;if(0!==t.last_lit)do i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?q(t,n,e):(q(t,(a=F[n])+b+1,e),0!==(s=I[a])&&W(t,n-=j[a],s),q(t,a=V(--i),r),0!==(s=B[a])&&W(t,i-=U[a],s));while(o<t.last_lit);q(t,P,e)}function tn(t,e){var r,i,n,a=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(r=0,t.heap_len=0,t.heap_max=x;r<l;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)tr(t,a,r);n=l;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],tr(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,a[2*n]=a[2*r]+a[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,a[2*r+1]=a[2*i+1]=n,t.heap[1]=n++,tr(t,a,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],X(t,e),Z(a,h,t.bl_count)}function ta(t,e,r){var i,n,a=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[(r+1)*2+1]=65535,i=0;i<=r;i++)n=s,s=e[(i+1)*2+1],++o<l&&n===s||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[2*k]++):o<=10?t.bl_tree[2*A]++:t.bl_tree[2*T]++,o=0,a=n,0===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4))}function ts(t,e,r){var i,n,a=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),i=0;i<=r;i++)if(n=s,s=e[(i+1)*2+1],!(++o<l)||n!==s){if(o<h)do q(t,n,t.bl_tree);while(0!=--o);else 0!==n?(n!==a&&(q(t,n,t.bl_tree),o--),q(t,k,t.bl_tree),W(t,o-3,2)):o<=10?(q(t,A,t.bl_tree),W(t,o-3,3)):(q(t,T,t.bl_tree),W(t,o-11,7));o=0,a=n,0===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4)}}function to(t){var e;for(ta(t,t.dyn_ltree,t.l_desc.max_code),ta(t,t.dyn_dtree,t.d_desc.max_code),tn(t,t.bl_desc),e=w-1;e>=3&&0===t.bl_tree[2*O[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function tl(t,e,r,i){var n;for(W(t,e-257,5),W(t,r-1,5),W(t,i-4,4),n=0;n<i;n++)W(t,t.bl_tree[2*O[n]+1],3);ts(t,t.dyn_ltree,e-1),ts(t,t.dyn_dtree,r-1)}function th(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return l;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<b;e++)if(0!==t.dyn_ltree[2*e])return h;return l}f(U);var tu=!1;function tf(t){tu||(J(),tu=!0),t.l_desc=new G(t.dyn_ltree,i),t.d_desc=new G(t.dyn_dtree,n),t.bl_desc=new G(t.bl_tree,a),t.bi_buf=0,t.bi_valid=0,K(t)}function tc(t,e,r,i){W(t,(c<<1)+(i?1:0),3),tt(t,e,r,!0)}function td(t){W(t,d<<1,3),q(t,P,D),$(t)}function tp(t,e,r,i){var n,a,s=0;t.level>0?(t.strm.data_type===u&&(t.strm.data_type=th(t)),tn(t,t.l_desc),tn(t,t.d_desc),s=to(t),n=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=n&&(n=a)):n=a=r+5,r+4<=n&&-1!==e?tc(t,e,r,i):t.strategy===o||a===n?(W(t,(d<<1)+(i?1:0),3),ti(t,D,R)):(W(t,(p<<1)+(i?1:0),3),tl(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),ti(t,t.dyn_ltree,t.dyn_dtree)),K(t),i&&Q(t)}function tm(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[(F[r]+b+1)*2]++,t.dyn_dtree[2*V(e)]++),t.last_lit===t.lit_bufsize-1}e._tr_init=tf,e._tr_stored_block=tc,e._tr_flush_block=tp,e._tr_tally=tm,e._tr_align=td},46019:t=>{"use strict";function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=e},11780:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Deferred=void 0;class r{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((t,e)=>{this.reject=e,this.resolve=t})}}e.Deferred=r},52784:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EndOfStreamError=e.defaultMessages=void 0,e.defaultMessages="End-Of-Stream";class r extends Error{constructor(){super(e.defaultMessages)}}e.EndOfStreamError=r},55606:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;let i=r(52784),n=r(11780);var a=r(52784);Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}});let s=1048576;class o{constructor(t){if(this.s=t,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!t.read||!t.once)throw Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new i.EndOfStreamError)),this.s.once("error",t=>this.reject(t)),this.s.once("close",()=>this.reject(Error("Stream closed")))}async peek(t,e,r){let i=await this.read(t,e,r);return this.peekQueue.push(t.subarray(e,e+i)),i}async read(t,e,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new i.EndOfStreamError;let n=r,a=0;for(;this.peekQueue.length>0&&n>0;){let r=this.peekQueue.pop();if(!r)throw Error("peekData should be defined");let i=Math.min(r.length,n);t.set(r.subarray(0,i),e+a),a+=i,n-=i,i<r.length&&this.peekQueue.push(r.subarray(i))}for(;n>0&&!this.endOfStream;){let r=Math.min(n,s),i=await this.readFromStream(t,e+a,r);if(a+=i,i<r)break;n-=i}return a}async readFromStream(t,e,r){let i=this.s.read(r);if(i)return t.set(i,e),i.length;{let i={buffer:t,offset:e,length:r,deferred:new n.Deferred};return this.deferred=i.deferred,this.s.once("readable",()=>{this.readDeferred(i)}),i.deferred.promise}}readDeferred(t){let e=this.s.read(t.length);e?(t.buffer.set(e,t.offset),t.deferred.resolve(e.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(t)})}reject(t){this.endOfStream=!0,this.deferred&&(this.deferred.reject(t),this.deferred=null)}}e.StreamReader=o},16021:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;var i=r(52784);Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}});var n=r(55606);Object.defineProperty(e,"StreamReader",{enumerable:!0,get:function(){return n.StreamReader}})},25929:(t,e,r)=>{"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=r(13685),a=r(95687),s=r(57310),o=r(63477),l=r(15206),h=r(73837),u=function(t,e){if("string"!=typeof t&&!t.hasOwnProperty("url"))throw Error("Missing url option from options for request method.");var r=(void 0===t?"undefined":i(t))==="object"?s.parse(t.url):s.parse(t),h={hostname:r.hostname,port:r.port||("http:"===r.protocol.toLowerCase()?80:443),path:r.path,method:"GET",headers:{},auth:r.auth||null,parse:"none",stream:!1};if((void 0===t?"undefined":i(t))==="object"&&(h=Object.assign(h,t)),h.port=Number(h.port),h.hasOwnProperty("timeout")&&delete h.timeout,!0===h.compressed&&(h.headers["accept-encoding"]="gzip, deflate"),t.hasOwnProperty("form")){if("object"!==i(t.form))throw Error("phin 'form' option must be of type Object if present.");var u=o.stringify(t.form);h.headers["Content-Type"]="application/x-www-form-urlencoded",h.headers["Content-Length"]=Buffer.byteLength(u),t.data=u}var f=void 0,c=function(t){var r=t;!0===h.compressed&&("gzip"===t.headers["content-encoding"]?r=t.pipe(l.createGunzip()):"deflate"===t.headers["content-encoding"]&&(r=t.pipe(l.createInflate()))),!0===h.stream?(t.stream=r,e&&e(null,t)):(t.body=new Buffer([]),r.on("data",function(e){t.body=Buffer.concat([t.body,e])}),r.on("end",function(){if(e){if("json"===h.parse)try{t.body=JSON.parse(t.body.toString())}catch(r){e("Invalid JSON received.",t);return}e(null,t)}}))};switch(r.protocol.toLowerCase()){case"http:":f=n.request(h,c);break;case"https:":f=a.request(h,c);break;default:e&&e(Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if("number"==typeof t.timeout&&f.setTimeout(t.timeout,function(){f.abort(),e&&e(Error("Timeout has been reached."),null),e=null}),f.on("error",function(t){e&&e(t,null)}),t.hasOwnProperty("data")){var d=t.data;if(!(t.data instanceof Buffer)&&"object"===i(t.data)){if("application/x-www-form-urlencoded"===(h.headers["content-type"]||h.headers["Content-Type"]))d=o.stringify(t.data);else try{d=JSON.stringify(t.data)}catch(t){e&&e(Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}f.write(d)}f.end()};u.promisified=function(t,e){return new Promise(function(r,i){u(t,function(t,e){t?i(t):r(e)},e)})},h.promisify&&(u[h.promisify.custom]=u.promisified),t.exports=u},30364:t=>{"use strict";function e(t,e,n,a,s,u){u||(u={});for(var f=void 0===u.threshold?.1:u.threshold,c=35215*f*f,d=0,p=0;p<s;p++)for(var m=0;m<a;m++){var g=(p*a+m)*4;if(i(t,e,g,g)>c)!u.includeAA&&(r(t,m,p,a,s,e)||r(e,m,p,a,s,t))?n&&l(n,g,255,255,0):(n&&l(n,g,255,0,0),d++);else if(n){var v=o(h(t,g),.1);l(n,g,v,v,v)}}return d}function r(t,e,n,a,s,o){for(var l,h,u,f,c=Math.max(e-1,0),d=Math.max(n-1,0),p=Math.min(e+1,a-1),m=Math.min(n+1,s-1),g=(n*a+e)*4,v=0,b=0,_=0,y=0,w=0,x=c;x<=p;x++)for(var M=d;M<=m;M++)if(x!==e||M!==n){var S=i(t,t,g,(M*a+x)*4,!0);if(0===S?v++:S<0?_++:S>0&&b++,v>2)return!1;o&&(S<y&&(y=S,l=x,h=M),S>w&&(w=S,u=x,f=M))}return!o||0!==_&&0!==b&&(!r(t,l,h,a,s)&&!r(o,l,h,a,s)||!r(t,u,f,a,s)&&!r(o,u,f,a,s))}function i(t,e,r,i,l){var h=t[r+3]/255,u=e[i+3]/255,f=o(t[r+0],h),c=o(t[r+1],h),d=o(t[r+2],h),p=o(e[i+0],u),m=o(e[i+1],u),g=o(e[i+2],u),v=n(f,c,d)-n(p,m,g);if(l)return v;var b=a(f,c,d)-a(p,m,g),_=s(f,c,d)-s(p,m,g);return .5053*v*v+.299*b*b+.1957*_*_}function n(t,e,r){return .29889531*t+.58662247*e+.11448223*r}function a(t,e,r){return .59597799*t-.2741761*e-.32180189*r}function s(t,e,r){return .21147017*t-.52261711*e+.31114694*r}function o(t,e){return 255+(t-255)*e}function l(t,e,r,i,n){t[e+0]=r,t[e+1]=i,t[e+2]=n,t[e+3]=255}function h(t,e){var r=t[e+3]/255;return n(o(t[e+0],r),o(t[e+1],r),o(t[e+2],r))}t.exports=e},1349:(t,e,r)=>{"use strict";var i=r(41289),n=[function(){},function(t,e,r,i){if(i===e.length)throw Error("Ran out of data");var n=e[i];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=255},function(t,e,r,i){if(i+1>=e.length)throw Error("Ran out of data");var n=e[i];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=e[i+1]},function(t,e,r,i){if(i+2>=e.length)throw Error("Ran out of data");t[r]=e[i],t[r+1]=e[i+1],t[r+2]=e[i+2],t[r+3]=255},function(t,e,r,i){if(i+3>=e.length)throw Error("Ran out of data");t[r]=e[i],t[r+1]=e[i+1],t[r+2]=e[i+2],t[r+3]=e[i+3]}],a=[function(){},function(t,e,r,i){var n=e[0];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=i},function(t,e,r){var i=e[0];t[r]=i,t[r+1]=i,t[r+2]=i,t[r+3]=e[1]},function(t,e,r,i){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=i},function(t,e,r){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3]}];function s(t,e){var r=[],i=0;function n(){if(i===t.length)throw Error("Ran out of data");var n,a,s,o,l,h,u,f,c=t[i];switch(i++,e){default:throw Error("unrecognised depth");case 16:u=t[i],i++,r.push((c<<8)+u);break;case 4:u=15&c,f=c>>4,r.push(f,u);break;case 2:l=3&c,h=c>>2&3,u=c>>4&3,f=c>>6&3,r.push(f,u,h,l);break;case 1:n=1&c,a=c>>1&1,s=c>>2&1,o=c>>3&1,l=c>>4&1,h=c>>5&1,u=c>>6&1,f=c>>7&1,r.push(f,u,h,l,o,s,a,n)}}return{get:function(t){for(;r.length<t;)n();var e=r.slice(0,t);return r=r.slice(t),e},resetAfterLine:function(){r.length=0},end:function(){if(i!==t.length)throw Error("extra data found")}}}function o(t,e,r,i,a,s){for(var o=t.width,l=t.height,h=t.index,u=0;u<l;u++)for(var f=0;f<o;f++){var c=r(f,u,h);n[i](e,a,c,s),s+=i}return s}function l(t,e,r,i,n,s){for(var o=t.width,l=t.height,h=t.index,u=0;u<l;u++){for(var f=0;f<o;f++){var c=n.get(i),d=r(f,u,h);a[i](e,c,d,s)}n.resetAfterLine()}}e.dataToBitMap=function(t,e){var r,n,a,h=e.width,u=e.height,f=e.depth,c=e.bpp,d=e.interlace;if(8!==f)var p=s(t,f);r=f<=8?new Buffer(h*u*4):new Uint16Array(h*u*4);var m=Math.pow(2,f)-1,g=0;if(d)n=i.getImagePasses(h,u),a=i.getInterlaceIterator(h,u);else{var v=0;a=function(){var t=v;return v+=4,t},n=[{width:h,height:u}]}for(var b=0;b<n.length;b++)8===f?g=o(n[b],r,a,c,t,g):l(n[b],r,a,c,p,m);if(8===f){if(g!==t.length)throw Error("extra data found")}else p.end();return r}},23333:(t,e,r)=>{"use strict";var i=r(2949);t.exports=function(t,e,r,n){var a=-1!==[i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(n.colorType);if(n.colorType===n.inputColorType){var s=function(){var t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256!==new Int16Array(t)[0]}();if(8===n.bitDepth||16===n.bitDepth&&s)return t}var o=16!==n.bitDepth?t:new Uint16Array(t.buffer),l=255,h=i.COLORTYPE_TO_BPP_MAP[n.inputColorType];4!==h||n.inputHasAlpha||(h=3);var u=i.COLORTYPE_TO_BPP_MAP[n.colorType];16===n.bitDepth&&(l=65535,u*=2);var f=new Buffer(e*r*u),c=0,d=0,p=n.bgColor||{};function m(){var t,e,r,s=l;switch(n.inputColorType){case i.COLORTYPE_COLOR_ALPHA:s=o[c+3],t=o[c],e=o[c+1],r=o[c+2];break;case i.COLORTYPE_COLOR:t=o[c],e=o[c+1],r=o[c+2];break;case i.COLORTYPE_ALPHA:s=o[c+1],e=t=o[c],r=t;break;case i.COLORTYPE_GRAYSCALE:e=t=o[c],r=t;break;default:throw Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&!a&&(s/=l,t=Math.min(Math.max(Math.round((1-s)*p.red+s*t),0),l),e=Math.min(Math.max(Math.round((1-s)*p.green+s*e),0),l),r=Math.min(Math.max(Math.round((1-s)*p.blue+s*r),0),l)),{red:t,green:e,blue:r,alpha:s}}void 0===p.red&&(p.red=l),void 0===p.green&&(p.green=l),void 0===p.blue&&(p.blue=l);for(var g=0;g<r;g++)for(var v=0;v<e;v++){var b=m(o,c);switch(n.colorType){case i.COLORTYPE_COLOR_ALPHA:case i.COLORTYPE_COLOR:8===n.bitDepth?(f[d]=b.red,f[d+1]=b.green,f[d+2]=b.blue,a&&(f[d+3]=b.alpha)):(f.writeUInt16BE(b.red,d),f.writeUInt16BE(b.green,d+2),f.writeUInt16BE(b.blue,d+4),a&&f.writeUInt16BE(b.alpha,d+6));break;case i.COLORTYPE_ALPHA:case i.COLORTYPE_GRAYSCALE:var _=(b.red+b.green+b.blue)/3;8===n.bitDepth?(f[d]=_,a&&(f[d+1]=b.alpha)):(f.writeUInt16BE(_,d),a&&f.writeUInt16BE(b.alpha,d+2));break;default:throw Error("unrecognised color Type "+n.colorType)}c+=h,d+=u}return f}},32506:(t,e,r)=>{"use strict";var i=r(73837),n=r(12781),a=t.exports=function(){n.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(a,n),a.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),process.nextTick((function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},a.prototype.write=function(t,e){var r;return this.writable?(Buffer.isBuffer(t)?r=t:r=new Buffer(t,e||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",Error("Stream not writable")),!1)},a.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",Error("Unexpected end of input")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(t){this._reads.shift();var e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},a.prototype._processRead=function(t){this._reads.shift();for(var e=0,r=0,i=new Buffer(t.length);e<t.length;){var n=this._buffers[r++],a=Math.min(n.length,t.length-e);n.copy(i,e,0,a),e+=a,a!==n.length&&(this._buffers[--r]=n.slice(a))}r>0&&this._buffers.splice(0,r),this._buffered-=t.length,t.func.call(this,i)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else if(this._buffered>=t.length)this._processRead(t);else break}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}}},2949:t=>{"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},44747:t=>{"use strict";var e=[];!function(){for(var t=0;t<256;t++){for(var r=t,i=0;i<8;i++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}}();var r=t.exports=function(){this._crc=-1};r.prototype.write=function(t){for(var r=0;r<t.length;r++)this._crc=e[(this._crc^t[r])&255]^this._crc>>>8;return!0},r.prototype.crc32=function(){return -1^this._crc},r.crc32=function(t){for(var r=-1,i=0;i<t.length;i++)r=e[(r^t[i])&255]^r>>>8;return -1^r}},84734:(t,e,r)=>{"use strict";var i=r(21008),n={0:function(t,e,r,i,n){for(var a=0;a<r;a++)i[n+a]=t[e+a]},1:function(t,e,r,i,n,a){for(var s=0;s<r;s++){var o=s>=a?t[e+s-a]:0,l=t[e+s]-o;i[n+s]=l}},2:function(t,e,r,i,n){for(var a=0;a<r;a++){var s=e>0?t[e+a-r]:0,o=t[e+a]-s;i[n+a]=o}},3:function(t,e,r,i,n,a){for(var s=0;s<r;s++){var o=s>=a?t[e+s-a]:0,l=e>0?t[e+s-r]:0,h=t[e+s]-(o+l>>1);i[n+s]=h}},4:function(t,e,r,n,a,s){for(var o=0;o<r;o++){var l=o>=s?t[e+o-s]:0,h=e>0?t[e+o-r]:0,u=e>0&&o>=s?t[e+o-(r+s)]:0,f=t[e+o]-i(l,h,u);n[a+o]=f}}},a={0:function(t,e,r){for(var i=0,n=e+r,a=e;a<n;a++)i+=Math.abs(t[a]);return i},1:function(t,e,r,i){for(var n=0,a=0;a<r;a++){var s=a>=i?t[e+a-i]:0;n+=Math.abs(t[e+a]-s)}return n},2:function(t,e,r){for(var i=0,n=e+r,a=e;a<n;a++){var s=e>0?t[a-r]:0;i+=Math.abs(t[a]-s)}return i},3:function(t,e,r,i){for(var n=0,a=0;a<r;a++){var s=a>=i?t[e+a-i]:0,o=e>0?t[e+a-r]:0;n+=Math.abs(t[e+a]-(s+o>>1))}return n},4:function(t,e,r,n){for(var a=0,s=0;s<r;s++){var o=s>=n?t[e+s-n]:0,l=e>0?t[e+s-r]:0,h=e>0&&s>=n?t[e+s-(r+n)]:0;a+=Math.abs(t[e+s]-i(o,l,h))}return a}};t.exports=function(t,e,r,i,s){if("filterType"in i&&-1!==i.filterType){if("number"==typeof i.filterType)o=[i.filterType];else throw Error("unrecognised filter types")}else o=[0,1,2,3,4];16===i.bitDepth&&(s*=2);for(var o,l=e*s,h=0,u=0,f=new Buffer((l+1)*r),c=o[0],d=0;d<r;d++){if(o.length>1)for(var p=1/0,m=0;m<o.length;m++){var g=a[o[m]](t,u,l,s);g<p&&(c=o[m],p=g)}f[h]=c,h++,n[c](t,u,l,f,h,s),h+=l,u+=l}return f}},69376:(t,e,r)=>{"use strict";var i=r(73837),n=r(32506),a=r(61569),s=t.exports=function(t){n.call(this);var e=[],r=this;this._filter=new a(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){r.emit("complete",Buffer.concat(e))}}),this._filter.start()};i.inherits(s,n)},45309:(t,e,r)=>{"use strict";var i=r(83381),n=r(61569);e.process=function(t,e){var r=[],a=new i(t);return new n(e,{read:a.read.bind(a),write:function(t){r.push(t)},complete:function(){}}).start(),a.process(),Buffer.concat(r)}},61569:(t,e,r)=>{"use strict";var i=r(41289),n=r(21008);function a(t,e,r){var i=t*e;return 8!==r&&(i=Math.ceil(i/(8/r))),i}var s=t.exports=function(t,e){var r=t.width,n=t.height,s=t.interlace,o=t.bpp,l=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],s)for(var h=i.getImagePasses(r,n),u=0;u<h.length;u++)this._images.push({byteWidth:a(h[u].width,o,l),height:h[u].height,lineIndex:0});else this._images.push({byteWidth:a(r,o,l),height:n,lineIndex:0});8===l?this._xComparison=o:16===l?this._xComparison=2*o:this._xComparison=1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(t,e,r){for(var i=this._xComparison,n=i-1,a=0;a<r;a++){var s=t[1+a],o=a>n?e[a-i]:0;e[a]=s+o}},s.prototype._unFilterType2=function(t,e,r){for(var i=this._lastLine,n=0;n<r;n++){var a=t[1+n],s=i?i[n]:0;e[n]=a+s}},s.prototype._unFilterType3=function(t,e,r){for(var i=this._xComparison,n=i-1,a=this._lastLine,s=0;s<r;s++){var o=t[1+s],l=a?a[s]:0,h=Math.floor(((s>n?e[s-i]:0)+l)/2);e[s]=o+h}},s.prototype._unFilterType4=function(t,e,r){for(var i=this._xComparison,a=i-1,s=this._lastLine,o=0;o<r;o++){var l=t[1+o],h=s?s[o]:0,u=n(o>a?e[o-i]:0,h,o>a&&s?s[o-i]:0);e[o]=l+u}},s.prototype._reverseFilterLine=function(t){var e,r=t[0],i=this._images[this._imageIndex],n=i.byteWidth;if(0===r)e=t.slice(1,n+1);else switch(e=new Buffer(n),r){case 1:this._unFilterType1(t,e,n);break;case 2:this._unFilterType2(t,e,n);break;case 3:this._unFilterType3(t,e,n);break;case 4:this._unFilterType4(t,e,n);break;default:throw Error("Unrecognised filter type - "+r)}this.write(e),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=e,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}},99794:t=>{"use strict";function e(t,e,r,i,n){for(var a=0,s=0;s<i;s++)for(var o=0;o<r;o++){var l=n[t[a]];if(!l)throw Error("index "+t[a]+" not in palette");for(var h=0;h<4;h++)e[a+h]=l[h];a+=4}}function r(t,e,r,i,n){for(var a=0,s=0;s<i;s++)for(var o=0;o<r;o++){var l=!1;if(1===n.length?n[0]===t[a]&&(l=!0):n[0]===t[a]&&n[1]===t[a+1]&&n[2]===t[a+2]&&(l=!0),l)for(var h=0;h<4;h++)e[a+h]=0;a+=4}}function i(t,e,r,i,n){for(var a=255,s=Math.pow(2,n)-1,o=0,l=0;l<i;l++)for(var h=0;h<r;h++){for(var u=0;u<4;u++)e[o+u]=Math.floor(t[o+u]*a/s+.5);o+=4}}t.exports=function(t,n){var a=n.depth,s=n.width,o=n.height,l=n.colorType,h=n.transColor,u=n.palette,f=t;return 3===l?e(t,f,s,o,u):(h&&r(t,f,s,o,h),8!==a&&(16===a&&(f=new Buffer(s*o*4)),i(t,f,s,o,a))),f}},41289:(t,e)=>{"use strict";var r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];e.getImagePasses=function(t,e){for(var i=[],n=t%8,a=e%8,s=(t-n)/8,o=(e-a)/8,l=0;l<r.length;l++){for(var h=r[l],u=s*h.x.length,f=o*h.y.length,c=0;c<h.x.length;c++)if(h.x[c]<n)u++;else break;for(c=0;c<h.y.length;c++)if(h.y[c]<a)f++;else break;u>0&&f>0&&i.push({width:u,height:f,index:l})}return i},e.getInterlaceIterator=function(t){return function(e,i,n){var a=e%r[n].x.length,s=(e-a)/r[n].x.length*8+r[n].x[a],o=i%r[n].y.length;return 4*s+((i-o)/r[n].y.length*8+r[n].y[o])*t*4}}},72243:(t,e,r)=>{"use strict";var i=r(73837),n=r(12781),a=r(2949),s=r(71274),o=t.exports=function(t){n.call(this);var e=t||{};this._packer=new s(e),this._deflate=this._packer.createDeflate(),this.readable=!0};i.inherits(o,n),o.prototype.pack=function(t,e,r,i){this.emit("data",new Buffer(a.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),i&&this.emit("data",this._packer.packGAMA(i));var n=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(t){this.emit("data",this._packer.packIDAT(t))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(n)}},80100:(t,e,r)=>{"use strict";var i=!0,n=r(15206);n.deflateSync||(i=!1);var a=r(2949),s=r(71274);t.exports=function(t,e){if(!i)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var r=new s(e||{}),o=[];o.push(new Buffer(a.PNG_SIGNATURE)),o.push(r.packIHDR(t.width,t.height)),t.gamma&&o.push(r.packGAMA(t.gamma));var l=r.filterData(t.data,t.width,t.height),h=n.deflateSync(l,r.getDeflateOptions());if(l=null,!h||!h.length)throw Error("bad png - invalid compressed data response");return o.push(r.packIDAT(h)),o.push(r.packIEND()),Buffer.concat(o)}},71274:(t,e,r)=>{"use strict";var i=r(2949),n=r(44747),a=r(23333),s=r(84734),o=r(15206),l=t.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||o.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:i.COLORTYPE_COLOR_ALPHA,t.inputColorType="number"==typeof t.inputColorType?t.inputColorType:i.COLORTYPE_COLOR_ALPHA,-1===[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(t.colorType))throw Error("option color type:"+t.colorType+" is not supported at present");if(-1===[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw Error("option input color type:"+t.inputColorType+" is not supported at present");if(8!==t.bitDepth&&16!==t.bitDepth)throw Error("option bit depth:"+t.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(t,e,r){var n=a(t,e,r,this._options),o=i.COLORTYPE_TO_BPP_MAP[this._options.colorType];return s(n,e,r,this._options,o)},l.prototype._packChunk=function(t,e){var r=e?e.length:0,i=new Buffer(r+12);return i.writeUInt32BE(r,0),i.writeUInt32BE(t,4),e&&e.copy(i,8),i.writeInt32BE(n.crc32(i.slice(4,i.length-4)),i.length-4),i},l.prototype.packGAMA=function(t){var e=new Buffer(4);return e.writeUInt32BE(Math.floor(t*i.GAMMA_DIVISION),0),this._packChunk(i.TYPE_gAMA,e)},l.prototype.packIHDR=function(t,e){var r=new Buffer(13);return r.writeUInt32BE(t,0),r.writeUInt32BE(e,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(i.TYPE_IHDR,r)},l.prototype.packIDAT=function(t){return this._packChunk(i.TYPE_IDAT,t)},l.prototype.packIEND=function(){return this._packChunk(i.TYPE_IEND,null)}},21008:t=>{"use strict";t.exports=function(t,e,r){var i=t+e-r,n=Math.abs(i-t),a=Math.abs(i-e),s=Math.abs(i-r);return n<=a&&n<=s?t:a<=s?e:r}},2336:(t,e,r)=>{"use strict";var i=r(73837),n=r(15206),a=r(32506),s=r(69376),o=r(801),l=r(1349),h=r(99794),u=t.exports=function(t){a.call(this),this._parser=new o(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};i.inherits(u,a),u.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},u.prototype._inflateData=function(t){if(!this._inflate){if(this._bitmapInfo.interlace)this._inflate=n.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var e=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,r=Math.max(e,n.Z_MIN_CHUNK);this._inflate=n.createInflate({chunkSize:r});var i=e,a=this.emit.bind(this,"error");this._inflate.on("error",function(t){i&&a(t)}),this._filter.on("complete",this._complete.bind(this));var s=this._filter.write.bind(this._filter);this._inflate.on("data",function(t){i&&(t.length>i&&(t=t.slice(0,i)),i-=t.length,s(t))}),this._inflate.on("end",this._filter.end.bind(this._filter))}}this._inflate.write(t)},u.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new s(this._bitmapInfo)},u.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},u.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},u.prototype._simpleTransparency=function(){this._metaData.alpha=!0},u.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},u.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},u.prototype._complete=function(t){if(!this.errord){try{var e=l.dataToBitMap(t,this._bitmapInfo),r=h(e,this._bitmapInfo);e=null}catch(t){this._handleError(t);return}this.emit("parsed",r)}}},50369:(t,e,r)=>{"use strict";var i=!0,n=r(15206),a=r(31102);n.deflateSync||(i=!1);var s=r(83381),o=r(45309),l=r(801),h=r(1349),u=r(99794);t.exports=function(t,e){if(!i)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");function r(t){g=t}function f(t){v=t}function c(t){v.transColor=t}function d(t){v.palette=t}function p(){v.alpha=!0}function m(t){b=t}var g,v,b,_,y=[];function w(t){y.push(t)}var x=new s(t);if(new l(e,{read:x.read.bind(x),error:r,metadata:f,gamma:m,palette:d,transColor:c,inflateData:w,simpleTransparency:p}).start(),x.process(),g)throw g;var M=Buffer.concat(y);if(y.length=0,v.interlace)_=n.inflateSync(M);else{var S=((v.width*v.bpp*v.depth+7>>3)+1)*v.height;_=a(M,{chunkSize:S,maxLength:S})}if(M=null,!_||!_.length)throw Error("bad png - invalid inflate data response");var E=o.process(_,v);M=null;var P=h.dataToBitMap(E,v);E=null;var k=u(P,v);return v.data=k,v.gamma=b||0,v}},801:(t,e,r)=>{"use strict";var i=r(2949),n=r(44747),a=t.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[i.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[i.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[i.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[i.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[i.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[i.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};a.prototype.start=function(){this.read(i.PNG_SIGNATURE.length,this._parseSignature.bind(this))},a.prototype._parseSignature=function(t){for(var e=i.PNG_SIGNATURE,r=0;r<e.length;r++)if(t[r]!==e[r]){this.error(Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},a.prototype._parseChunkBegin=function(t){for(var e=t.readUInt32BE(0),r=t.readUInt32BE(4),a="",s=4;s<8;s++)a+=String.fromCharCode(t[s]);var o=!!(32&t[4]);if(!this._hasIHDR&&r!==i.TYPE_IHDR){this.error(Error("Expected IHDR on beggining"));return}if(this._crc=new n,this._crc.write(new Buffer(a)),this._chunks[r])return this._chunks[r](e);if(!o){this.error(Error("Unsupported critical chunk type "+a));return}this.read(e+4,this._skipChunk.bind(this))},a.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},a.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==e){this.error(Error("Crc error - "+e+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},a.prototype._parseIHDR=function(t){this._crc.write(t);var e=t.readUInt32BE(0),r=t.readUInt32BE(4),n=t[8],a=t[9],s=t[10],o=t[11],l=t[12];if(8!==n&&4!==n&&2!==n&&1!==n&&16!==n){this.error(Error("Unsupported bit depth "+n));return}if(!(a in i.COLORTYPE_TO_BPP_MAP)){this.error(Error("Unsupported color type"));return}if(0!==s){this.error(Error("Unsupported compression method"));return}if(0!==o){this.error(Error("Unsupported filter method"));return}if(0!==l&&1!==l){this.error(Error("Unsupported interlace method"));return}this._colorType=a;var h=i.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:r,depth:n,interlace:!!l,palette:!!(a&i.COLORTYPE_PALETTE),color:!!(a&i.COLORTYPE_COLOR),alpha:!!(a&i.COLORTYPE_ALPHA),bpp:h,colorType:a}),this._handleChunkEnd()},a.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},a.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),r=0;r<e;r++)this._palette.push([t[3*r],t[3*r+1],t[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},a.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},a.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===i.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length){this.error(Error("Transparency chunk must be after palette"));return}if(t.length>this._palette.length){this.error(Error("More transparent colors than palette size"));return}for(var e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===i.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===i.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},a.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},a.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/i.GAMMA_DIVISION),this._handleChunkEnd()},a.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},a.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===i.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw Error("Expected palette not found");this.inflateData(e);var r=t-e.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},a.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},a.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}},20438:(t,e,r)=>{"use strict";var i=r(50369),n=r(80100);e.read=function(t,e){return i(t,e||{})},e.write=function(t,e){return n(t,e)}},81687:(t,e,r)=>{"use strict";var i=r(73837),n=r(12781),a=r(2336),s=r(72243),o=r(20438),l=e.PNG=function(t){n.call(this),t=t||{},this.width=0|t.width,this.height=0|t.height,this.data=this.width>0&&this.height>0?new Buffer(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(t){this.data=t,this.emit("parsed",t)}).bind(this)),this._packer=new s(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(l,n),l.sync=o,l.prototype.pack=function(){return this.data&&this.data.length?process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)):this.emit("error","No data provided"),this},l.prototype.parse=function(t,e){if(e){var r,i;r=(function(t){this.removeListener("error",i),this.data=t,e(null,this)}).bind(this),i=(function(t){this.removeListener("parsed",r),e(t,null)}).bind(this),this.once("parsed",r),this.once("error",i)}return this.end(t),this},l.prototype.write=function(t){return this._parser.write(t),!0},l.prototype.end=function(t){this._parser.end(t)},l.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},l.prototype._gamma=function(t){this.gamma=t},l.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},l.bitblt=function(t,e,r,i,n,a,s,o){if(i|=0,n|=0,a|=0,s|=0,o|=0,(r|=0)>t.width||i>t.height||r+n>t.width||i+a>t.height)throw Error("bitblt reading outside image");if(s>e.width||o>e.height||s+n>e.width||o+a>e.height)throw Error("bitblt writing outside image");for(var l=0;l<a;l++)t.data.copy(e.data,(o+l)*e.width+s<<2,(i+l)*t.width+r<<2,(i+l)*t.width+r+n<<2)},l.prototype.bitblt=function(t,e,r,i,n,a,s){return l.bitblt(this,t,e,r,i,n,a,s),this},l.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var r=0;r<t.width;r++)for(var i=t.width*e+r<<2,n=0;n<3;n++){var a=t.data[i+n]/255;a=Math.pow(a,1/2.2/t.gamma),t.data[i+n]=Math.round(255*a)}t.gamma=0}},l.prototype.adjustGamma=function(){l.adjustGamma(this)}},31102:(t,e,r)=>{"use strict";var i=r(39491).ok,n=r(15206),a=r(73837),s=r(14300).kMaxLength;function o(t){if(!(this instanceof o))return new o(t);t&&t.chunkSize<n.Z_MIN_CHUNK&&(t.chunkSize=n.Z_MIN_CHUNK),n.Inflate.call(this,t),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&null!=t.maxLength&&(this._maxLength=t.maxLength)}function l(t){return new o(t)}function h(t,e){e&&process.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function u(t,e){if("string"==typeof e&&(e=Buffer.from(e)),!(e instanceof Buffer))throw TypeError("Not a string or buffer");var r=t._finishFlushFlag;return null==r&&(r=n.Z_FINISH),t._processChunk(e,r)}function f(t,e){return u(new o(e),t)}o.prototype._processChunk=function(t,e,r){if("function"==typeof r)return n.Inflate._processChunk.call(this,t,e,r);var a,o=this,l=t&&t.length,u=this._chunkSize-this._offset,f=this._maxLength,c=0,d=[],p=0;function m(t,e){if(!o._hadError){var r=u-e;if(i(r>=0,"have should not go down"),r>0){var n=o._buffer.slice(o._offset,o._offset+r);if(o._offset+=r,n.length>f&&(n=n.slice(0,f)),d.push(n),p+=n.length,0==(f-=n.length))return!1}return(0===e||o._offset>=o._chunkSize)&&(u=o._chunkSize,o._offset=0,o._buffer=Buffer.allocUnsafe(o._chunkSize)),0===e&&(c+=l-t,l=t,!0)}}this.on("error",function(t){a=t}),i(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(e,t,c,l,this._buffer,this._offset,u);g=g||this._writeState}while(!this._hadError&&m(g[0],g[1]));if(this._hadError)throw a;if(p>=s)throw h(this),RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");var v=Buffer.concat(d,p);return h(this),v},a.inherits(o,n.Inflate),t.exports=e=f,e.Inflate=o,e.createInflate=l,e.inflateSync=f},83381:t=>{"use strict";var e=t.exports=function(t){this._buffer=t,this._reads=[]};e.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},e.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var t=this._reads[0];if(this._buffer.length&&(this._buffer.length>=t.length||t.allowLess)){this._reads.shift();var e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}else break}return this._reads.length>0?Error("There are some read requests waitng on finished stream"):this._buffer.length>0?Error("unrecognised content at end of stream"):void 0}},57298:(t,e,r)=>{"use strict";r.d(e,{r:()=>h});var i=r(17577),n=r(19985),a=r.n(n),s=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},o=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:t},h=function(t){function e(){var r,i;s(this,e);for(var n=arguments.length,o=Array(n),h=0;h<n;h++)o[h]=arguments[h];return r=i=l(this,t.call.apply(t,[this].concat(o))),i.processImage=function(){i.props.children?i.props.children.props.src&&i.parseImage(i.props.children.props.src,i.props):i.props.src&&"string"==typeof i.props.src&&i.props.src.length>0?i.parseImage(i.props.src,i.props):console.error("Please provide an image url using the 'src' prop or wrap an image element under the <ColorExtractor /> component. Check out the docs for more info - https://goo.gl/rMZ5L7")},i.parseImage=function(t,e){a().from(t).maxColorCount(e.maxColors).getSwatches().then(function(t){return e.getColors(i.getColorsFromSwatches(t,e))}).catch(function(r){r&&i.useDefaultImageClass(t,e)})},i.useDefaultImageClass=function(t,e){new(a()).DefaultOpts.ImageClass().load(t.src).then(function(t){t.image&&a().from(t.image).getSwatches().then(function(t){return e.getColors(i.getColorsFromSwatches(t,e))}).catch(function(t){t&&e.onError(t)})}).catch(function(t){t&&e.onError(t)})},i.getColorsFromSwatches=function(t,e){var r=[];for(var i in t)t.hasOwnProperty(i)&&t[i]&&(e.rgb?r.push(t[i].getRgb()):r.push(t[i].getHex()));return r},l(i,r)}return o(e,t),e.prototype.componentDidMount=function(){this.processImage()},e.prototype.componentDidUpdate=function(t){t.src!==this.props.src&&"string"==typeof this.props.src&&this.props.src.length>0?this.parseImage(this.props.src,this.props):this.props.children&&t.children.props.src!==this.props.children.props.src&&this.parseImage(this.props.children.props.src,this.props)},e.prototype.render=function(){var t=i.Children.count(this.props.children);if(t>1)throw Error("Expected only one image element.");if(1!==t)return null;if("img"===this.props.children.type)return this.props.children;throw Error('Expected children to be an image element but instead got a "'+this.props.children.type+'"')},e}(i.Component);h.defaultProps={onError:function(t){},getColors:function(t){},rgb:!1,hex:!0,src:null,maxColors:64}},66409:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTokenizer=void 0;let i=r(16021);class n{constructor(t){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}async readToken(t,e=this.position){let r=Buffer.alloc(t.len);if(await this.readBuffer(r,{position:e})<t.len)throw new i.EndOfStreamError;return t.get(r,0)}async peekToken(t,e=this.position){let r=Buffer.alloc(t.len);if(await this.peekBuffer(r,{position:e})<t.len)throw new i.EndOfStreamError;return t.get(r,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new i.EndOfStreamError;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new i.EndOfStreamError;return t.get(this.numBuffer,0)}async ignore(t){if(void 0!==this.fileInfo.size){let e=this.fileInfo.size-this.position;if(t>e)return this.position+=e,e}return this.position+=t,t}async close(){}normalizeOptions(t,e){if(e&&void 0!==e.position&&e.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return e?{mayBeLess:!0===e.mayBeLess,offset:e.offset?e.offset:0,length:e.length?e.length:t.length-(e.offset?e.offset:0),position:e.position?e.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}}e.AbstractTokenizer=n},52017:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferTokenizer=void 0;let i=r(16021),n=r(66409);class a extends n.AbstractTokenizer{constructor(t,e){super(e),this.uint8Array=t,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}async readBuffer(t,e){if(e&&e.position){if(e.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=e.position}let r=await this.peekBuffer(t,e);return this.position+=r,r}async peekBuffer(t,e){let r=this.normalizeOptions(t,e),n=Math.min(this.uint8Array.length-r.position,r.length);if(r.mayBeLess||!(n<r.length))return t.set(this.uint8Array.subarray(r.position,r.position+n),r.offset),n;throw new i.EndOfStreamError}async close(){}}e.BufferTokenizer=a},17453:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromFile=e.FileTokenizer=void 0;let i=r(66409),n=r(16021),a=r(70924);class s extends i.AbstractTokenizer{constructor(t,e){super(e),this.fd=t}async readBuffer(t,e){let r=this.normalizeOptions(t,e);this.position=r.position;let i=await a.read(this.fd,t,r.offset,r.length,r.position);if(this.position+=i.bytesRead,i.bytesRead<r.length&&(!e||!e.mayBeLess))throw new n.EndOfStreamError;return i.bytesRead}async peekBuffer(t,e){let r=this.normalizeOptions(t,e),i=await a.read(this.fd,t,r.offset,r.length,r.position);if(!r.mayBeLess&&i.bytesRead<r.length)throw new n.EndOfStreamError;return i.bytesRead}async close(){return a.close(this.fd)}}async function o(t){let e=await a.stat(t);if(!e.isFile)throw Error(`File not a file: ${t}`);return new s(await a.open(t,"r"),{path:t,size:e.size})}e.FileTokenizer=s,e.fromFile=o},70924:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readFile=e.writeFileSync=e.writeFile=e.read=e.open=e.close=e.stat=e.createReadStream=e.pathExists=void 0;let i=r(57147);async function n(t){return new Promise((e,r)=>{i.stat(t,(t,i)=>{t?r(t):e(i)})})}async function a(t){return new Promise((e,r)=>{i.close(t,t=>{t?r(t):e()})})}async function s(t,e){return new Promise((r,n)=>{i.open(t,e,(t,e)=>{t?n(t):r(e)})})}async function o(t,e,r,n,a){return new Promise((s,o)=>{i.read(t,e,r,n,a,(t,e,r)=>{t?o(t):s({bytesRead:e,buffer:r})})})}async function l(t,e){return new Promise((r,n)=>{i.writeFile(t,e,t=>{t?n(t):r()})})}function h(t,e){i.writeFileSync(t,e)}async function u(t){return new Promise((e,r)=>{i.readFile(t,(t,i)=>{t?r(t):e(i)})})}e.pathExists=i.existsSync,e.createReadStream=i.createReadStream,e.stat=n,e.close=a,e.open=s,e.read=o,e.writeFile=l,e.writeFileSync=h,e.readFile=u},60365:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadStreamTokenizer=void 0;let i=r(66409),n=r(16021),a=256e3;class s extends i.AbstractTokenizer{constructor(t,e){super(e),this.streamReader=new n.StreamReader(t)}async getFileInfo(){return this.fileInfo}async readBuffer(t,e){let r=this.normalizeOptions(t,e),i=r.position-this.position;if(i>0)return await this.ignore(i),this.readBuffer(t,e);if(i<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;let a=await this.streamReader.read(t,r.offset,r.length);if(this.position+=a,(!e||!e.mayBeLess)&&a<r.length)throw new n.EndOfStreamError;return a}async peekBuffer(t,e){let r=this.normalizeOptions(t,e),i=0;if(r.position){let e=r.position-this.position;if(e>0){let n=new Uint8Array(r.length+e);return i=await this.peekBuffer(n,{mayBeLess:r.mayBeLess}),t.set(n.subarray(e),r.offset),i-e}if(e<0)throw Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{i=await this.streamReader.peek(t,r.offset,r.length)}catch(t){if(e&&e.mayBeLess&&t instanceof n.EndOfStreamError)return 0;throw t}if(!r.mayBeLess&&i<r.length)throw new n.EndOfStreamError}return i}async ignore(t){let e=Math.min(a,t),r=new Uint8Array(e),i=0;for(;i<t;){let n=t-i,a=await this.readBuffer(r,{length:Math.min(e,n)});if(a<0)return a;i+=a}return i}}e.ReadStreamTokenizer=s},57113:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromBuffer=e.fromStream=e.EndOfStreamError=void 0;let i=r(60365),n=r(52017);var a=r(16021);function s(t,e){return e=e||{},new i.ReadStreamTokenizer(t,e)}function o(t,e){return new n.BufferTokenizer(t,e)}Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),e.fromStream=s,e.fromBuffer=o},5e3:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromStream=e.fromBuffer=e.EndOfStreamError=e.fromFile=void 0;let i=r(70924),n=r(57113);var a=r(17453);Object.defineProperty(e,"fromFile",{enumerable:!0,get:function(){return a.fromFile}});var s=r(57113);async function o(t,e){if(e=e||{},t.path){let r=await i.stat(t.path);e.path=t.path,e.size=r.size}return n.fromStream(t,e)}Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}}),Object.defineProperty(e,"fromBuffer",{enumerable:!0,get:function(){return s.fromBuffer}}),e.fromStream=o},22745:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clone=o,e.addLast=h,e.addFirst=u,e.removeLast=f,e.removeFirst=c,e.insert=d,e.removeAt=p,e.replaceAt=m,e.getIn=g,e.set=v,e.setIn=b,e.update=y,e.updateIn=w,e.merge=x,e.mergeDeep=M,e.mergeIn=S,e.omit=E,e.addDefaults=P,e.default=void 0;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */let r="INVALID_ARGS",i=!1;function n(t){throw Error(t)}function a(t){let e=Object.keys(t);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e}let s={}.hasOwnProperty;function o(t){if(Array.isArray(t))return t.slice();let e=t,r=a(e),i={};for(let t=0;t<r.length;t++){let n=r[t];i[n]=e[n]}return i}function l(t){return null!=t&&"object"==typeof t}function h(t,e){return Array.isArray(e)?t.concat(e):t.concat([e])}function u(t,e){return Array.isArray(e)?e.concat(t):[e].concat(t)}function f(t){return t.length?t.slice(0,t.length-1):t}function c(t){return t.length?t.slice(1):t}function d(t,e,r){return t.slice(0,e).concat(Array.isArray(r)?r:[r]).concat(t.slice(e))}function p(t,e){return e>=t.length||e<0?t:t.slice(0,e).concat(t.slice(e+1))}function m(t,e,r){if(t[e]===r)return t;let i=t.length,n=Array(i);for(let e=0;e<i;e++)n[e]=t[e];return n[e]=r,n}function g(t,e){if(Array.isArray(e)||n(i?"A path array should be provided when calling getIn()":r),null==t)return;let a=t;for(let t=0;t<e.length;t++){let r=e[t];if(void 0===(a=null!=a?a[r]:void 0))break}return a}function v(t,e,r){let i=t;if(null==i&&(i="number"==typeof e?[]:{}),i[e]===r)return i;let n=o(i);return n[e]=r,n}function b(t,e,r){return e.length?_(t,e,r,0):r}function _(t,e,r,i){let n;let a=e[i];return n=i===e.length-1?r:_(l(t)&&l(t[a])?t[a]:"number"==typeof e[i+1]?[]:{},e,r,i+1),v(t,a,n)}function y(t,e,r){let i=r(null==t?void 0:t[e]);return v(t,e,i)}function w(t,e,r){let i=r(g(t,e));return b(t,e,i)}function x(t,e,r,i,n,a,...s){return s.length?k.call(null,!1,!1,t,e,r,i,n,a,...s):k(!1,!1,t,e,r,i,n,a)}function M(t,e,r,i,n,a,...s){return s.length?k.call(null,!1,!0,t,e,r,i,n,a,...s):k(!1,!0,t,e,r,i,n,a)}function S(t,e,r,i,n,a,s,...o){let l,h=g(t,e);return null==h&&(h={}),b(t,e,l=o.length?k.call(null,!1,!1,h,r,i,n,a,s,...o):k(!1,!1,h,r,i,n,a,s))}function E(t,e){let r=Array.isArray(e)?e:[e],i=!1;for(let e=0;e<r.length;e++)if(s.call(t,r[e])){i=!0;break}if(!i)return t;let n={},o=a(t);for(let e=0;e<o.length;e++){let i=o[e];r.indexOf(i)>=0||(n[i]=t[i])}return n}function P(t,e,r,i,n,a,...s){return s.length?k.call(null,!0,!1,t,e,r,i,n,a,...s):k(!0,!1,t,e,r,i,n,a)}function k(t,e,s,...h){let u=s;null!=u||n(i?"At least one object should be provided to merge()":r);let f=!1;for(let r=0;r<h.length;r++){let i=h[r];if(null==i)continue;let n=a(i);if(n.length)for(let r=0;r<=n.length;r++){let a=n[r];if(t&&void 0!==u[a])continue;let s=i[a];e&&l(u[a])&&l(s)&&(s=k(t,e,u[a],s)),void 0!==s&&s!==u[a]&&(f||(f=!0,u=o(u)),u[a]=s)}}return u}var A={clone:o,addLast:h,addFirst:u,removeLast:f,removeFirst:c,insert:d,removeAt:p,replaceAt:m,getIn:g,set:v,setIn:b,update:y,updateIn:w,merge:x,mergeDeep:M,mergeIn:S,omit:E,addDefaults:P};e.default=A},40023:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnsiStringType=e.StringType=e.BufferType=e.Uint8ArrayType=e.IgnoreType=e.Float80_LE=e.Float80_BE=e.Float64_LE=e.Float64_BE=e.Float32_LE=e.Float32_BE=e.Float16_LE=e.Float16_BE=e.INT64_BE=e.UINT64_BE=e.INT64_LE=e.UINT64_LE=e.INT32_LE=e.INT32_BE=e.INT24_BE=e.INT24_LE=e.INT16_LE=e.INT16_BE=e.INT8=e.UINT32_BE=e.UINT32_LE=e.UINT24_BE=e.UINT24_LE=e.UINT16_BE=e.UINT16_LE=e.UINT8=void 0;let i=r(62655);function n(t){return new DataView(t.buffer,t.byteOffset)}e.UINT8={len:1,get:(t,e)=>n(t).getUint8(e),put:(t,e,r)=>(n(t).setUint8(e,r),e+1)},e.UINT16_LE={len:2,get:(t,e)=>n(t).getUint16(e,!0),put:(t,e,r)=>(n(t).setUint16(e,r,!0),e+2)},e.UINT16_BE={len:2,get:(t,e)=>n(t).getUint16(e),put:(t,e,r)=>(n(t).setUint16(e,r),e+2)},e.UINT24_LE={len:3,get(t,e){let r=n(t);return r.getUint8(e)+(r.getUint16(e+1,!0)<<8)},put(t,e,r){let i=n(t);return i.setUint8(e,255&r),i.setUint16(e+1,r>>8,!0),e+3}},e.UINT24_BE={len:3,get(t,e){let r=n(t);return(r.getUint16(e)<<8)+r.getUint8(e+2)},put(t,e,r){let i=n(t);return i.setUint16(e,r>>8),i.setUint8(e+2,255&r),e+3}},e.UINT32_LE={len:4,get:(t,e)=>n(t).getUint32(e,!0),put:(t,e,r)=>(n(t).setUint32(e,r,!0),e+4)},e.UINT32_BE={len:4,get:(t,e)=>n(t).getUint32(e),put:(t,e,r)=>(n(t).setUint32(e,r),e+4)},e.INT8={len:1,get:(t,e)=>n(t).getInt8(e),put:(t,e,r)=>(n(t).setInt8(e,r),e+1)},e.INT16_BE={len:2,get:(t,e)=>n(t).getInt16(e),put:(t,e,r)=>(n(t).setInt16(e,r),e+2)},e.INT16_LE={len:2,get:(t,e)=>n(t).getInt16(e,!0),put:(t,e,r)=>(n(t).setInt16(e,r,!0),e+2)},e.INT24_LE={len:3,get(t,r){let i=e.UINT24_LE.get(t,r);return i>8388607?i-16777216:i},put(t,e,r){let i=n(t);return i.setUint8(e,255&r),i.setUint16(e+1,r>>8,!0),e+3}},e.INT24_BE={len:3,get(t,r){let i=e.UINT24_BE.get(t,r);return i>8388607?i-16777216:i},put(t,e,r){let i=n(t);return i.setUint16(e,r>>8),i.setUint8(e+2,255&r),e+3}},e.INT32_BE={len:4,get:(t,e)=>n(t).getInt32(e),put:(t,e,r)=>(n(t).setInt32(e,r),e+4)},e.INT32_LE={len:4,get:(t,e)=>n(t).getInt32(e,!0),put:(t,e,r)=>(n(t).setInt32(e,r,!0),e+4)},e.UINT64_LE={len:8,get:(t,e)=>n(t).getBigUint64(e,!0),put:(t,e,r)=>(n(t).setBigUint64(e,r,!0),e+8)},e.INT64_LE={len:8,get:(t,e)=>n(t).getBigInt64(e,!0),put:(t,e,r)=>(n(t).setBigInt64(e,r,!0),e+8)},e.UINT64_BE={len:8,get:(t,e)=>n(t).getBigUint64(e),put:(t,e,r)=>(n(t).setBigUint64(e,r),e+8)},e.INT64_BE={len:8,get:(t,e)=>n(t).getBigInt64(e),put:(t,e,r)=>(n(t).setBigInt64(e,r),e+8)},e.Float16_BE={len:2,get(t,e){return i.read(t,e,!1,10,this.len)},put(t,e,r){return i.write(t,r,e,!1,10,this.len),e+this.len}},e.Float16_LE={len:2,get(t,e){return i.read(t,e,!0,10,this.len)},put(t,e,r){return i.write(t,r,e,!0,10,this.len),e+this.len}},e.Float32_BE={len:4,get:(t,e)=>n(t).getFloat32(e),put:(t,e,r)=>(n(t).setFloat32(e,r),e+4)},e.Float32_LE={len:4,get:(t,e)=>n(t).getFloat32(e,!0),put:(t,e,r)=>(n(t).setFloat32(e,r,!0),e+4)},e.Float64_BE={len:8,get:(t,e)=>n(t).getFloat64(e),put:(t,e,r)=>(n(t).setFloat64(e,r),e+8)},e.Float64_LE={len:8,get:(t,e)=>n(t).getFloat64(e,!0),put:(t,e,r)=>(n(t).setFloat64(e,r,!0),e+8)},e.Float80_BE={len:10,get(t,e){return i.read(t,e,!1,63,this.len)},put(t,e,r){return i.write(t,r,e,!1,63,this.len),e+this.len}},e.Float80_LE={len:10,get(t,e){return i.read(t,e,!0,63,this.len)},put(t,e,r){return i.write(t,r,e,!0,63,this.len),e+this.len}};class a{constructor(t){this.len=t}get(t,e){}}e.IgnoreType=a;class s{constructor(t){this.len=t}get(t,e){return t.subarray(e,e+this.len)}}e.Uint8ArrayType=s;class o{constructor(t){this.len=t}get(t,e){return Buffer.from(t.subarray(e,e+this.len))}}e.BufferType=o;class l{constructor(t,e){this.len=t,this.encoding=e}get(t,e){return Buffer.from(t).toString(this.encoding,e,e+this.len)}}e.StringType=l;class h{constructor(t){this.len=t}static decode(t,e,r){let i="";for(let n=e;n<r;++n)i+=h.codePointToString(h.singleByteDecoder(t[n]));return i}static inRange(t,e,r){return e<=t&&t<=r}static codePointToString(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(((t-=65536)>>10)+55296,(1023&t)+56320)}static singleByteDecoder(t){if(h.inRange(t,0,127))return t;let e=h.windows1252[t-128];if(null===e)throw Error("invaliding encoding");return e}get(t,e=0){return h.decode(t,e,e+this.len)}}e.AnsiStringType=h,h.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},53833:(t,e,r)=>{!function(){var e={};function i(){"undefined"==typeof process&&console.log.apply(console,arguments)}t.exports=e,function(t,e){(function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t){this.message="JPEG error: "+t}return t.prototype=Error(),t.prototype.name="JpegError",t.constructor=t}(),i=function(){function t(t,e){this.message=t,this.g=e}return t.prototype=Error(),t.prototype.name="DNLMarkerError",t.constructor=t}();!function(){function n(){this.M=null,this.B=-1}function a(t,e){for(var r,i,n=0,a=[],s=16;0<s&&!t[s-1];)s--;a.push({children:[],index:0});var o,l=a[0];for(r=0;r<s;r++){for(i=0;i<t[r];i++){for((l=a.pop()).children[l.index]=e[n];0<l.index;)l=a.pop();for(l.index++,a.push(l);a.length<=r;)a.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o;n++}r+1<s&&(a.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o)}return a[0].children}function s(t,n,a,s,o,u,f,c,d){function p(){if(0<L)return L--,O>>L&1;if(255===(O=t[n++])){var e=t[n++];if(e){if(220===e&&I){n+=2;var s=t[n++]<<8|t[n++];if(0<s&&s!==a.g)throw new i("Found DNL marker (0xFFDC) while parsing scan data",s)}throw new r("unexpected marker "+(O<<8|e).toString(16))}}return L=7,O>>>7}function m(t){for(;;){if("number"==typeof(t=t[p()]))return t;if("object"!==(void 0===t?"undefined":e(t)))throw new r("invalid huffman sequence")}}function g(t){for(var e=0;0<t;)e=e<<1|p(),t--;return e}function v(t){if(1===t)return 1===p()?1:-1;var e=g(t);return e>=1<<t-1?e:e+(-1<<t)+1}function b(t,e){var r=m(t.D);for(r=0===r?0:v(r),t.a[e]=t.m+=r,r=1;64>r;){var i=m(t.o),n=15&i;if(i>>=4,0===n){if(15>i)break;r+=16}else r+=i,t.a[e+h[r]]=v(n),r++}}function _(t,e){var r=m(t.D);r=0===r?0:v(r)<<d,t.a[e]=t.m+=r}function y(t,e){t.a[e]|=p()<<d}function w(t,e){if(0<D)D--;else for(var r=u;r<=f;){var i=m(t.o),n=15&i;if(i>>=4,0===n){if(15>i){D=g(i)+(1<<i)-1;break}r+=16}else r+=i,t.a[e+h[r]]=v(n)*(1<<d),r++}}function x(t,e){for(var i,n=u,a=0;n<=f;){i=e+h[n];var s=0>t.a[i]?-1:1;switch(R){case 0:if(i=15&(a=m(t.o)),a>>=4,0===i)15>a?(D=g(a)+(1<<a),R=4):(a=16,R=1);else{if(1!==i)throw new r("invalid ACn encoding");E=v(i),R=a?2:3}continue;case 1:case 2:t.a[i]?t.a[i]+=s*(p()<<d):0==--a&&(R=2===R?3:0);break;case 3:t.a[i]?t.a[i]+=s*(p()<<d):(t.a[i]=E<<d,R=0);break;case 4:t.a[i]&&(t.a[i]+=s*(p()<<d))}n++}4===R&&0==--D&&(R=0)}for(var M,S,E,P,k,A,T,I=9<arguments.length&&void 0!==arguments[9]&&arguments[9],B=a.P,C=n,O=0,L=0,D=0,R=0,z=s.length,F=a.S?0===u?0===c?_:y:0===c?w:x:b,j=0,U=1===z?s[0].c*s[0].l:B*a.O;j<U;){var N=o?Math.min(U-j,o):U;for(P=0;P<z;P++)s[P].m=0;if(D=0,1===z){var G=s[0];for(T=0;T<N;T++)F(G,64*((G.c+1)*(j/G.c|0)+j%G.c)),j++}else for(T=0;T<N;T++){for(P=0;P<z;P++)for(M=(G=s[P]).h,S=G.j,k=0;k<S;k++)for(A=0;A<M;A++)F(G,64*((G.c+1)*((j/B|0)*G.j+k)+(j%B*G.h+A)));j++}if(L=0,(G=l(t,n))&&G.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+G.f),n=G.offset),!(G=G&&G.F)||65280>=G)throw new r("marker was not found");if(65488<=G&&65495>=G)n+=2;else break}return(G=l(t,n))&&G.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+G.f),n=G.offset),n-C}function o(t,e){for(var i=e.c,n=e.l,a=new Int16Array(64),s=0;s<n;s++)for(var o=0;o<i;o++){var l=64*((e.c+1)*s+o),h=a,u=e.G,f=e.a;if(!u)throw new r("missing required Quantization Table.");for(var c=0;64>c;c+=8){var d=f[l+c],p=f[l+c+1],m=f[l+c+2],g=f[l+c+3],v=f[l+c+4],b=f[l+c+5],_=f[l+c+6],y=f[l+c+7];if(d*=u[c],0==(p|m|g|v|b|_|y))d=5793*d+512>>10,h[c]=d,h[c+1]=d,h[c+2]=d,h[c+3]=d,h[c+4]=d,h[c+5]=d,h[c+6]=d,h[c+7]=d;else{p*=u[c+1],m*=u[c+2],g*=u[c+3],v*=u[c+4],b*=u[c+5],_*=u[c+6],y*=u[c+7];var w=5793*d+128>>8,x=5793*v+128>>8,M=m,S=_;v=2896*(p-y)+128>>8,y=2896*(p+y)+128>>8,g<<=4,b<<=4,x=(w=w+x+1>>1)-x,d=3784*M+1567*S+128>>8,M=1567*M-3784*S+128>>8,S=d,b=(v=v+b+1>>1)-b,g=(y=y+g+1>>1)-g,S=(w=w+S+1>>1)-S,M=(x=x+M+1>>1)-M,d=2276*v+3406*y+2048>>12,v=3406*v-2276*y+2048>>12,y=d,d=799*g+4017*b+2048>>12,g=4017*g-799*b+2048>>12,b=d,h[c]=w+y,h[c+7]=w-y,h[c+1]=x+b,h[c+6]=x-b,h[c+2]=M+g,h[c+5]=M-g,h[c+3]=S+v,h[c+4]=S-v}}for(u=0;8>u;++u)d=h[u],p=h[u+8],m=h[u+16],g=h[u+24],v=h[u+32],0==(p|m|g|v|(b=h[u+40])|(_=h[u+48])|(y=h[u+56]))?(d=-2040>(d=5793*d+8192>>14)?0:2024<=d?255:d+2056>>4,f[l+u]=d,f[l+u+8]=d,f[l+u+16]=d,f[l+u+24]=d,f[l+u+32]=d,f[l+u+40]=d,f[l+u+48]=d,f[l+u+56]=d):(w=5793*d+2048>>12,x=5793*v+2048>>12,M=m,S=_,v=2896*(p-y)+2048>>12,y=2896*(p+y)+2048>>12,x=(w=(w+x+1>>1)+4112)-x,d=3784*M+1567*S+2048>>12,M=1567*M-3784*S+2048>>12,S=d,b=(v=v+b+1>>1)-b,g=(y=y+g+1>>1)-g,S=(w=w+S+1>>1)-S,M=(x=x+M+1>>1)-M,d=2276*v+3406*y+2048>>12,v=3406*v-2276*y+2048>>12,y=d,d=799*g+4017*b+2048>>12,g=4017*g-799*b+2048>>12,b=d,d=w+y,y=w-y,p=x+b,_=x-b,m=M+g,b=M-g,d=16>d?0:4080<=d?255:d>>4,p=16>p?0:4080<=p?255:p>>4,m=16>m?0:4080<=m?255:m>>4,g=16>(g=S+v)?0:4080<=g?255:g>>4,v=16>(v=S-v)?0:4080<=v?255:v>>4,b=16>b?0:4080<=b?255:b>>4,_=16>_?0:4080<=_?255:_>>4,y=16>y?0:4080<=y?255:y>>4,f[l+u]=d,f[l+u+8]=p,f[l+u+16]=m,f[l+u+24]=g,f[l+u+32]=v,f[l+u+40]=b,f[l+u+48]=_,f[l+u+56]=y)}return e.a}function l(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,i=t.length-1;if(r=r<e?r:e,e>=i)return null;var n=t[e]<<8|t[e+1];if(65472<=n&&65534>=n)return{f:null,F:n,offset:e};for(var a=t[r]<<8|t[r+1];!(65472<=a&&65534>=a);){if(++r>=i)return null;a=t[r]<<8|t[r+1]}return{f:n.toString(16),F:a,offset:r}}var h=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);n.prototype={parse:function(t){function e(){var e=t[d]<<8|t[d+1];return d+=2,e}function n(){var r=e(),i=l(t,r=d+r-2,d);return i&&i.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+i.f),r=i.offset),r=t.subarray(d,r),d+=r.length,r}function u(t){for(var e=Math.ceil(t.v/8/t.s),r=Math.ceil(t.g/8/t.u),i=0;i<t.b.length;i++){k=t.b[i];var n=Math.ceil(Math.ceil(t.v/8)*k.h/t.s),a=Math.ceil(Math.ceil(t.g/8)*k.j/t.u);k.a=new Int16Array(64*r*k.j*(e*k.h+1)),k.c=n,k.l=a}t.P=e,t.O=r}var f=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,c=void 0===f?null:f,d=0,p=null,m=0;f=[];var g=[],v=[],b=e();if(65496!==b)throw new r("SOI not found");for(b=e();65497!==b;){switch(b){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var _,y=n();65518===b&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&(p={version:y[5]<<8|y[6],Y:y[7]<<8|y[8],Z:y[9]<<8|y[10],W:y[11]});break;case 65499:for(b=e()+d-2;d<b;){var w=t[d++],x=new Uint16Array(64);if(0==w>>4)for(y=0;64>y;y++)x[_=h[y]]=t[d++];else if(1==w>>4)for(y=0;64>y;y++)x[_=h[y]]=e();else throw new r("DQT - invalid table spec");f[15&w]=x}break;case 65472:case 65473:case 65474:if(M)throw new r("Only single frame JPEGs supported");e();var M={};for(M.X=65473===b,M.S=65474===b,M.precision=t[d++],b=e(),M.g=c||b,M.v=e(),M.b=[],M.C={},y=t[d++],b=x=w=0;b<y;b++){_=t[d];var S=t[d+1]>>4,E=15&t[d+1];w<S&&(w=S),x<E&&(x=E),S=M.b.push({h:S,j:E,T:t[d+2],G:null}),M.C[_]=S-1,d+=3}M.s=w,M.u=x,u(M);break;case 65476:for(b=2,_=e();b<_;){for(w=t[d++],x=new Uint8Array(16),y=S=0;16>y;y++,d++)S+=x[y]=t[d];for(y=0,E=new Uint8Array(S);y<S;y++,d++)E[y]=t[d];b+=17+S,(0==w>>4?v:g)[15&w]=a(x,E)}break;case 65501:e();var P=e();break;case 65498:for(y=1==++m&&!c,e(),w=t[d++],_=[],b=0;b<w;b++){x=M.C[t[d++]];var k=M.b[x];x=t[d++],k.D=v[x>>4],k.o=g[15&x],_.push(k)}b=t[d++],w=t[d++],x=t[d++];try{var A=s(t,d,M,_,P,b,w,x>>4,15&x,y);d+=A}catch(e){if(e instanceof i)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(t,{N:e.g});throw e}break;case 65500:d+=4;break;case 65535:255!==t[d]&&d--;break;default:if(255===t[d-3]&&192<=t[d-2]&&254>=t[d-2])d-=3;else if((y=l(t,d-2))&&y.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+y.f),d=y.offset;else throw new r("unknown marker "+b.toString(16))}b=e()}for(b=0,this.width=M.v,this.height=M.g,this.A=p,this.b=[];b<M.b.length;b++)(P=f[(k=M.b[b]).T])&&(k.G=P),this.b.push({R:o(M,k),U:k.h/M.s,V:k.j/M.u,c:k.c,l:k.l});this.i=this.b.length},L:function(t,e){var r,i,n=this.width/t,a=this.height/e,s=this.b.length,o=t*e*s,l=new Uint8ClampedArray(o),h=new Uint32Array(t);for(i=0;i<s;i++){var u=this.b[i],f=u.U*n,c=u.V*a,d=i,p=u.R,m=u.c+1<<3;for(r=0;r<t;r++)u=0|r*f,h[r]=(4294967288&u)<<3|7&u;for(f=0;f<e;f++)for(u=m*(4294967288&(u=0|f*c))|(7&u)<<3,r=0;r<t;r++)l[d]=p[u+h[r]],d+=s}if(a=this.M)for(i=0;i<o;)for(n=u=0;u<s;u++,i++,n+=2)l[i]=(l[i]*a[n]>>8)+a[n+1];return l},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(t){for(var e,r,i,n=0,a=t.length;n<a;n+=3)e=t[n],r=t[n+1],i=t[n+2],t[n]=e-179.456+1.402*i,t[n+1]=e+135.459-.344*r-.714*i,t[n+2]=e-226.816+1.772*r;return t},K:function(t){for(var e,r,i,n,a=0,s=0,o=t.length;s<o;s+=4)e=t[s],r=t[s+1],i=t[s+2],n=t[s+3],t[a++]=-122.67195406894+r*(-.0000660635669420364*r+437130475926232e-18*i-54080610064599e-18*e+48449797120281e-17*n-.154362151871126)+i*(-.000957964378445773*i+817076911346625e-18*e-.00477271405408747*n+1.53380253221734)+e*(961250184130688e-18*e-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776),t[a++]=107.268039397724+r*(219927104525741e-19*r-640992018297945e-18*i+659397001245577e-18*e+426105652938837e-18*n-.176491792462875)+i*(-.000778269941513683*i+.00130872261408275*e+770482631801132e-18*n-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665),t[a++]=-20.810012546947+r*(-.000570115196973677*r-263409051004589e-19*i+.0020741088115012*e-.00288260236853442*n+.814272968359295)+i*(-.0000153496057440975*i-132689043961446e-18*e+560833691242812e-18*n-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407);return t.subarray(0,a)},J:function(t){for(var e,r,i,n=0,a=t.length;n<a;n+=4)e=t[n],r=t[n+1],i=t[n+2],t[n]=434.456-e-1.402*i,t[n+1]=119.541-e+.344*r+.714*i,t[n+2]=481.816-e-1.772*r;return t},H:function(t){for(var e,r,i,n,a=0,s=1/255,o=0,l=t.length;o<l;o+=4)e=t[o]*s,r=t[o+1]*s,i=t[o+2]*s,n=t[o+3]*s,t[a++]=255+e*(-4.387332384609988*e+54.48615194189176*r+18.82290502165302*i+212.25662451639585*n-285.2331026137004)+r*(1.7149763477362134*r-5.6096736904047315*i-17.873870861415444*n-5.497006427196366)+i*(-2.5217340131683033*i-21.248923337353073*n+17.5119270841813)-n*(21.86122147463605*n+189.48180835922747),t[a++]=255+e*(8.841041422036149*e+60.118027045597366*r+6.871425592049007*i+31.159100130055922*n-79.2970844816548)+r*(-15.310361306967817*r+17.575251261109482*i+131.35250912493976*n-190.9453302588951)+i*(4.444339102852739*i+9.8632861493405*n-24.86741582555878)-n*(20.737325471181034*n+187.80453709719578),t[a++]=255+e*(.8842522430003296*e+8.078677503112928*r+30.89978309703729*i-.23883238689178934*n-14.183576799673286)+r*(10.49593273432072*r+63.02378494754052*i+50.606957656360734*n-112.23884253719248)+i*(.03296041114873217*i+115.60384449646641*n-193.58209356861505)-n*(22.33816807309886*n+180.12613974708367);return t.subarray(0,a)},getData:function(t,e,i){if(4<this.i)throw new r("Unsupported color mode");if(t=this.L(t,e),1===this.i&&i){e=new Uint8ClampedArray(3*(i=t.length));for(var n=0,a=0;a<i;a++){var s=t[a];e[n++]=s,e[n++]=s,e[n++]=s}return e}if(3===this.i&&this.w())return this.I(t);if(4===this.i){if(this.w())return i?this.K(t):this.J(t);if(i)return this.H(t)}return t}},t.JpegDecoder=n}()})(),t.encodeImage=function(e,r,i,n){var a={t256:[r],t257:[i],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[i],t279:[r*i*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(n)for(var s in n)a[s]=n[s];for(var o=new Uint8Array(t.encode([a])),l=new Uint8Array(e),h=new Uint8Array(1e3+r*i*4),s=0;s<o.length;s++)h[s]=o[s];for(var s=0;s<l.length;s++)h[1e3+s]=l[s];return h.buffer},t.encode=function(e){var r=new Uint8Array(2e4),i=4,n=t._binBE;r[0]=77,r[1]=77,r[3]=42;var a=8;n.writeUint(r,i,a),i+=4;for(var s=0;s<e.length;s++){var o=t._writeIFD(n,r,a,e[s]);a=o[1],s<e.length-1&&n.writeUint(r,o[0],a)}return r.slice(0,a).buffer},t.decode=function(e){t.decode._decodeG3.allow2D=null;var r=new Uint8Array(e),i=0,n=t._binBE.readASCII(r,i,2);i+=2;var a="II"==n?t._binLE:t._binBE;a.readUshort(r,i),i+=2;var s=a.readUint(r,i);i+=4;for(var o=[];;){var l=t._readIFD(a,r,s,o);if(0==(s=a.readUint(r,l)))break}return o},t.decodeImages=function(e,r){for(var n=new Uint8Array(e),a=t._binBE.readASCII(n,0,2),s=0;s<r.length;s++){var o=r[s];if(null!=o.t256){o.isLE="II"==a,o.width=o.t256[0],o.height=o.t257[0];var l=o.t259?o.t259[0]:1,h=o.t266?o.t266[0]:1;o.t284&&2==o.t284[0]&&i("PlanarConfiguration 2 should not be used!");var u=(o.t258?Math.min(32,o.t258[0]):1)*(o.t277?o.t277[0]:1),f=8*Math.ceil(o.width*u/8),c=o.t273;null==c&&(c=o.t324);var d=o.t279;1==l&&1==c.length&&(d=[o.height*(f>>>3)]),null==d&&(d=o.t325);var p=new Uint8Array(o.height*(f>>>3)),m=0;if(null!=o.t322){for(var g=o.t322[0],v=o.t323[0],b=Math.floor((o.width+g-1)/g),_=Math.floor((o.height+v-1)/v),y=new Uint8Array(0|Math.ceil(g*v*u/8)),w=0;w<_;w++)for(var x=0;x<b;x++){for(var M=w*b+x,S=0;S<y.length;S++)y[S]=0;t.decode._decompress(o,n,c[M],d[M],l,y,0,h),6==l?p=y:t._copyTile(y,0|Math.ceil(g*u/8),v,p,0|Math.ceil(o.width*u/8),o.height,0|Math.ceil(x*g*u/8),w*v)}m=8*p.length}else{var E=o.t278?o.t278[0]:o.height;E=Math.min(E,o.height);for(var M=0;M<c.length;M++)t.decode._decompress(o,n,c[M],d[M],l,p,0|Math.ceil(m/8),h),m+=f*E;m=Math.min(m,8*p.length)}o.data=new Uint8Array(p.buffer,0,0|Math.ceil(m/8))}}},t.decode._decompress=function(r,n,a,s,o,l,h,u){if(1==o)for(var f=0;f<s;f++)l[h+f]=n[a+f];else if(3==o)t.decode._decodeG3(n,a,s,l,h,r.width,u);else if(4==o)t.decode._decodeG4(n,a,s,l,h,r.width,u);else if(5==o)t.decode._decodeLZW(n,a,l,h);else if(6==o)t.decode._decodeOldJPEG(r,n,a,s,l,h);else if(7==o)t.decode._decodeNewJPEG(r,n,a,s,l,h);else if(8==o)for(var c=new Uint8Array(n.buffer,a,s),d=e.inflate(c),p=0;p<d.length;p++)l[h+p]=d[p];else 32773==o?t.decode._decodePackBits(n,a,s,l,h):32809==o?t.decode._decodeThunder(n,a,s,l,h):i("Unknown compression",o);if(r.t317&&2==r.t317[0])for(var m=r.t277?r.t277[0]:1,g=r.t278?r.t278[0]:r.height,v=r.width*m,b=0;b<g;b++){var _=h+b*v;if(3==m)for(var f=3;f<v;f+=3)l[_+f]=l[_+f]+l[_+f-3]&255,l[_+f+1]=l[_+f+1]+l[_+f-2]&255,l[_+f+2]=l[_+f+2]+l[_+f-1]&255;else for(var f=m;f<v;f++)l[_+f]=l[_+f]+l[_+f-m]&255}},t.decode._decodeNikon=function(t,e,r,n,a){var s,o;i(t.slice(e,e+100)),s=t[e],o=t[++e],e++,i(s.toString(16),o.toString(16),r)},t.decode._decodeNewJPEG=function(e,r,i,n,a,s){var o=e.t347,l=o?o.length:0,h=new Uint8Array(l+n);if(o){for(var u=216,f=217,c=0,d=0;d<l-1&&(255!=o[d]||o[d+1]!=f);d++)h[c++]=o[d];var p=r[i],m=r[i+1];(255!=p||m!=u)&&(h[c++]=p,h[c++]=m);for(var d=2;d<n;d++)h[c++]=r[i+d]}else for(var d=0;d<n;d++)h[d]=r[i+d];if(32803==e.t262){var g=e.t258[0],v=new LosslessJpegDecoder().decode(h),b=v.length;if(16==g)for(var d=0;d<b;d++)a[s++]=255&v[d],a[s++]=v[d]>>>8;else if(12==g)for(var d=0;d<b;d+=2)a[s++]=v[d]>>>4,a[s++]=(v[d]<<4|v[d+1]>>>8)&255,a[s++]=255&v[d+1];else throw Error("unsupported bit depth "+g)}else{var _=new t.JpegDecoder;_.parse(h);for(var y=_.getData(_.width,_.height),d=0;d<y.length;d++)a[s+d]=y[d]}6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodeOldJPEGInit=function(t,e,r,n){var a,s,o,l,h,u=216,f=219,c=196,d=221,p=192,m=218,g=0,v=0,b=!1,_=t.t513,y=_?_[0]:0,w=t.t514,x=w?w[0]:0,M=t.t324||t.t273||_,S=t.t530,E=0,P=0,k=t.t277?t.t277[0]:1,A=t.t515;if(M&&(v=M[0],b=M.length>1),!b){if(255==e[r]&&e[r+1]==u)return{jpegOffset:r};if(null!=_&&(255==e[r+y]&&e[r+y+1]==u?g=r+y:i("JPEGInterchangeFormat does not point to SOI"),null==w?i("JPEGInterchangeFormatLength field is missing"):(y>=v||y+x<=v)&&i("JPEGInterchangeFormatLength field value is invalid"),null!=g))return{jpegOffset:g}}if(null!=S&&(E=S[0],P=S[1]),null!=_&&null!=w){if(x>=2&&y+x<=v){for(o=0,a=new Uint8Array(255==e[r+y+x-2]&&e[r+y+x-1]==u?x-2:x);o<a.length;o++)a[o]=e[r+y+o];i("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else i("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile")}if(null==a){var T=0,I=[];I[T++]=255,I[T++]=u;var B=t.t519;if(null==B)throw Error("JPEGQTables tag is missing");for(o=0;o<B.length;o++)for(l=0,I[T++]=255,I[T++]=f,I[T++]=0,I[T++]=67,I[T++]=o;l<64;l++)I[T++]=e[r+B[o]+l];for(h=0;h<2;h++){var C=t[0==h?"t520":"t521"];if(null==C)throw Error((0==h?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(o=0;o<C.length;o++){I[T++]=255,I[T++]=c;var O=19;for(l=0;l<16;l++)O+=e[r+C[o]+l];for(l=0,I[T++]=O>>>8,I[T++]=255&O,I[T++]=o|h<<4;l<16;l++)I[T++]=e[r+C[o]+l];for(l=0;l<O;l++)I[T++]=e[r+C[o]+16+l]}}if(I[T++]=255,I[T++]=p,I[T++]=0,I[T++]=8+3*k,I[T++]=8,I[T++]=t.height>>>8&255,I[T++]=255&t.height,I[T++]=t.width>>>8&255,I[T++]=255&t.width,I[T++]=k,1==k)I[T++]=1,I[T++]=17,I[T++]=0;else for(o=0;o<3;o++)I[T++]=o+1,I[T++]=0!=o?17:(15&E)<<4|15&P,I[T++]=o;null!=A&&0!=A[0]&&(I[T++]=255,I[T++]=d,I[T++]=0,I[T++]=4,I[T++]=A[0]>>>8&255,I[T++]=255&A[0]),a=new Uint8Array(I)}var L=-1;for(o=0;o<a.length-1;){if(255==a[o]&&a[o+1]==p){L=o;break}o++}if(-1==L){var D=new Uint8Array(a.length+10+3*k);D.set(a);var R=a.length;if(L=a.length,(a=D)[R++]=255,a[R++]=p,a[R++]=0,a[R++]=8+3*k,a[R++]=8,a[R++]=t.height>>>8&255,a[R++]=255&t.height,a[R++]=t.width>>>8&255,a[R++]=255&t.width,a[R++]=k,1==k)a[R++]=1,a[R++]=17,a[R++]=0;else for(o=0;o<3;o++)a[R++]=o+1,a[R++]=0!=o?17:(15&E)<<4|15&P,a[R++]=o}if(255==e[v]&&e[v+1]==m){var z=e[v+2]<<8|e[v+3];for(o=0,(s=new Uint8Array(z+2))[0]=e[v],s[1]=e[v+1],s[2]=e[v+2],s[3]=e[v+3];o<z-2;o++)s[o+4]=e[v+o+4]}else{s=new Uint8Array(8+2*k);var F=0;if(s[F++]=255,s[F++]=m,s[F++]=0,s[F++]=6+2*k,s[F++]=k,1==k)s[F++]=1,s[F++]=0;else for(o=0;o<3;o++)s[F++]=o+1,s[F++]=o<<4|o;s[F++]=0,s[F++]=63,s[F++]=0}return{jpegOffset:r,tables:a,sosMarker:s,sofPosition:L}},t.decode._decodeOldJPEG=function(e,r,i,n,a,s){var o,l,h,u,f,c=t.decode._decodeOldJPEGInit(e,r,i,n);if(null!=c.jpegOffset)for(o=0,u=new Uint8Array(l=i+n-c.jpegOffset);o<l;o++)u[o]=r[c.jpegOffset+o];else{for((u=new Uint8Array((h=c.tables.length)+c.sosMarker.length+n+2)).set(c.tables),f=h,u[c.sofPosition+5]=e.height>>>8&255,u[c.sofPosition+6]=255&e.height,u[c.sofPosition+7]=e.width>>>8&255,u[c.sofPosition+8]=255&e.width,(255!=r[i]||r[i+1]!=SOS)&&(u.set(c.sosMarker,bufoff),bufoff+=sosMarker.length),o=0;o<n;o++)u[bufoff++]=r[i+o];u[bufoff++]=255,u[bufoff++]=EOI}var d=new t.JpegDecoder;d.parse(u);for(var p=d.getData(d.width,d.height),o=0;o<p.length;o++)a[s+o]=p[o];6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodePackBits=function(t,e,r,i,n){for(var a=new Int8Array(t.buffer),s=new Int8Array(i.buffer),o=e+r;e<o;){var l=a[e];if(e++,l>=0&&l<128)for(var h=0;h<l+1;h++)s[n]=a[e],n++,e++;if(l>=-127&&l<0){for(var h=0;h<-l+1;h++)s[n]=a[e],n++;e++}}},t.decode._decodeThunder=function(t,e,r,i,n){for(var a=[0,1,0,-1],s=[0,1,2,3,0,-3,-2,-1],o=e+r,l=2*n,h=0;e<o;){var u=t[e],f=u>>>6,c=63&u;if(e++,3==f&&(h=15&c,i[l>>>1]|=h<<4*(1-l&1),l++),0==f)for(var d=0;d<c;d++)i[l>>>1]|=h<<4*(1-l&1),l++;if(2==f)for(var d=0;d<2;d++){var p=c>>>3*(1-d)&7;4!=p&&(h+=s[p],i[l>>>1]|=h<<4*(1-l&1),l++)}if(1==f)for(var d=0;d<3;d++){var p=c>>>2*(2-d)&3;2!=p&&(h+=a[p],i[l>>>1]|=h<<4*(1-l&1),l++)}}},t.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},t.decode._lens=function(){var t=function(t,e,r,i){for(var n=0;n<e.length;n++)t[e[n]]=r+n*i},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",n="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),r=r.split(","),i=i.split(","),n=n.split(","),a=a.split(",");var s={},o={};return t(s,e,0,1),t(s,i,64,64),t(s,a,1792,64),t(o,r,0,1),t(o,n,64,64),t(o,a,1792,64),[s,o]}(),t.decode._decodeG4=function(e,r,i,n,a,s,o){for(var l=t.decode,h=r<<3,u=0,f="",c=[],d=[],p=0;p<s;p++)d.push(0);d=l._makeDiff(d);for(var m=0,g=0,v=0,b=0,_=0,y=0,w="",x=0,M=8*Math.ceil(s/8);h>>>3<r+i;){v=l._findDiff(d,m+(0==m?0:1),1-_),b=l._findDiff(d,v,_);var S=0;if(1==o&&(S=e[h>>>3]>>>7-(7&h)&1),2==o&&(S=e[h>>>3]>>>(7&h)&1),h++,f+=S,"H"==w){if(null!=l._lens[_][f]){var E=l._lens[_][f];f="",u+=E,E<64&&(l._addNtimes(c,u,_),m+=u,_=1-_,u=0,0==--x&&(w=""))}}else"0001"==f&&(f="",l._addNtimes(c,b-m,_),m=b),"001"==f&&(f="",w="H",x=2),null!=l._dmap[f]&&(g=v+l._dmap[f],l._addNtimes(c,g-m,_),m=g,f="",_=1-_);c.length==s&&""==w&&(l._writeBits(c,n,8*a+y*M),_=0,y++,m=0,d=l._makeDiff(c),c=[])}},t.decode._findDiff=function(t,e,r){for(var i=0;i<t.length;i+=2)if(t[i]>=e&&t[i+1]==r)return t[i]},t.decode._makeDiff=function(t){var e=[];1==t[0]&&e.push(0,1);for(var r=1;r<t.length;r++)t[r-1]!=t[r]&&e.push(r,t[r]);return e.push(t.length,0,t.length,1),e},t.decode._decodeG3=function(e,r,i,n,a,s,o){for(var l=t.decode,h=r<<3,u=0,f="",c=[],d=[],p=0;p<s;p++)c.push(0);for(var m=0,g=0,v=0,b=0,_=0,y=-1,w="",x=0,M=!1,S=8*Math.ceil(s/8);h>>>3<r+i;){v=l._findDiff(d,m+(0==m?0:1),1-_),b=l._findDiff(d,v,_);var E=0;if(1==o&&(E=e[h>>>3]>>>7-(7&h)&1),2==o&&(E=e[h>>>3]>>>(7&h)&1),h++,f+=E,M){if(null!=l._lens[_][f]){var P=l._lens[_][f];f="",u+=P,P<64&&(l._addNtimes(c,u,_),_=1-_,u=0)}}else if("H"==w){if(null!=l._lens[_][f]){var P=l._lens[_][f];f="",u+=P,P<64&&(l._addNtimes(c,u,_),m+=u,_=1-_,u=0,0==--x&&(w=""))}}else"0001"==f&&(f="",l._addNtimes(c,b-m,_),m=b),"001"==f&&(f="",w="H",x=2),null!=l._dmap[f]&&(g=v+l._dmap[f],l._addNtimes(c,g-m,_),m=g,f="",_=1-_);f.endsWith("000000000001")&&(y>=0&&l._writeBits(c,n,8*a+y*S),1==o&&(M=(e[h>>>3]>>>7-(7&h)&1)==1),2==o&&(M=(e[h>>>3]>>>(7&h)&1)==1),h++,null==l._decodeG3.allow2D&&(l._decodeG3.allow2D=M),!l._decodeG3.allow2D&&(M=!0,h--),f="",_=0,y++,m=0,d=l._makeDiff(c),c=[])}c.length==s&&l._writeBits(c,n,8*a+y*S)},t.decode._addNtimes=function(t,e,r){for(var i=0;i<e;i++)t.push(r)},t.decode._writeBits=function(t,e,r){for(var i=0;i<t.length;i++)e[r+i>>>3]|=t[i]<<7-(r+i&7)},t.decode._decodeLZW=function(e,r,i,n){if(null==t.decode._lzwTab){for(var a=new Uint32Array(65535),s=new Uint16Array(65535),o=new Uint8Array(2e6),l=0;l<256;l++)o[l<<2]=l,a[l]=l<<2,s[l]=1;t.decode._lzwTab=[a,s,o]}for(var h=t.decode._copyData,u=t.decode._lzwTab[0],f=t.decode._lzwTab[1],o=t.decode._lzwTab[2],c=258,d=1032,p=9,m=r<<3,g=256,v=257,b=0,_=0,y=0;_=(b=e[m>>>3]<<16|e[m+8>>>3]<<8|e[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,_!=v;){if(_==g){if(p=9,c=258,d=1032,_=(b=e[m>>>3]<<16|e[m+8>>>3]<<8|e[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,_==v)break;i[n]=_,n++}else if(_<c){var w=u[_],x=f[_];if(h(o,w,i,n,x),n+=x,y>=c)u[c]=d,o[u[c]]=w[0],f[c]=1,d=d+1+3&-4,c++;else{u[c]=d;var M=u[y],S=f[y];h(o,M,o,d,S),o[d+S]=o[w],S++,f[c]=S,c++,d=d+S+3&-4}c+1==1<<p&&p++}else{if(y>=c)u[c]=d,f[c]=0,c++;else{u[c]=d;var M=u[y],S=f[y];h(o,M,o,d,S),o[d+S]=o[d],S++,f[c]=S,c++,h(o,d,i,n,S),n+=S,d=d+S+3&-4}c+1==1<<p&&p++}y=_}},t.decode._copyData=function(t,e,r,i,n){for(var a=0;a<n;a+=4)r[i+a]=t[e+a],r[i+a+1]=t[e+a+1],r[i+a+2]=t[e+a+2],r[i+a+3]=t[e+a+3]},t.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},t.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},t._readIFD=function(e,r,n,a){var s=e.readUshort(r,n);n+=2;var o={};a.push(o);for(var l=0;l<s;l++){var h=e.readUshort(r,n);n+=2;var u=e.readUshort(r,n);n+=2;var f=e.readUint(r,n);n+=4;var c=e.readUint(r,n);n+=4;var d=[];if(o["t"+h]=d,1==u||7==u)for(var p=0;p<f;p++)d.push(r[(f<5?n-4:c)+p]);if(2==u&&d.push(e.readASCII(r,f<5?n-4:c,f-1)),3==u)for(var p=0;p<f;p++)d.push(e.readUshort(r,(f<3?n-4:c)+2*p));if(4==u)for(var p=0;p<f;p++)d.push(e.readUint(r,(f<2?n-4:c)+4*p));if(5==u)for(var p=0;p<f;p++)d.push(e.readUint(r,c+8*p)/e.readUint(r,c+8*p+4));if(8==u)for(var p=0;p<f;p++)d.push(e.readShort(r,(f<3?n-4:c)+2*p));if(9==u)for(var p=0;p<f;p++)d.push(e.readInt(r,(f<2?n-4:c)+4*p));if(10==u)for(var p=0;p<f;p++)d.push(e.readInt(r,c+8*p)/e.readInt(r,c+8*p+4));if(11==u)for(var p=0;p<f;p++)d.push(e.readFloat(r,c+4*p));if(12==u)for(var p=0;p<f;p++)d.push(e.readDouble(r,c+8*p));if(0!=f&&0==d.length&&i("unknown TIFF tag type: ",u,"num:",f),330==h)for(var p=0;p<f;p++)t._readIFD(e,r,d[p],a)}return n},t._writeIFD=function(e,r,i,n){var a=Object.keys(n);e.writeUshort(r,i,a.length);for(var s=(i+=2)+12*a.length+4,o=0;o<a.length;o++){var l=a[o],h=parseInt(l.slice(1)),u=t.ttypes[h];if(null==u)throw Error("unknown type of tag: "+h);var f=n[l];2==u&&(f=f[0]+"\0");var c=f.length;e.writeUshort(r,i,h),i+=2,e.writeUshort(r,i,u),i+=2,e.writeUint(r,i,c);var d=[-1,1,1,2,4,8,0,0,0,0,0,0,8][u]*c,p=i+=4;if(d>4&&(e.writeUint(r,i,s),p=s),2==u&&e.writeASCII(r,p,f),3==u)for(var m=0;m<c;m++)e.writeUshort(r,p+2*m,f[m]);if(4==u)for(var m=0;m<c;m++)e.writeUint(r,p+4*m,f[m]);if(5==u)for(var m=0;m<c;m++)e.writeUint(r,p+8*m,Math.round(1e4*f[m])),e.writeUint(r,p+8*m+4,1e4);if(12==u)for(var m=0;m<c;m++)e.writeDouble(r,p+8*m,f[m]);d>4&&(d+=1&d,s+=d),i+=4}return[i,s]},t.toRGBA8=function(t){var e=t.width,r=t.height,n=e*r,a=4*n,s=t.data,o=new Uint8Array(4*n),l=t.t262[0],h=t.t258?Math.min(32,t.t258[0]):1,u=t.isLE?1:0;if(0==l)for(var f=Math.ceil(h*e/8),c=0;c<r;c++){var d=c*f,p=c*e;if(1==h)for(var m=0;m<e;m++){var g=p+m<<2,v=s[d+(m>>3)]>>7-(7&m)&1;o[g]=o[g+1]=o[g+2]=(1-v)*255,o[g+3]=255}if(4==h)for(var m=0;m<e;m++){var g=p+m<<2,v=s[d+(m>>1)]>>4-4*(1&m)&15;o[g]=o[g+1]=o[g+2]=(15-v)*17,o[g+3]=255}if(8==h)for(var m=0;m<e;m++){var g=p+m<<2,v=s[d+m];o[g]=o[g+1]=o[g+2]=255-v,o[g+3]=255}}else if(1==l)for(var f=Math.ceil(h*e/8),c=0;c<r;c++){var d=c*f,p=c*e;if(1==h)for(var m=0;m<e;m++){var g=p+m<<2,v=s[d+(m>>3)]>>7-(7&m)&1;o[g]=o[g+1]=o[g+2]=255*v,o[g+3]=255}if(2==h)for(var m=0;m<e;m++){var g=p+m<<2,v=s[d+(m>>2)]>>6-2*(3&m)&3;o[g]=o[g+1]=o[g+2]=85*v,o[g+3]=255}if(8==h)for(var m=0;m<e;m++){var g=p+m<<2,v=s[d+m];o[g]=o[g+1]=o[g+2]=v,o[g+3]=255}if(16==h)for(var m=0;m<e;m++){var g=p+m<<2,v=s[d+(2*m+u)];o[g]=o[g+1]=o[g+2]=Math.min(255,v),o[g+3]=255}}else if(2==l){if(8==h){if(t.t338){if(t.t338[0]>0)for(var m=0;m<a;m++)o[m]=s[m];else for(var m=0;m<a;m+=4)o[m]=s[m],o[m+1]=s[m+1],o[m+2]=s[m+2],o[m+3]=255}else{var b=t.t258?t.t258.length:3;if(4==b)for(var m=0;m<a;m++)o[m]=s[m];if(3==b)for(var m=0;m<n;m++){var g=m<<2,_=3*m;o[g]=s[_],o[g+1]=s[_+1],o[g+2]=s[_+2],o[g+3]=255}}}else for(var m=0;m<n;m++){var g=m<<2,_=6*m;o[g]=s[_],o[g+1]=s[_+2],o[g+2]=s[_+4],o[g+3]=255}}else if(3==l)for(var y=t.t320,m=0;m<n;m++){var g=m<<2,w=s[m];o[g]=y[w]>>8,o[g+1]=y[256+w]>>8,o[g+2]=y[512+w]>>8,o[g+3]=255}else if(5==l)for(var b=t.t258?t.t258.length:4,x=b>4?1:0,m=0;m<n;m++){var g=m<<2,M=m*b,S=255-s[M],E=255-s[M+1],P=255-s[M+2],k=(255-s[M+3])*(1/255);o[g]=~~(S*k+.5),o[g+1]=~~(E*k+.5),o[g+2]=~~(P*k+.5),o[g+3]=255*(1-x)+s[M+4]*x}else i("Unknown Photometric interpretation: "+l);return o},t.replaceIMG=function(){for(var e=document.getElementsByTagName("img"),r=0;r<e.length;r++){var i=e[r],n=i.getAttribute("src");if(null!=n){var a=n.split(".").pop().toLowerCase();if("tif"==a||"tiff"==a){var s=new XMLHttpRequest;t._xhrs.push(s),t._imgs.push(i),s.open("GET",n),s.responseType="arraybuffer",s.onload=t._imgLoaded,s.send()}}}},t._xhrs=[],t._imgs=[],t._imgLoaded=function(e){var r=e.target.response,i=t.decode(r),n=i[0];t.decodeImages(r,i);var a=t.toRGBA8(n),s=n.width,o=n.height,l=t._xhrs.indexOf(e.target),h=t._imgs[l];t._xhrs.splice(l,1),t._imgs.splice(l,1);var u=document.createElement("canvas");u.width=s,u.height=o;for(var f=u.getContext("2d"),c=f.createImageData(s,o),d=0;d<a.length;d++)c.data[d]=a[d];f.putImageData(c,0,0);for(var p=["style","class","id"],d=0;d<p.length;d++)u.setAttribute(p[d],h.getAttribute(p[d]));h.parentNode.replaceChild(u,h)},t._binBE={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},readShort:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+1],i[1]=e[r+0],t._binBE.i16[0]},readInt:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+3],i[1]=e[r+2],i[2]=e[r+1],i[3]=e[r+0],t._binBE.i32[0]},readUint:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+3],i[1]=e[r+2],i[2]=e[r+1],i[3]=e[r+0],t._binBE.ui32[0]},readASCII:function(t,e,r){for(var i="",n=0;n<r;n++)i+=String.fromCharCode(t[e+n]);return i},readFloat:function(e,r){for(var i=t._binBE.ui8,n=0;n<4;n++)i[n]=e[r+3-n];return t._binBE.fl32[0]},readDouble:function(e,r){for(var i=t._binBE.ui8,n=0;n<8;n++)i[n]=e[r+7-n];return t._binBE.fl64[0]},writeUshort:function(t,e,r){t[e]=r>>8&255,t[e+1]=255&r},writeUint:function(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r>>0&255},writeASCII:function(t,e,r){for(var i=0;i<r.length;i++)t[e+i]=r.charCodeAt(i)},writeDouble:function(e,r,i){t._binBE.fl64[0]=i;for(var n=0;n<8;n++)e[r+n]=t._binBE.ui8[7-n]}},t._binBE.ui8=new Uint8Array(8),t._binBE.i16=new Int16Array(t._binBE.ui8.buffer),t._binBE.i32=new Int32Array(t._binBE.ui8.buffer),t._binBE.ui32=new Uint32Array(t._binBE.ui8.buffer),t._binBE.fl32=new Float32Array(t._binBE.ui8.buffer),t._binBE.fl64=new Float64Array(t._binBE.ui8.buffer),t._binLE={nextZero:t._binBE.nextZero,readUshort:function(t,e){return t[e+1]<<8|t[e]},readShort:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],t._binBE.i16[0]},readInt:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],i[2]=e[r+2],i[3]=e[r+3],t._binBE.i32[0]},readUint:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],i[2]=e[r+2],i[3]=e[r+3],t._binBE.ui32[0]},readASCII:t._binBE.readASCII,readFloat:function(e,r){for(var i=t._binBE.ui8,n=0;n<4;n++)i[n]=e[r+n];return t._binBE.fl32[0]},readDouble:function(e,r){for(var i=t._binBE.ui8,n=0;n<8;n++)i[n]=e[r+n];return t._binBE.fl64[0]}},t._copyTile=function(t,e,r,i,n,a,s,o){for(var l=Math.min(e,n-s),h=Math.min(r,a-o),u=0;u<h;u++)for(var f=(o+u)*n+s,c=u*e,d=0;d<l;d++)i[f+d]=t[c+d]}}(e,r(52207))}()},4798:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},31439:t=>{function e(t){if(Array.isArray(t))return t}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4450:(t,e,r)=>{var i=r(4798);function n(t){if(Array.isArray(t))return i(t)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},33002:t=>{function e(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},68326:t=>{function e(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},62519:(t,e,r)=>{var i=r(41584),n=r(86896);function a(t,e,r){if(i())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,e);var s=new(t.bind.apply(t,a));return r&&n(s,r.prototype),s}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},42706:(t,e,r)=>{var i=r(61518);function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},61092:(t,e,r)=>{var i=r(61518);function n(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},65684:t=>{function e(){return t.exports=e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},89899:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},59356:(t,e,r)=>{var i=r(86896);function n(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},39618:t=>{function e(t){return t&&t.__esModule?t:{default:t}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},64056:(t,e,r)=>{var i=r(12054).default;function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=i(t)&&"function"!=typeof t)return{default:t};var r=n(e);if(r&&r.has(t))return r.get(t);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&({}).hasOwnProperty.call(t,o)){var l=s?Object.getOwnPropertyDescriptor(t,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=t[o]}return a.default=t,r&&r.set(t,a),a}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},41584:t=>{function e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(t.exports=e=function(){return!!r},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},96372:t=>{function e(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},98562:t=>{function e(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,n,a,s,o=[],l=!0,h=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=a.call(r)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(t){h=!0,n=t}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw n}}return o}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},77427:t=>{function e(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},72048:t=>{function e(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},83041:(t,e,r)=>{var i=r(12054).default,n=r(33002);function a(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return n(t)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},72354:(t,e,r)=>{var i=r(12054).default;function n(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},a=Object.prototype,s=a.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},l="function"==typeof Symbol?Symbol:{},h=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function d(t,e,r,i){var n=Object.create((e&&e.prototype instanceof y?e:y).prototype);return o(n,"_invoke",{value:T(t,r,new O(i||[]))}),n}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var m="suspendedStart",g="suspendedYield",v="executing",b="completed",_={};function y(){}function w(){}function x(){}var M={};c(M,h,function(){return this});var S=Object.getPrototypeOf,E=S&&S(S(L([])));E&&E!==a&&s.call(E,h)&&(M=E);var P=x.prototype=y.prototype=Object.create(M);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function A(t,e){var r;function n(r,a,o,l){var h=p(t[r],t,a);if("throw"!==h.type){var u=h.arg,f=u.value;return f&&"object"==i(f)&&s.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,o,l)},function(t){n("throw",t,o,l)}):e.resolve(f).then(function(t){u.value=t,o(u)},function(t){return n("throw",t,o,l)})}l(h.arg)}o(this,"_invoke",{value:function(t,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()}})}function T(t,r,i){var n=m;return function(a,s){if(n===v)throw Error("Generator is already running");if(n===b){if("throw"===a)throw s;return{value:e,done:!0}}for(i.method=a,i.arg=s;;){var o=i.delegate;if(o){var l=I(o,i);if(l){if(l===_)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===m)throw n=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=v;var h=p(t,r,i);if("normal"===h.type){if(n=i.done?b:g,h.arg===_)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(n=b,i.method="throw",i.arg=h.arg)}}}function I(t,r){var i=r.method,n=t.iterator[i];if(n===e)return r.delegate=null,"throw"===i&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+i+"' method")),_;var a=p(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,_;var s=a.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,_)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[h];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function r(){for(;++n<t.length;)if(s.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw TypeError(i(t)+" is not iterable")}return w.prototype=x,o(P,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=c(x,f,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,c(t,f,"GeneratorFunction")),t.prototype=Object.create(P),t},r.awrap=function(t){return{__await:t}},k(A.prototype),c(A.prototype,u,function(){return this}),r.AsyncIterator=A,r.async=function(t,e,i,n,a){void 0===a&&(a=Promise);var s=new A(d(t,e,i,n),a);return r.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},k(P),c(P,f,"Generator"),c(P,h,function(){return this}),c(P,"toString",function(){return"[object Generator]"}),r.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},r.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(i,n){return o.type="throw",o.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=s.call(a,"catchLoc"),h=s.call(a,"finallyLoc");if(l&&h){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!h)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=t,a.arg=e,n?(this.method="next",this.next=n.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;C(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:L(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),_}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},86896:t=>{function e(r,i){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},35895:(t,e,r)=>{var i=r(31439),n=r(98562),a=r(81287),s=r(77427);function o(t,e){return i(t)||n(t,e)||a(t,e)||s()}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},84653:(t,e,r)=>{var i=r(4450),n=r(96372),a=r(81287),s=r(72048);function o(t){return i(t)||n(t)||a(t)||s()}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},31961:(t,e,r)=>{var i=r(12054).default;function n(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},61518:(t,e,r)=>{var i=r(12054).default,n=r(31961);function a(t){var e=n(t,"string");return"symbol"==i(e)?e:e+""}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},12054:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},81287:(t,e,r)=>{var i=r(4798);function n(t,e){if(t){if("string"==typeof t)return i(t,e);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},16477:(t,e,r)=>{var i=r(72354)();t.exports=i;try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},2645:t=>{let e,r,i,n,a;var s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,h=Object.prototype.hasOwnProperty,u=(t,e,r)=>e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f=t=>s(t,"__esModule",{value:!0}),c=(t,e)=>{for(var r in e)s(t,r,{get:e[r],enumerable:!0})},d=(t,e,r,i)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let n of l(e))!h.call(t,n)&&(r||"default"!==n)&&s(t,n,{get:()=>e[n],enumerable:!(i=o(e,n))||i.enumerable});return t},p=(e="undefined"!=typeof WeakMap?new WeakMap:0,(t,r)=>e&&e.get(t)||(r=d(f({}),t,1),e&&e.set(t,r),r)),m=(t,e,r)=>(u(t,"symbol"!=typeof e?e+"":e,r),r),g={};c(g,{applyPalette:()=>t9,applyPaletteSync:()=>t7,buildPalette:()=>t8,buildPaletteSync:()=>t6,constants:()=>v,conversion:()=>x,distance:()=>$,image:()=>tV,palette:()=>tf,quality:()=>tK,utils:()=>tb});var v={};c(v,{bt709:()=>b});var b={};c(b,{Y:()=>_,x:()=>y,y:()=>w});var _=((r=_||{})[r.RED=.2126]="RED",r[r.GREEN=.7152]="GREEN",r[r.BLUE=.0722]="BLUE",r[r.WHITE=1]="WHITE",r),y=((i=y||{})[i.RED=.64]="RED",i[i.GREEN=.3]="GREEN",i[i.BLUE=.15]="BLUE",i[i.WHITE=.3127]="WHITE",i),w=((n=w||{})[n.RED=.33]="RED",n[n.GREEN=.6]="GREEN",n[n.BLUE=.06]="BLUE",n[n.WHITE=.329]="WHITE",n),x={};function M(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}function S(t,e,r){return{x:.4124*(t=M(t/255))+.3576*(e=M(e/255))+.1805*(r=M(r/255)),y:.2126*t+.7152*e+.0722*r,z:.0193*t+.1192*e+.9505*r}}c(x,{lab2rgb:()=>Y,lab2xyz:()=>H,rgb2hsl:()=>O,rgb2lab:()=>j,rgb2xyz:()=>S,xyz2lab:()=>F,xyz2rgb:()=>q});var E={};function P(t){return Math.PI/180*t}function k(t,e,r){let i=t;return i<e&&(i=e),i<r&&(i=r),i}function A(t,e,r){let i=t;return i>e&&(i=e),i>r&&(i=r),i}function T(t,e,r){return t>r&&(t=r),t<e&&(t=e),0|t}function I(t){return(t=Math.round(t))>255?t=255:t<0&&(t=0),t}function B(t){return t>255?t=255:t<0&&(t=0),t}function C(t,e){let r;let i=typeof t[0];if("number"===i||"string"===i){let i=Object.create(null);for(let e=0,r=t.length;e<r;e++){let r=t[e];i[r]||0===i[r]||(i[r]=e)}r=t.sort((t,r)=>e(t,r)||i[t]-i[r])}else{let i=t.slice(0);r=t.sort((t,r)=>e(t,r)||i.indexOf(t)-i.indexOf(r))}return r}function O(t,e,r){let i=A(t,e,r),n=k(t,e,r),a=n-i,s=(i+n)/510,o=0;s>0&&s<1&&(o=a/(s<.5?n+i:510-n-i));let l=0;return a>0&&(l=(n===t?(e-r)/a:n===e?2+(r-t)/a:4+(t-e)/a)*60)<0&&(l+=360),{h:l,s:o,l:s}}c(E,{degrees2radians:()=>P,inRange0to255:()=>B,inRange0to255Rounded:()=>I,intInRange:()=>T,max3:()=>k,min3:()=>A,stableSort:()=>C});var L=.95047,D=1,R=1.08883;function z(t){return t>.008856?t**(1/3):7.787*t+16/116}function F(t,e,r){if(t=z(t/L),e=z(e/D),r=z(r/R),116*e-16<0)throw Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-r)}}function j(t,e,r){let i=S(t,e,r);return F(i.x,i.y,i.z)}var U=.95047,N=1,G=1.08883;function V(t){return t>.206893034?t**3:(t-16/116)/7.787}function H(t,e,r){let i=(t+16)/116,n=e/500+i,a=i-r/200;return{x:U*V(n),y:N*V(i),z:G*V(a)}}function W(t){return t>.0031308?1.055*t**(1/2.4)-.055:12.92*t}function q(t,e,r){let i=W(3.2406*t+-1.5372*e+-.4986*r),n=W(-.9689*t+1.8758*e+.0415*r),a=W(.0557*t+-.204*e+1.057*r);return{r:I(255*i),g:I(255*n),b:I(255*a)}}function Y(t,e,r){let i=H(t,e,r);return q(i.x,i.y,i.z)}var $={};c($,{AbstractDistanceCalculator:()=>X,AbstractEuclidean:()=>tr,AbstractManhattan:()=>ts,CIE94GraphicArts:()=>K,CIE94Textiles:()=>J,CIEDE2000:()=>tt,CMetric:()=>te,Euclidean:()=>ti,EuclideanBT709:()=>tn,EuclideanBT709NoAlpha:()=>ta,Manhattan:()=>to,ManhattanBT709:()=>th,ManhattanNommyde:()=>tl,PNGQuant:()=>tu});var X=class{constructor(){m(this,"_maxDistance"),m(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(t,e,r,i){this._whitePoint={r:t>0?255/t:0,g:e>0?255/e:0,b:r>0?255/r:0,a:i>0?255/i:0},this._maxDistance=this.calculateRaw(t,e,r,i,0,0,0,0)}calculateNormalized(t,e){return this.calculateRaw(t.r,t.g,t.b,t.a,e.r,e.g,e.b,e.a)/this._maxDistance}},Z=class extends X{calculateRaw(t,e,r,i,n,a,s,o){let l=j(B(t*this._whitePoint.r),B(e*this._whitePoint.g),B(r*this._whitePoint.b)),h=j(B(n*this._whitePoint.r),B(a*this._whitePoint.g),B(s*this._whitePoint.b)),u=l.L-h.L,f=l.a-h.a,c=l.b-h.b,d=Math.sqrt(l.a*l.a+l.b*l.b),p=d-Math.sqrt(h.a*h.a+h.b*h.b),m=f*f+c*c-p*p;m=m<0?0:Math.sqrt(m);let g=(o-i)*this._whitePoint.a*this._kA;return Math.sqrt((u/this._Kl)**2+(p/(1+this._K1*d))**2+(m/(1+this._K2*d))**2+g**2)}},J=class extends Z{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},K=class extends Z{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},Q=class extends X{_setDefaults(){}static _calculatehp(t,e){let r=Math.atan2(t,e);return r>=0?r:r+Q._deg360InRad}static _calculateRT(t,e){let r=e**7,i=2*Math.sqrt(r/(r+Q._pow25to7));return-Math.sin(Q._deg30InRad*Math.exp(-(((t-Q._deg275InRad)/Q._deg25InRad)**2))*2)*i}static _calculateT(t){return 1-.17*Math.cos(t-Q._deg30InRad)+.24*Math.cos(2*t)+.32*Math.cos(3*t+Q._deg6InRad)-.2*Math.cos(4*t-Q._deg63InRad)}static _calculate_ahp(t,e,r,i){let n=r+i;return 0===t?n:e<=Q._deg180InRad?n/2:n<Q._deg360InRad?(n+Q._deg360InRad)/2:(n-Q._deg360InRad)/2}static _calculate_dHp(t,e,r,i){let n;return n=0===t?0:e<=Q._deg180InRad?r-i:r<=i?r-i+Q._deg360InRad:r-i-Q._deg360InRad,2*Math.sqrt(t)*Math.sin(n/2)}calculateRaw(t,e,r,i,n,a,s,o){let l=j(B(t*this._whitePoint.r),B(e*this._whitePoint.g),B(r*this._whitePoint.b)),h=j(B(n*this._whitePoint.r),B(a*this._whitePoint.g),B(s*this._whitePoint.b)),u=(o-i)*this._whitePoint.a*Q._kA;return Math.sqrt(this.calculateRawInLab(l,h)+u*u)}calculateRawInLab(t,e){let r=t.L,i=t.a,n=t.b,a=e.L,s=e.a,o=e.b,l=((Math.sqrt(i*i+n*n)+Math.sqrt(s*s+o*o))/2)**7,h=.5*(1-Math.sqrt(l/(l+Q._pow25to7))),u=(1+h)*i,f=(1+h)*s,c=Math.sqrt(u*u+n*n),d=Math.sqrt(f*f+o*o),p=c*d,m=Q._calculatehp(n,u),g=Q._calculatehp(o,f),v=Math.abs(m-g),b=a-r,_=d-c,y=Q._calculate_dHp(p,v,g,m),w=Q._calculate_ahp(p,v,m,g),x=Q._calculateT(w),M=(c+d)/2,S=((r+a)/2-50)**2,E=1+.015*S/Math.sqrt(20+S),P=1+.045*M,k=1+.015*x*M,A=Q._calculateRT(w,M),T=_/P,I=y/k;return(b/E)**2+T**2+I**2+A*T*I}},tt=Q;m(tt,"_kA",25/255),m(tt,"_pow25to7",6103515625),m(tt,"_deg360InRad",P(360)),m(tt,"_deg180InRad",P(180)),m(tt,"_deg30InRad",P(30)),m(tt,"_deg6InRad",P(6)),m(tt,"_deg63InRad",P(63)),m(tt,"_deg275InRad",P(275)),m(tt,"_deg25InRad",P(25));var te=class extends X{calculateRaw(t,e,r,i,n,a,s,o){let l=(t+n)/2*this._whitePoint.r,h=(t-n)*this._whitePoint.r,u=(e-a)*this._whitePoint.g,f=(r-s)*this._whitePoint.b,c=((512+l)*h*h>>8)+4*u*u+((767-l)*f*f>>8),d=(o-i)*this._whitePoint.a;return Math.sqrt(c+d*d)}_setDefaults(){}},tr=class extends X{calculateRaw(t,e,r,i,n,a,s,o){let l=n-t,h=a-e,u=s-r,f=o-i;return Math.sqrt(this._kR*l*l+this._kG*h*h+this._kB*u*u+this._kA*f*f)}},ti=class extends tr{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},tn=class extends tr{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},ta=class extends tr{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},ts=class extends X{calculateRaw(t,e,r,i,n,a,s,o){let l=n-t,h=a-e,u=s-r,f=o-i;return l<0&&(l=0-l),h<0&&(h=0-h),u<0&&(u=0-u),f<0&&(f=0-f),this._kR*l+this._kG*h+this._kB*u+this._kA*f}},to=class extends ts{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},tl=class extends ts{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},th=class extends ts{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},tu=class extends X{calculateRaw(t,e,r,i,n,a,s,o){let l=(o-i)*this._whitePoint.a;return this._colordifferenceCh(t*this._whitePoint.r,n*this._whitePoint.r,l)+this._colordifferenceCh(e*this._whitePoint.g,a*this._whitePoint.g,l)+this._colordifferenceCh(r*this._whitePoint.b,s*this._whitePoint.b,l)}_colordifferenceCh(t,e,r){let i=t-e,n=i+r;return i*i+n*n}_setDefaults(){}},tf={};c(tf,{AbstractPaletteQuantizer:()=>tc,ColorHistogram:()=>tC,NeuQuant:()=>tP,NeuQuantFloat:()=>tI,RGBQuant:()=>tL,WuColorCube:()=>tU,WuQuant:()=>tG});var tc=class{quantizeSync(){for(let t of this.quantize())if(t.palette)return t.palette;throw Error("unreachable")}},td=class{constructor(){m(this,"r"),m(this,"g"),m(this,"b"),m(this,"a"),m(this,"uint32"),m(this,"rgba"),this.uint32=4294967295,this.r=this.g=this.b=this.a=0,this.rgba=[,,,,],this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(t){let e=new td;return e.r=0|t[0],e.g=0|t[1],e.b=0|t[2],e.a=0|t[3],e._loadUINT32(),e._loadQuadruplet(),e}static createByRGBA(t,e,r,i){let n=new td;return n.r=0|t,n.g=0|e,n.b=0|r,n.a=0|i,n._loadUINT32(),n._loadQuadruplet(),n}static createByUint32(t){let e=new td;return e.uint32=t>>>0,e._loadRGBA(),e._loadQuadruplet(),e}from(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.uint32=t.uint32,this.rgba[0]=t.r,this.rgba[1]=t.g,this.rgba[2]=t.b,this.rgba[3]=t.a}getLuminosity(t){let e=this.r,r=this.g,i=this.b;return t&&(e=Math.min(255,255-this.a+this.a*e/255),r=Math.min(255,255-this.a+this.a*r/255),i=Math.min(255,255-this.a+this.a*i/255)),.2126*e+.7152*r+.0722*i}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},tp=class{constructor(){m(this,"_pointArray"),m(this,"_width"),m(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(t){this._width=t}setHeight(t){this._height=t}getPointArray(){return this._pointArray}clone(){let t=new tp;t._width=this._width,t._height=this._height;for(let e=0,r=this._pointArray.length;e<r;e++)t._pointArray[e]=td.createByUint32(0|this._pointArray[e].uint32);return t}toUint32Array(){let t=this._pointArray.length,e=new Uint32Array(t);for(let r=0;r<t;r++)e[r]=this._pointArray[r].uint32;return e}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(t){let e=t.naturalWidth,r=t.naturalHeight,i=document.createElement("canvas");return i.width=e,i.height=r,i.getContext("2d").drawImage(t,0,0,e,r,0,0,e,r),tp.fromHTMLCanvasElement(i)}static fromHTMLCanvasElement(t){let e=t.width,r=t.height,i=t.getContext("2d").getImageData(0,0,e,r);return tp.fromImageData(i)}static fromImageData(t){let e=t.width,r=t.height;return tp.fromUint8Array(t.data,e,r)}static fromUint8Array(t,e,r){switch(Object.prototype.toString.call(t)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:t=new Uint8Array(t)}let i=new Uint32Array(t.buffer);return tp.fromUint32Array(i,e,r)}static fromUint32Array(t,e,r){let i=new tp;i._width=e,i._height=r;for(let e=0,r=t.length;e<r;e++)i._pointArray[e]=td.createByUint32(0|t[e]);return i}static fromBuffer(t,e,r){let i=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/Uint32Array.BYTES_PER_ELEMENT);return tp.fromUint32Array(i,e,r)}},tm=10;function tg(t,e){let r=360/e,i=r/2;for(let n=1,a=r-i;n<e;n++,a+=r)if(t>=a&&t<a+r)return n;return 0}var tv=class{constructor(){m(this,"_pointContainer"),m(this,"_pointArray",[]),m(this,"_i32idx",{}),this._pointContainer=new tp,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)}has(t){for(let e=this._pointArray.length-1;e>=0;e--)if(t.uint32===this._pointArray[e].uint32)return!0;return!1}getNearestColor(t,e){return this._pointArray[0|this._getNearestIndex(t,e)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(t){return"number"==typeof this._i32idx[t]?this._i32idx[t]:-1}_getNearestIndex(t,e){let r=this._nearestPointFromCache(""+e.uint32);if(r>=0)return r;let i=Number.MAX_VALUE;r=0;for(let n=0,a=this._pointArray.length;n<a;n++){let a=this._pointArray[n],s=t.calculateRaw(e.r,e.g,e.b,e.a,a.r,a.g,a.b,a.a);s<i&&(i=s,r=n)}return this._i32idx[e.uint32]=r,r}sort(){this._i32idx={},this._pointArray.sort((t,e)=>{let r=O(t.r,t.g,t.b),i=O(e.r,e.g,e.b),n=t.r===t.g&&t.g===t.b?0:1+tg(r.h,tm),a=(e.r===e.g&&e.g===e.b?0:1+tg(i.h,tm))-n;if(a)return-a;let s=t.getLuminosity(!0),o=e.getLuminosity(!0);if(o-s!=0)return o-s;let l=(100*i.s|0)-(100*r.s|0);return l?-l:0})}},tb={};c(tb,{HueStatistics:()=>ty,Palette:()=>tv,Point:()=>td,PointContainer:()=>tp,ProgressTracker:()=>tx,arithmetic:()=>E});var t_=class{constructor(){m(this,"num",0),m(this,"cols",[])}},ty=class{constructor(t,e){m(this,"_numGroups"),m(this,"_minCols"),m(this,"_stats"),m(this,"_groupsFull"),this._numGroups=t,this._minCols=e,this._stats=[];for(let e=0;e<=t;e++)this._stats[e]=new t_;this._groupsFull=0}check(t){this._groupsFull===this._numGroups+1&&(this.check=()=>{});let e=255&t,r=t>>>8&255,i=t>>>16&255,n=e===r&&r===i?0:1+tg(O(e,r,i).h,this._numGroups),a=this._stats[n],s=this._minCols;a.num++,!(a.num>s)&&(a.num===s&&this._groupsFull++,a.num<=s&&this._stats[n].cols.push(t))}injectIntoDictionary(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach(e=>{t[e]?t[e]++:t[e]=1})}injectIntoArray(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach(e=>{-1===t.indexOf(e)&&t.push(e)})}},tw=class{constructor(t,e){m(this,"progress"),m(this,"_step"),m(this,"_range"),m(this,"_last"),m(this,"_progressRange"),this._range=t,this._progressRange=e,this._step=Math.max(1,this._range/(tw.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(t){return t-this._last>=this._step&&(this._last=t,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},tx=tw;m(tx,"steps",100);var tM=3,tS=class{constructor(t){m(this,"r"),m(this,"g"),m(this,"b"),m(this,"a"),this.r=this.g=this.b=this.a=t}toPoint(){return td.createByRGBA(this.r>>tM,this.g>>tM,this.b>>tM,this.a>>tM)}subtract(t,e,r,i){this.r-=0|t,this.g-=0|e,this.b-=0|r,this.a-=0|i}},tE=class extends tc{constructor(t,e=256){super(),m(this,"_pointArray"),m(this,"_networkSize"),m(this,"_network"),m(this,"_sampleFactor"),m(this,"_radPower"),m(this,"_freq"),m(this,"_bias"),m(this,"_distance"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(255<<tM,255<<tM,255<<tM,255<<tM)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new tS((t<<tM+8)/this._networkSize|0),this._freq[t]=tE._initialBias/this._networkSize|0,this._bias[t]=0}*_learn(){let t,e=this._sampleFactor,r=this._pointArray.length;r<tE._minpicturebytes&&(e=1);let i=30+(e-1)/3|0,n=r/e|0,a=n/tE._nCycles|0,s=tE._initAlpha,o=(this._networkSize>>3)*tE._radiusBias,l=o>>tE._radiusBiasShift;l<=1&&(l=0);for(let t=0;t<l;t++)this._radPower[t]=(l*l-t*t)*tE._radBias/(l*l)*s>>>0;t=r<tE._minpicturebytes?1:r%tE._prime1!=0?tE._prime1:r%tE._prime2!=0?tE._prime2:r%tE._prime3!=0?tE._prime3:tE._prime4;let h=new tx(n,99);for(let e=0,u=0;e<n;){h.shouldNotify(e)&&(yield{progress:h.progress});let n=this._pointArray[u],f=n.b<<tM,c=n.g<<tM,d=n.r<<tM,p=n.a<<tM,m=this._contest(f,c,d,p);if(this._alterSingle(s,m,f,c,d,p),0!==l&&this._alterNeighbour(l,m,f,c,d,p),(u+=t)>=r&&(u-=r),0===a&&(a=1),++e%a==0){s-=s/i|0,o-=o/tE._radiusDecrease|0,l=o>>tE._radiusBiasShift,l<=1&&(l=0);for(let t=0;t<l;t++)this._radPower[t]=(l*l-t*t)*tE._radBias/(l*l)*s>>>0}}}_buildPalette(){let t=new tv;return this._network.forEach(e=>{t.add(e.toPoint())}),t.sort(),t}_alterNeighbour(t,e,r,i,n,a){let s=e-t;s<-1&&(s=-1);let o=e+t;o>this._networkSize&&(o=this._networkSize);let l=e+1,h=e-1,u=1;for(;l<o||h>s;){let t=this._radPower[u++]/tE._alphaRadBias;if(l<o){let e=this._network[l++];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}if(h>s){let e=this._network[h--];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}}}_alterSingle(t,e,r,i,n,a){t/=tE._initAlpha;let s=this._network[e];s.subtract(t*(s.r-n),t*(s.g-i),t*(s.b-r),t*(s.a-a))}_contest(t,e,r,i){let n=1020<<tM,a=2147483647,s=2147483647,o=-1,l=-1;for(let h=0;h<this._networkSize;h++){let u=this._network[h],f=this._distance.calculateNormalized(u,{r,g:e,b:t,a:i})*n|0;f<a&&(a=f,o=h);let c=f-(this._bias[h]>>tE._initialBiasShift-tM);c<s&&(s=c,l=h);let d=this._freq[h]>>tE._betaShift;this._freq[h]-=d,this._bias[h]+=d<<tE._gammaShift}return this._freq[o]+=tE._beta,this._bias[o]-=tE._betaGamma,l}},tP=tE;m(tP,"_prime1",499),m(tP,"_prime2",491),m(tP,"_prime3",487),m(tP,"_prime4",503),m(tP,"_minpicturebytes",tE._prime4),m(tP,"_nCycles",100),m(tP,"_initialBiasShift",16),m(tP,"_initialBias",1<<tE._initialBiasShift),m(tP,"_gammaShift",10),m(tP,"_betaShift",10),m(tP,"_beta",tE._initialBias>>tE._betaShift),m(tP,"_betaGamma",tE._initialBias<<tE._gammaShift-tE._betaShift),m(tP,"_radiusBiasShift",6),m(tP,"_radiusBias",1<<tE._radiusBiasShift),m(tP,"_radiusDecrease",30),m(tP,"_alphaBiasShift",10),m(tP,"_initAlpha",1<<tE._alphaBiasShift),m(tP,"_radBiasShift",8),m(tP,"_radBias",1<<tE._radBiasShift),m(tP,"_alphaRadBiasShift",tE._alphaBiasShift+tE._radBiasShift),m(tP,"_alphaRadBias",1<<tE._alphaRadBiasShift);var tk=3,tA=class{constructor(t){m(this,"r"),m(this,"g"),m(this,"b"),m(this,"a"),this.r=this.g=this.b=this.a=t}toPoint(){return td.createByRGBA(this.r>>tk,this.g>>tk,this.b>>tk,this.a>>tk)}subtract(t,e,r,i){this.r-=t,this.g-=e,this.b-=r,this.a-=i}},tT=class extends tc{constructor(t,e=256){super(),m(this,"_pointArray"),m(this,"_networkSize"),m(this,"_network"),m(this,"_sampleFactor"),m(this,"_radPower"),m(this,"_freq"),m(this,"_bias"),m(this,"_distance"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(255<<tk,255<<tk,255<<tk,255<<tk)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new tA((t<<tk+8)/this._networkSize),this._freq[t]=tT._initialBias/this._networkSize,this._bias[t]=0}*_learn(){let t,e=this._sampleFactor,r=this._pointArray.length;r<tT._minpicturebytes&&(e=1);let i=30+(e-1)/3,n=r/e,a=n/tT._nCycles|0,s=tT._initAlpha,o=(this._networkSize>>3)*tT._radiusBias,l=o>>tT._radiusBiasShift;l<=1&&(l=0);for(let t=0;t<l;t++)this._radPower[t]=(l*l-t*t)*tT._radBias/(l*l)*s;t=r<tT._minpicturebytes?1:r%tT._prime1!=0?tT._prime1:r%tT._prime2!=0?tT._prime2:r%tT._prime3!=0?tT._prime3:tT._prime4;let h=new tx(n,99);for(let e=0,u=0;e<n;){h.shouldNotify(e)&&(yield{progress:h.progress});let n=this._pointArray[u],f=n.b<<tk,c=n.g<<tk,d=n.r<<tk,p=n.a<<tk,m=this._contest(f,c,d,p);if(this._alterSingle(s,m,f,c,d,p),0!==l&&this._alterNeighbour(l,m,f,c,d,p),(u+=t)>=r&&(u-=r),0===a&&(a=1),++e%a==0){s-=s/i,o-=o/tT._radiusDecrease,l=o>>tT._radiusBiasShift,l<=1&&(l=0);for(let t=0;t<l;t++)this._radPower[t]=(l*l-t*t)*tT._radBias/(l*l)*s}}}_buildPalette(){let t=new tv;return this._network.forEach(e=>{t.add(e.toPoint())}),t.sort(),t}_alterNeighbour(t,e,r,i,n,a){let s=e-t;s<-1&&(s=-1);let o=e+t;o>this._networkSize&&(o=this._networkSize);let l=e+1,h=e-1,u=1;for(;l<o||h>s;){let t=this._radPower[u++]/tT._alphaRadBias;if(l<o){let e=this._network[l++];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}if(h>s){let e=this._network[h--];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}}}_alterSingle(t,e,r,i,n,a){t/=tT._initAlpha;let s=this._network[e];s.subtract(t*(s.r-n),t*(s.g-i),t*(s.b-r),t*(s.a-a))}_contest(t,e,r,i){let n=1020<<tk,a=2147483647,s=2147483647,o=-1,l=-1;for(let h=0;h<this._networkSize;h++){let u=this._network[h],f=this._distance.calculateNormalized(u,{r,g:e,b:t,a:i})*n;f<a&&(a=f,o=h);let c=f-(this._bias[h]>>tT._initialBiasShift-tk);c<s&&(s=c,l=h);let d=this._freq[h]>>tT._betaShift;this._freq[h]-=d,this._bias[h]+=d<<tT._gammaShift}return this._freq[o]+=tT._beta,this._bias[o]-=tT._betaGamma,l}},tI=tT;m(tI,"_prime1",499),m(tI,"_prime2",491),m(tI,"_prime3",487),m(tI,"_prime4",503),m(tI,"_minpicturebytes",tT._prime4),m(tI,"_nCycles",100),m(tI,"_initialBiasShift",16),m(tI,"_initialBias",1<<tT._initialBiasShift),m(tI,"_gammaShift",10),m(tI,"_betaShift",10),m(tI,"_beta",tT._initialBias>>tT._betaShift),m(tI,"_betaGamma",tT._initialBias<<tT._gammaShift-tT._betaShift),m(tI,"_radiusBiasShift",6),m(tI,"_radiusBias",1<<tT._radiusBiasShift),m(tI,"_radiusDecrease",30),m(tI,"_alphaBiasShift",10),m(tI,"_initAlpha",1<<tT._alphaBiasShift),m(tI,"_radBiasShift",8),m(tI,"_radBias",1<<tT._radBiasShift),m(tI,"_alphaRadBiasShift",tT._alphaBiasShift+tT._radBiasShift),m(tI,"_alphaRadBias",1<<tT._alphaRadBiasShift);var tB=class{constructor(t,e){m(this,"_method"),m(this,"_hueStats"),m(this,"_histogram"),m(this,"_initColors"),m(this,"_minHueCols"),this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new ty(tB._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t)}}getImportanceSortedColorsIDXI32(){let t;let e=C(Object.keys(this._histogram),(t,e)=>this._histogram[e]-this._histogram[t]);if(0===e.length)return[];switch(this._method){case 1:let r=Math.min(e.length,this._initColors),i=e[r-1],n=this._histogram[i];t=e.slice(0,r);let a=r,s=e.length;for(;a<s&&this._histogram[e[a]]===n;)t.push(e[a++]);this._hueStats.injectIntoArray(t);break;case 2:t=e;break;default:throw Error("Incorrect method")}return t.map(t=>+t)}_colorStats1D(t){let e=this._histogram,r=t.getPointArray(),i=r.length;for(let t=0;t<i;t++){let i=r[t].uint32;this._hueStats.check(i),i in e?e[i]++:e[i]=1}}_colorStats2D(t){let e=t.getWidth(),r=t.getHeight(),i=t.getPointArray(),n=tB._boxSize[0],a=tB._boxSize[1],s=n*a,o=this._makeBoxes(e,r,n,a),l=this._histogram;o.forEach(t=>{let r=Math.round(t.w*t.h/s)*tB._boxPixels;r<2&&(r=2);let n={};this._iterateBox(t,e,t=>{let e=i[t].uint32;this._hueStats.check(e),e in l?l[e]++:e in n?++n[e]>=r&&(l[e]=n[e]):n[e]=1})}),this._hueStats.injectIntoDictionary(l)}_iterateBox(t,e,r){let i=t,n=i.y*e+i.x,a=(i.y+i.h-1)*e+(i.x+i.w-1),s=e-i.w+1,o=0,l=n;do r.call(this,l),l+=++o%i.w==0?s:1;while(l<=a)}_makeBoxes(t,e,r,i){let n=t%r,a=e%i,s=t-n,o=e-a,l=[];for(let h=0;h<e;h+=i)for(let e=0;e<t;e+=r)l.push({x:e,y:h,w:e===s?n:r,h:h===o?a:i});return l}},tC=tB;m(tC,"_boxSize",[64,64]),m(tC,"_boxPixels",2),m(tC,"_hueGroups",10);var tO=class{constructor(t,e,r){m(this,"index"),m(this,"color"),m(this,"distance"),this.index=t,this.color=e,this.distance=r}},tL=class extends tc{constructor(t,e=256,r=2){super(),m(this,"_colors"),m(this,"_initialDistance"),m(this,"_distanceIncrement"),m(this,"_histogram"),m(this,"_distance"),this._distance=t,this._colors=e,this._histogram=new tC(r,e),this._initialDistance=.01,this._distanceIncrement=.005}sample(t){this._histogram.sample(t)}*quantize(){let t=this._histogram.getImportanceSortedColorsIDXI32();if(0===t.length)throw Error("No colors in image");yield*this._buildPalette(t)}*_buildPalette(t){let e=new tv,r=e.getPointContainer().getPointArray(),i=Array(t.length);for(let e=0;e<t.length;e++)r.push(td.createByUint32(t[e])),i[e]=1;let n=r.length,a=[],s=n,o=this._initialDistance,l=new tx(s-this._colors,99);for(;s>this._colors;){a.length=0;for(let t=0;t<n;t++){if(l.shouldNotify(n-s)&&(yield{progress:l.progress}),0===i[t])continue;let e=r[t];for(let l=t+1;l<n;l++){if(0===i[l])continue;let t=r[l],n=this._distance.calculateNormalized(e,t);n<o&&(a.push(new tO(l,t,n)),i[l]=0,s--)}}o+=s>3*this._colors?this._initialDistance:this._distanceIncrement}if(s<this._colors){C(a,(t,e)=>e.distance-t.distance);let t=0;for(;s<this._colors&&t<a.length;)i[a[t].index]=1,s++,t++}let h=r.length;for(let t=h-1;t>=0;t--)0===i[t]&&(t!==h-1&&(r[t]=r[h-1]),--h);r.length=h,e.sort(),yield{palette:e,progress:100}}};function tD(t){let e=[];for(let r=0;r<t;r++)e[r]=0;return e}function tR(t,e,r,i){let n=Array(t);for(let a=0;a<t;a++){n[a]=Array(e);for(let t=0;t<e;t++){n[a][t]=Array(r);for(let e=0;e<r;e++){n[a][t][e]=Array(i);for(let r=0;r<i;r++)n[a][t][e][r]=0}}}return n}function tz(t,e,r){let i=Array(t);for(let n=0;n<t;n++){i[n]=Array(e);for(let t=0;t<e;t++){i[n][t]=Array(r);for(let e=0;e<r;e++)i[n][t][e]=0}}return i}function tF(t,e,r,i,n){for(let a=0;a<e;a++){t[a]=[];for(let e=0;e<r;e++){t[a][e]=[];for(let r=0;r<i;r++)t[a][e][r]=n}}}function tj(t,e,r){for(let i=0;i<e;i++)t[i]=r}var tU=class{constructor(){m(this,"redMinimum"),m(this,"redMaximum"),m(this,"greenMinimum"),m(this,"greenMaximum"),m(this,"blueMinimum"),m(this,"blueMaximum"),m(this,"volume"),m(this,"alphaMinimum"),m(this,"alphaMaximum")}},tN=class extends tc{constructor(t,e=256,r=5){super(),m(this,"_reds"),m(this,"_greens"),m(this,"_blues"),m(this,"_alphas"),m(this,"_sums"),m(this,"_weights"),m(this,"_momentsRed"),m(this,"_momentsGreen"),m(this,"_momentsBlue"),m(this,"_momentsAlpha"),m(this,"_moments"),m(this,"_table"),m(this,"_pixels"),m(this,"_cubes"),m(this,"_colors"),m(this,"_significantBitsPerChannel"),m(this,"_maxSideIndex"),m(this,"_alphaMaxSideIndex"),m(this,"_sideSize"),m(this,"_alphaSideSize"),m(this,"_distance"),this._distance=t,this._setQuality(r),this._initialize(e)}sample(t){let e=t.getPointArray();for(let t=0,r=e.length;t<r;t++)this._addColor(e[t]);this._pixels=this._pixels.concat(e)}*quantize(){yield*this._preparePalette();let t=new tv;for(let e=0;e<this._colors;e++)if(this._sums[e]>0){let r=this._sums[e],i=this._reds[e]/r,n=this._greens[e]/r,a=this._blues[e]/r,s=this._alphas[e]/r,o=td.createByRGBA(0|i,0|n,0|a,0|s);t.add(o)}t.sort(),yield{palette:t,progress:100}}*_preparePalette(){yield*this._calculateMoments();let t=0,e=tD(this._colors);for(let r=1;r<this._colors;++r){this._cut(this._cubes[t],this._cubes[r])?(e[t]=this._cubes[t].volume>1?this._calculateVariance(this._cubes[t]):0,e[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(e[t]=0,r--),t=0;let i=e[0];for(let n=1;n<=r;++n)e[n]>i&&(i=e[n],t=n);if(i<=0){this._colors=r+1;break}}let r=[],i=[],n=[],a=[];for(let t=0;t<this._colors;++t){let e=tN._volume(this._cubes[t],this._weights);e>0?(r[t]=tN._volume(this._cubes[t],this._momentsRed)/e|0,i[t]=tN._volume(this._cubes[t],this._momentsGreen)/e|0,n[t]=tN._volume(this._cubes[t],this._momentsBlue)/e|0,a[t]=tN._volume(this._cubes[t],this._momentsAlpha)/e|0):(r[t]=0,i[t]=0,n[t]=0,a[t]=0)}this._reds=tD(this._colors+1),this._greens=tD(this._colors+1),this._blues=tD(this._colors+1),this._alphas=tD(this._colors+1),this._sums=tD(this._colors+1);for(let t=0,e=this._pixels.length;t<e;t++){let e=this._pixels[t],s=-1,o=Number.MAX_VALUE;for(let t=0;t<this._colors;t++){let l=r[t],h=i[t],u=n[t],f=a[t],c=this._distance.calculateRaw(l,h,u,f,e.r,e.g,e.b,e.a);c<o&&(o=c,s=t)}this._reds[s]+=e.r,this._greens[s]+=e.g,this._blues[s]+=e.b,this._alphas[s]+=e.a,this._sums[s]++}}_addColor(t){let e=8-this._significantBitsPerChannel,r=(t.r>>e)+1,i=(t.g>>e)+1,n=(t.b>>e)+1,a=(t.a>>e)+1;this._weights[a][r][i][n]++,this._momentsRed[a][r][i][n]+=t.r,this._momentsGreen[a][r][i][n]+=t.g,this._momentsBlue[a][r][i][n]+=t.b,this._momentsAlpha[a][r][i][n]+=t.a,this._moments[a][r][i][n]+=this._table[t.r]+this._table[t.g]+this._table[t.b]+this._table[t.a]}*_calculateMoments(){let t=[],e=[],r=[],i=[],n=[],a=[],s=tz(this._sideSize,this._sideSize,this._sideSize),o=tz(this._sideSize,this._sideSize,this._sideSize),l=tz(this._sideSize,this._sideSize,this._sideSize),h=tz(this._sideSize,this._sideSize,this._sideSize),u=tz(this._sideSize,this._sideSize,this._sideSize),f=tz(this._sideSize,this._sideSize,this._sideSize),c=0,d=new tx(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){tF(s,this._sideSize,this._sideSize,this._sideSize,0),tF(o,this._sideSize,this._sideSize,this._sideSize,0),tF(l,this._sideSize,this._sideSize,this._sideSize,0),tF(h,this._sideSize,this._sideSize,this._sideSize,0),tF(u,this._sideSize,this._sideSize,this._sideSize,0),tF(f,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++c){d.shouldNotify(c)&&(yield{progress:d.progress}),tj(t,this._sideSize,0),tj(e,this._sideSize,0),tj(r,this._sideSize,0),tj(i,this._sideSize,0),tj(n,this._sideSize,0),tj(a,this._sideSize,0);for(let c=1;c<=this._maxSideIndex;++c){let d=0,g=0,v=0,b=0,_=0,y=0;for(let w=1;w<=this._maxSideIndex;++w)d+=this._weights[p][m][c][w],g+=this._momentsRed[p][m][c][w],v+=this._momentsGreen[p][m][c][w],b+=this._momentsBlue[p][m][c][w],_+=this._momentsAlpha[p][m][c][w],y+=this._moments[p][m][c][w],t[w]+=d,e[w]+=g,r[w]+=v,i[w]+=b,n[w]+=_,a[w]+=y,s[m][c][w]=s[m-1][c][w]+t[w],o[m][c][w]=o[m-1][c][w]+e[w],l[m][c][w]=l[m-1][c][w]+r[w],h[m][c][w]=h[m-1][c][w]+i[w],u[m][c][w]=u[m-1][c][w]+n[w],f[m][c][w]=f[m-1][c][w]+a[w],this._weights[p][m][c][w]=this._weights[p-1][m][c][w]+s[m][c][w],this._momentsRed[p][m][c][w]=this._momentsRed[p-1][m][c][w]+o[m][c][w],this._momentsGreen[p][m][c][w]=this._momentsGreen[p-1][m][c][w]+l[m][c][w],this._momentsBlue[p][m][c][w]=this._momentsBlue[p-1][m][c][w]+h[m][c][w],this._momentsAlpha[p][m][c][w]=this._momentsAlpha[p-1][m][c][w]+u[m][c][w],this._moments[p][m][c][w]=this._moments[p-1][m][c][w]+f[m][c][w]}}}}static _volumeFloat(t,e){return e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMaximum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum])}static _volume(t,e){return 0|tN._volumeFloat(t,e)}static _top(t,e,r,i){let n;switch(e){case tN._alpha:n=i[r][t.redMaximum][t.greenMaximum][t.blueMaximum]-i[r][t.redMaximum][t.greenMinimum][t.blueMaximum]-i[r][t.redMinimum][t.greenMaximum][t.blueMaximum]+i[r][t.redMinimum][t.greenMinimum][t.blueMaximum]-(i[r][t.redMaximum][t.greenMaximum][t.blueMinimum]-i[r][t.redMaximum][t.greenMinimum][t.blueMinimum]-i[r][t.redMinimum][t.greenMaximum][t.blueMinimum]+i[r][t.redMinimum][t.greenMinimum][t.blueMinimum]);break;case tN._red:n=i[t.alphaMaximum][r][t.greenMaximum][t.blueMaximum]-i[t.alphaMaximum][r][t.greenMinimum][t.blueMaximum]-i[t.alphaMinimum][r][t.greenMaximum][t.blueMaximum]+i[t.alphaMinimum][r][t.greenMinimum][t.blueMaximum]-(i[t.alphaMaximum][r][t.greenMaximum][t.blueMinimum]-i[t.alphaMaximum][r][t.greenMinimum][t.blueMinimum]-i[t.alphaMinimum][r][t.greenMaximum][t.blueMinimum]+i[t.alphaMinimum][r][t.greenMinimum][t.blueMinimum]);break;case tN._green:n=i[t.alphaMaximum][t.redMaximum][r][t.blueMaximum]-i[t.alphaMaximum][t.redMinimum][r][t.blueMaximum]-i[t.alphaMinimum][t.redMaximum][r][t.blueMaximum]+i[t.alphaMinimum][t.redMinimum][r][t.blueMaximum]-(i[t.alphaMaximum][t.redMaximum][r][t.blueMinimum]-i[t.alphaMaximum][t.redMinimum][r][t.blueMinimum]-i[t.alphaMinimum][t.redMaximum][r][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][r][t.blueMinimum]);break;case tN._blue:n=i[t.alphaMaximum][t.redMaximum][t.greenMaximum][r]-i[t.alphaMaximum][t.redMaximum][t.greenMinimum][r]-i[t.alphaMaximum][t.redMinimum][t.greenMaximum][r]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][r]-(i[t.alphaMinimum][t.redMaximum][t.greenMaximum][r]-i[t.alphaMinimum][t.redMaximum][t.greenMinimum][r]-i[t.alphaMinimum][t.redMinimum][t.greenMaximum][r]+i[t.alphaMinimum][t.redMinimum][t.greenMinimum][r]);break;default:throw Error("impossible")}return 0|n}static _bottom(t,e,r){switch(e){case tN._alpha:return-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case tN._red:return-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case tN._green:return-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case tN._blue:return-r[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);default:return 0}}_calculateVariance(t){let e=tN._volume(t,this._momentsRed),r=tN._volume(t,this._momentsGreen),i=tN._volume(t,this._momentsBlue),n=tN._volume(t,this._momentsAlpha);return tN._volumeFloat(t,this._moments)-(e*e+r*r+i*i+n*n)/tN._volume(t,this._weights)}_maximize(t,e,r,i,n,a,s,o,l){let h=0|tN._bottom(t,e,this._momentsRed),u=0|tN._bottom(t,e,this._momentsGreen),f=0|tN._bottom(t,e,this._momentsBlue),c=0|tN._bottom(t,e,this._momentsAlpha),d=0|tN._bottom(t,e,this._weights),p=0,m=-1;for(let g=r;g<i;++g){let r=h+tN._top(t,e,g,this._momentsRed),i=u+tN._top(t,e,g,this._momentsGreen),v=f+tN._top(t,e,g,this._momentsBlue),b=c+tN._top(t,e,g,this._momentsAlpha),_=d+tN._top(t,e,g,this._weights);if(0!==_){let t=r*r+i*i+v*v+b*b,e=t/_;r=n-r,i=a-i,v=s-v,b=o-b,0!=(_=l-_)&&(e+=(t=r*r+i*i+v*v+b*b)/_)>p&&(p=e,m=g)}}return{max:p,position:m}}_cut(t,e){let r;let i=tN._volume(t,this._momentsRed),n=tN._volume(t,this._momentsGreen),a=tN._volume(t,this._momentsBlue),s=tN._volume(t,this._momentsAlpha),o=tN._volume(t,this._weights),l=this._maximize(t,tN._red,t.redMinimum+1,t.redMaximum,i,n,a,s,o),h=this._maximize(t,tN._green,t.greenMinimum+1,t.greenMaximum,i,n,a,s,o),u=this._maximize(t,tN._blue,t.blueMinimum+1,t.blueMaximum,i,n,a,s,o),f=this._maximize(t,tN._alpha,t.alphaMinimum+1,t.alphaMaximum,i,n,a,s,o);if(f.max>=l.max&&f.max>=h.max&&f.max>=u.max){if(r=tN._alpha,f.position<0)return!1}else r=l.max>=f.max&&l.max>=h.max&&l.max>=u.max?tN._red:h.max>=f.max&&h.max>=l.max&&h.max>=u.max?tN._green:tN._blue;switch(e.redMaximum=t.redMaximum,e.greenMaximum=t.greenMaximum,e.blueMaximum=t.blueMaximum,e.alphaMaximum=t.alphaMaximum,r){case tN._red:e.redMinimum=t.redMaximum=l.position,e.greenMinimum=t.greenMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case tN._green:e.greenMinimum=t.greenMaximum=h.position,e.redMinimum=t.redMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case tN._blue:e.blueMinimum=t.blueMaximum=u.position,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum,e.alphaMinimum=t.alphaMinimum;break;case tN._alpha:e.alphaMinimum=t.alphaMaximum=f.position,e.blueMinimum=t.blueMinimum,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum}return t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),!0}_initialize(t){this._colors=t,this._cubes=[];for(let e=0;e<t;e++)this._cubes[e]=new tU;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=tR(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=tR(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=tR(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=tR(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=tR(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=tR(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let t=0;t<256;++t)this._table[t]=t*t;this._pixels=[]}_setQuality(t=5){this._significantBitsPerChannel=t,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},tG=tN;m(tG,"_alpha",3),m(tG,"_red",2),m(tG,"_green",1),m(tG,"_blue",0);var tV={};c(tV,{AbstractImageQuantizer:()=>tH,ErrorDiffusionArray:()=>tY,ErrorDiffusionArrayKernel:()=>tq,ErrorDiffusionRiemersma:()=>tJ,NearestColor:()=>tW});var tH=class{quantizeSync(t,e){for(let r of this.quantize(t,e))if(r.pointContainer)return r.pointContainer;throw Error("unreachable")}},tW=class extends tH{constructor(t){super(),m(this,"_distance"),this._distance=t}*quantize(t,e){let r=t.getPointArray(),i=t.getWidth(),n=t.getHeight(),a=new tx(n,99);for(let t=0;t<n;t++){a.shouldNotify(t)&&(yield{progress:a.progress});for(let n=0,a=t*i;n<i;n++,a++){let t=r[a];t.from(e.getNearestColor(this._distance,t))}}yield{pointContainer:t,progress:100}}},tq=((a=tq||{})[a.FloydSteinberg=0]="FloydSteinberg",a[a.FalseFloydSteinberg=1]="FalseFloydSteinberg",a[a.Stucki=2]="Stucki",a[a.Atkinson=3]="Atkinson",a[a.Jarvis=4]="Jarvis",a[a.Burkes=5]="Burkes",a[a.Sierra=6]="Sierra",a[a.TwoSierra=7]="TwoSierra",a[a.SierraLite=8]="SierraLite",a),tY=class extends tH{constructor(t,e,r=!0,i=0,n=!1){super(),m(this,"_minColorDistance"),m(this,"_serpentine"),m(this,"_kernel"),m(this,"_calculateErrorLikeGIMP"),m(this,"_distance"),this._setKernel(e),this._distance=t,this._minColorDistance=i,this._serpentine=r,this._calculateErrorLikeGIMP=n}*quantize(t,e){let r=t.getPointArray(),i=new td,n=t.getWidth(),a=t.getHeight(),s=[],o=1,l=1;for(let t of this._kernel){let e=t[2]+1;l<e&&(l=e)}for(let t=0;t<l;t++)this._fillErrorLine(s[t]=[],n);let h=new tx(a,99);for(let t=0;t<a;t++){h.shouldNotify(t)&&(yield{progress:h.progress}),this._serpentine&&(o*=-1);let l=t*n,u=1===o?0:n-1,f=1===o?n:-1;this._fillErrorLine(s[0],n),s.push(s.shift());let c=s[0];for(let h=u,d=l+u;h!==f;h+=o,d+=o){let l,u,f,p;let m=r[d],g=c[h];i.from(m);let v=td.createByRGBA(I(m.r+g[0]),I(m.g+g[1]),I(m.b+g[2]),I(m.a+g[3])),b=e.getNearestColor(this._distance,v);if(m.from(b),this._minColorDistance&&this._distance.calculateNormalized(i,b)<this._minColorDistance)continue;this._calculateErrorLikeGIMP?(l=v.r-b.r,u=v.g-b.g,f=v.b-b.b,p=v.a-b.a):(l=i.r-b.r,u=i.g-b.g,f=i.b-b.b,p=i.a-b.a);let _=1===o?0:this._kernel.length-1,y=1===o?this._kernel.length:-1;for(let e=_;e!==y;e+=o){let r=this._kernel[e][1]*o,i=this._kernel[e][2];if(r+h>=0&&r+h<n&&i+t>=0&&i+t<a){let t=this._kernel[e][0],n=s[i][r+h];n[0]+=l*t,n[1]+=u*t,n[2]+=f*t,n[3]+=p*t}}}}yield{pointContainer:t,progress:100}}_fillErrorLine(t,e){t.length>e&&(t.length=e);let r=t.length;for(let e=0;e<r;e++){let r=t[e];r[0]=r[1]=r[2]=r[3]=0}for(let i=r;i<e;i++)t[i]=[0,0,0,0]}_setKernel(t){switch(t){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw Error(`ErrorDiffusionArray: unknown kernel = ${t}`)}}};function*t$(t,e,r){let i=Math.floor(Math.log(Math.max(t,e))/Math.log(2)+1),n=new tx(t*e,99),a={width:t,height:e,level:i,callback:r,tracker:n,index:0,x:0,y:0};yield*tX(a,1),tZ(a,0)}function*tX(t,e){if(!(t.level<1)){switch(t.tracker.shouldNotify(t.index)&&(yield{progress:t.tracker.progress}),t.level--,e){case 2:yield*tX(t,1),tZ(t,3),yield*tX(t,2),tZ(t,4),yield*tX(t,2),tZ(t,2),yield*tX(t,4);break;case 3:yield*tX(t,4),tZ(t,2),yield*tX(t,3),tZ(t,1),yield*tX(t,3),tZ(t,3),yield*tX(t,1);break;case 1:yield*tX(t,2),tZ(t,4),yield*tX(t,1),tZ(t,3),yield*tX(t,1),tZ(t,1),yield*tX(t,3);break;case 4:yield*tX(t,3),tZ(t,1),yield*tX(t,4),tZ(t,2),yield*tX(t,4),tZ(t,4),yield*tX(t,2)}t.level++}}function tZ(t,e){switch(t.x>=0&&t.x<t.width&&t.y>=0&&t.y<t.height&&(t.callback(t.x,t.y),t.index++),e){case 2:t.x--;break;case 3:t.x++;break;case 1:t.y--;break;case 4:t.y++}}var tJ=class extends tH{constructor(t,e=16,r=1){super(),m(this,"_distance"),m(this,"_weights"),m(this,"_errorQueueSize"),this._distance=t,this._errorQueueSize=e,this._weights=tJ._createWeights(r,e)}*quantize(t,e){let r=t.getPointArray(),i=t.getWidth(),n=t.getHeight(),a=[],s=0;for(let t=0;t<this._errorQueueSize;t++)a[t]={r:0,g:0,b:0,a:0};yield*t$(i,n,(t,n)=>{let o=r[t+n*i],{r:l,g:h,b:u,a:f}=o;for(let t=0;t<this._errorQueueSize;t++){let e=this._weights[t],r=a[(t+s)%this._errorQueueSize];l+=r.r*e,h+=r.g*e,u+=r.b*e,f+=r.a*e}let c=td.createByRGBA(I(l),I(h),I(u),I(f)),d=e.getNearestColor(this._distance,c),p=((s=(s+1)%this._errorQueueSize)+this._errorQueueSize-1)%this._errorQueueSize;a[p].r=o.r-d.r,a[p].g=o.g-d.g,a[p].b=o.b-d.b,a[p].a=o.a-d.a,o.from(d)}),yield{pointContainer:t,progress:100}}static _createWeights(t,e){let r=[],i=Math.exp(Math.log(e)/(e-1));for(let n=0,a=1;n<e;n++)r[n]=(a+.5|0)/e*t,a*=i;return r}},tK={};c(tK,{ssim:()=>t1});var tQ=.01,t0=.03;function t1(t,e){if(t.getHeight()!==e.getHeight()||t.getWidth()!==e.getWidth())throw Error("Images have different sizes!");let r=(255*tQ)**2,i=(255*t0)**2,n=0,a=0;return t2(t,e,(t,e,s,o)=>{let l=0,h=0,u=0;for(let r=0;r<t.length;r++)h+=(t[r]-s)**2,u+=(e[r]-o)**2,l+=(t[r]-s)*(e[r]-o);let f=t.length-1;h/=f,u/=f;let c=(2*s*o+r)*(2*(l/=f)+i);a+=c/((s**2+o**2+r)*(h+u+i)),n++}),a/n}function t2(t,e,r){let i=8,n=t.getWidth(),a=t.getHeight();for(let s=0;s<a;s+=i)for(let o=0;o<n;o+=i){let l=Math.min(i,n-o),h=Math.min(i,a-s),u=t5(t,o,s,l,h),f=t5(e,o,s,l,h),c=t3(u),d=t3(f);r(u,f,c,d)}}function t5(t,e,r,i,n){let a=t.getPointArray(),s=[],o=0;for(let l=r;l<r+n;l++){let r=l*t.getWidth();for(let t=e;t<e+i;t++){let e=a[r+t];s[o]=.2126*e.r+.7152*e.g+.0722*e.b,o++}}return s}function t3(t){let e=0;for(let r of t)e+=r;return e/t.length}var t4="function"==typeof setImmediate?setImmediate:"undefined"!=typeof process&&"function"==typeof(null==process?void 0:process.nextTick)?t=>process.nextTick(t):t=>setTimeout(t,0);function t6(t,{colorDistanceFormula:e,paletteQuantization:r,colors:i}={}){let n=er(et(e),r,i);return t.forEach(t=>n.sample(t)),n.quantizeSync()}async function t8(t,{colorDistanceFormula:e,paletteQuantization:r,colors:i,onProgress:n}={}){return new Promise((a,s)=>{let o;let l=er(et(e),r,i);t.forEach(t=>l.sample(t));let h=l.quantize(),u=()=>{try{let t=h.next();t.done?a(o):(t.value.palette&&(o=t.value.palette),n&&n(t.value.progress),t4(u))}catch(t){s(t)}};t4(u)})}function t7(t,e,{colorDistanceFormula:r,imageQuantization:i}={}){return ee(et(r),i).quantizeSync(t,e)}async function t9(t,e,{colorDistanceFormula:r,imageQuantization:i,onProgress:n}={}){return new Promise((a,s)=>{let o;let l=ee(et(r),i).quantize(t,e),h=()=>{try{let t=l.next();t.done?a(o):(t.value.pointContainer&&(o=t.value.pointContainer),n&&n(t.value.progress),t4(h))}catch(t){s(t)}};t4(h)})}function et(t="euclidean-bt709"){switch(t){case"cie94-graphic-arts":return new K;case"cie94-textiles":return new J;case"ciede2000":return new tt;case"color-metric":return new te;case"euclidean":return new ti;case"euclidean-bt709":return new tn;case"euclidean-bt709-noalpha":return new ta;case"manhattan":return new to;case"manhattan-bt709":return new th;case"manhattan-nommyde":return new tl;case"pngquant":return new tu;default:throw Error(`Unknown colorDistanceFormula ${t}`)}}function ee(t,e="floyd-steinberg"){switch(e){case"nearest":return new tW(t);case"riemersma":return new tJ(t);case"floyd-steinberg":return new tY(t,0);case"false-floyd-steinberg":return new tY(t,1);case"stucki":return new tY(t,2);case"atkinson":return new tY(t,3);case"jarvis":return new tY(t,4);case"burkes":return new tY(t,5);case"sierra":return new tY(t,6);case"two-sierra":return new tY(t,7);case"sierra-lite":return new tY(t,8);default:throw Error(`Unknown imageQuantization ${e}`)}}function er(t,e="wuquant",r=256){switch(e){case"neuquant":return new tP(t,r);case"rgbquant":return new tL(t,r);case"wuquant":return new tG(t,r);case"neuquant-float":return new tI(t,r);default:throw Error(`Unknown paletteQuantization ${e}`)}}t.exports=p(g);/**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * common.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ditherErrorDiffusionArray.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * helper.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * nearestColor.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ssim.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * MIT License
 *
 * Copyright 2015-2018 Igor Bezkrovnyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * riemersma.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */},93945:function(t){!function(e,r){t.exports=r()}(0,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=/^\s+/,r=/\s+$/;function i(t,e){if(e=e||{},(t=t||"")instanceof i)return t;if(!(this instanceof i))return new i(t,e);var r=n(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function n(e){var r={r:0,g:0,b:0},i=1,n=null,s=null,l=null,u=!1,f=!1;return"string"==typeof e&&(e=U(e)),"object"==t(e)&&(j(e.r)&&j(e.g)&&j(e.b)?(r=a(e.r,e.g,e.b),u=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):j(e.h)&&j(e.s)&&j(e.v)?(n=D(e.s),s=D(e.v),r=h(e.h,n,s),u=!0,f="hsv"):j(e.h)&&j(e.s)&&j(e.l)&&(n=D(e.s),l=D(e.l),r=o(e.h,n,l),u=!0,f="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=A(i),{ok:u,format:e.format||f,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:i}}function a(t,e,r){return{r:255*T(t,255),g:255*T(e,255),b:255*T(r,255)}}function s(t,e,r){var i,n,a=Math.max(t=T(t,255),e=T(e,255),r=T(r,255)),s=Math.min(t,e,r),o=(a+s)/2;if(a==s)i=n=0;else{var l=a-s;switch(n=o>.5?l/(2-a-s):l/(a+s),a){case t:i=(e-r)/l+(e<r?6:0);break;case e:i=(r-t)/l+2;break;case r:i=(t-e)/l+4}i/=6}return{h:i,s:n,l:o}}function o(t,e,r){var i,n,a;function s(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=T(t,360),e=T(e,100),r=T(r,100),0===e)i=n=a=r;else{var o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=s(l,o,t+1/3),n=s(l,o,t),a=s(l,o,t-1/3)}return{r:255*i,g:255*n,b:255*a}}function l(t,e,r){var i,n,a=Math.max(t=T(t,255),e=T(e,255),r=T(r,255)),s=Math.min(t,e,r),o=a,l=a-s;if(n=0===a?0:l/a,a==s)i=0;else{switch(a){case t:i=(e-r)/l+(e<r?6:0);break;case e:i=(r-t)/l+2;break;case r:i=(t-e)/l+4}i/=6}return{h:i,s:n,v:o}}function h(t,e,r){t=6*T(t,360),e=T(e,100),r=T(r,100);var i=Math.floor(t),n=t-i,a=r*(1-e),s=r*(1-n*e),o=r*(1-(1-n)*e),l=i%6;return{r:255*[r,s,a,a,o,r][l],g:255*[o,r,r,s,a,a][l],b:255*[a,a,o,r,r,s][l]}}function u(t,e,r,i){var n=[L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(r).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function f(t,e,r,i,n){var a=[L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(r).toString(16)),L(R(i))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function c(t,e,r,i){return[L(R(i)),L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(r).toString(16))].join("")}function d(t,e){e=0===e?0:e||10;var r=i(t).toHsl();return r.s-=e/100,r.s=I(r.s),i(r)}function p(t,e){e=0===e?0:e||10;var r=i(t).toHsl();return r.s+=e/100,r.s=I(r.s),i(r)}function m(t){return i(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var r=i(t).toHsl();return r.l+=e/100,r.l=I(r.l),i(r)}function v(t,e){e=0===e?0:e||10;var r=i(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-(e/100*255)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-(e/100*255)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-(e/100*255)))),i(r)}function b(t,e){e=0===e?0:e||10;var r=i(t).toHsl();return r.l-=e/100,r.l=I(r.l),i(r)}function _(t,e){var r=i(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,i(r)}function y(t){var e=i(t).toHsl();return e.h=(e.h+180)%360,i(e)}function w(t,e){if(isNaN(e)||e<=0)throw Error("Argument to polyad must be a positive number");for(var r=i(t).toHsl(),n=[i(t)],a=360/e,s=1;s<e;s++)n.push(i({h:(r.h+s*a)%360,s:r.s,l:r.l}));return n}function x(t){var e=i(t).toHsl(),r=e.h;return[i(t),i({h:(r+72)%360,s:e.s,l:e.l}),i({h:(r+216)%360,s:e.s,l:e.l})]}function M(t,e,r){e=e||6,r=r||30;var n=i(t).toHsl(),a=360/r,s=[i(t)];for(n.h=(n.h-(a*e>>1)+720)%360;--e;)n.h=(n.h+a)%360,s.push(i(n));return s}function S(t,e){e=e||6;for(var r=i(t).toHsv(),n=r.h,a=r.s,s=r.v,o=[],l=1/e;e--;)o.push(i({h:n,s:a,v:s})),s=(s+l)%1;return o}i.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,i,n,a,s=this.toRgb();return t=s.r/255,e=s.g/255,r=s.b/255,.2126*(i=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(a=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=A(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),i=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+i+"%)":"hsva("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),i=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+i+"%)":"hsla("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return f(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*T(this._r,255))+"%",g:Math.round(100*T(this._g,255))+"%",b:Math.round(100*T(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*T(this._r,255))+"%, "+Math.round(100*T(this._g,255))+"%, "+Math.round(100*T(this._b,255))+"%)":"rgba("+Math.round(100*T(this._r,255))+"%, "+Math.round(100*T(this._g,255))+"%, "+Math.round(100*T(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+c(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var a=i(t);r="#"+c(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0;return!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(w,[3])},tetrad:function(){return this._applyCombination(w,[4])}},i.fromRatio=function(e,r){if("object"==t(e)){var n={};for(var a in e)e.hasOwnProperty(a)&&("a"===a?n[a]=e[a]:n[a]=D(e[a]));e=n}return i(e,r)},i.equals=function(t,e){return!!t&&!!e&&i(t).toRgbString()==i(e).toRgbString()},i.random=function(){return i.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},i.mix=function(t,e,r){r=0===r?0:r||50;var n=i(t).toRgb(),a=i(e).toRgb(),s=r/100;return i({r:(a.r-n.r)*s+n.r,g:(a.g-n.g)*s+n.g,b:(a.b-n.b)*s+n.b,a:(a.a-n.a)*s+n.a})},i.readability=function(t,e){var r=i(t),n=i(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},i.isReadable=function(t,e,r){var n,a,s=i.readability(t,e);switch(a=!1,(n=N(r)).level+n.size){case"AAsmall":case"AAAlarge":a=s>=4.5;break;case"AAlarge":a=s>=3;break;case"AAAsmall":a=s>=7}return a},i.mostReadable=function(t,e,r){var n,a,s,o,l=null,h=0;a=(r=r||{}).includeFallbackColors,s=r.level,o=r.size;for(var u=0;u<e.length;u++)(n=i.readability(t,e[u]))>h&&(h=n,l=i(e[u]));return i.isReadable(t,l,{level:s,size:o})||!a?l:(r.includeFallbackColors=!1,i.mostReadable(t,["#fff","#000"],r))};var E=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=i.hexNames=k(E);function k(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function A(t){return(isNaN(t=parseFloat(t))||t<0||t>1)&&(t=1),t}function T(t,e){C(t)&&(t="100%");var r=O(t);return(t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),1e-6>Math.abs(t-e))?1:t%e/parseFloat(e)}function I(t){return Math.min(1,Math.max(0,t))}function B(t){return parseInt(t,16)}function C(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function O(t){return"string"==typeof t&&-1!=t.indexOf("%")}function L(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function R(t){return Math.round(255*parseFloat(t)).toString(16)}function z(t){return B(t)/255}var F=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:RegExp("rgb"+e),rgba:RegExp("rgba"+r),hsl:RegExp("hsl"+e),hsla:RegExp("hsla"+r),hsv:RegExp("hsv"+e),hsva:RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function j(t){return!!F.CSS_UNIT.exec(t)}function U(t){t=t.replace(e,"").replace(r,"").toLowerCase();var i,n=!1;if(E[t])t=E[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(i=F.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=F.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=F.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=F.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=F.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=F.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=F.hex8.exec(t))?{r:B(i[1]),g:B(i[2]),b:B(i[3]),a:z(i[4]),format:n?"name":"hex8"}:(i=F.hex6.exec(t))?{r:B(i[1]),g:B(i[2]),b:B(i[3]),format:n?"name":"hex"}:(i=F.hex4.exec(t))?{r:B(i[1]+""+i[1]),g:B(i[2]+""+i[2]),b:B(i[3]+""+i[3]),a:z(i[4]+""+i[4]),format:n?"name":"hex8"}:!!(i=F.hex3.exec(t))&&{r:B(i[1]+""+i[1]),g:B(i[2]+""+i[2]),b:B(i[3]+""+i[3]),format:n?"name":"hex"}}function N(t){var e,r;return e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:e,size:r}}return i})},85428:(t,e,r)=>{"use strict";let i;r.d(e,{E:()=>o_});var n=r(10326),a=r(17577);let s=(0,a.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),o=(0,a.createContext)({}),l=(0,a.createContext)(null),h="undefined"!=typeof window,u=h?a.useLayoutEffect:a.useEffect,f=(0,a.createContext)({strict:!1}),c=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d="data-"+c("framerAppearId"),p={skipAnimations:!1,useManualTiming:!1};function m(t){let e=new Set,r=new Set,i=!1,n=!1,a=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1};function o(e){a.has(e)&&(l.schedule(e),t()),e(s)}let l={schedule:(t,n=!1,s=!1)=>{let o=s&&i?e:r;return n&&a.add(t),o.has(t)||o.add(t),t},cancel:t=>{r.delete(t),a.delete(t)},process:t=>{if(s=t,i){n=!0;return}i=!0,[e,r]=[r,e],r.clear(),e.forEach(o),i=!1,n&&(n=!1,l.process(t))}};return l}let g=["read","resolveKeyframes","update","preRender","render","postRender"],v=40;function b(t,e){let r=!1,i=!0,n={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=g.reduce((t,e)=>(t[e]=m(a),t),{}),{read:o,resolveKeyframes:l,update:h,preRender:u,render:f,postRender:c}=s,d=()=>{let a=p.useManualTiming?n.timestamp:performance.now();r=!1,n.delta=i?1e3/60:Math.max(Math.min(a-n.timestamp,v),1),n.timestamp=a,n.isProcessing=!0,o.process(n),l.process(n),h.process(n),u.process(n),f.process(n),c.process(n),n.isProcessing=!1,r&&e&&(i=!1,t(d))},b=()=>{r=!0,i=!0,n.isProcessing||t(d)};return{schedule:g.reduce((t,e)=>{let i=s[e];return t[e]=(t,e=!1,n=!1)=>(r||b(),i.schedule(t,e,n)),t},{}),cancel:t=>{for(let e=0;e<g.length;e++)s[g[e]].cancel(t)},state:n,steps:s}}let{schedule:_,cancel:y}=b(queueMicrotask,!1);function w(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}let x=(0,a.createContext)({}),M=!1;function S(t,e,r,i,n){var h;let{visualElement:c}=(0,a.useContext)(o),p=(0,a.useContext)(f),m=(0,a.useContext)(l),g=(0,a.useContext)(s).reducedMotion,v=(0,a.useRef)();i=i||p.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:c,props:r,presenceContext:m,blockInitialAnimation:!!m&&!1===m.initial,reducedMotionConfig:g}));let b=v.current,y=(0,a.useContext)(x);b&&!b.projection&&n&&("html"===b.type||"svg"===b.type)&&P(v.current,r,n,y),(0,a.useInsertionEffect)(()=>{b&&b.update(r,m)});let w=r[d],S=(0,a.useRef)(!!w&&!window.MotionHandoffIsComplete&&(null===(h=window.MotionHasOptimisedAnimation)||void 0===h?void 0:h.call(window,w)));return u(()=>{b&&(b.updateFeatures(),_.render(b.render),S.current&&b.animationState&&b.animationState.animateChanges())}),(0,a.useEffect)(()=>{b&&(!S.current&&b.animationState&&b.animationState.animateChanges(),S.current=!1,M||(M=!0,queueMicrotask(E)))}),b}function E(){window.MotionHandoffIsComplete=!0}function P(t,e,r,i){let{layoutId:n,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:k(t.parent)),t.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!s||o&&w(o),visualElement:t,animationType:"string"==typeof a?a:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:h})}function k(t){if(t)return!1!==t.options.allowProjection?t.projection:k(t.parent)}function A(t,e,r){return(0,a.useCallback)(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),r&&("function"==typeof r?r(i):w(r)&&(r.current=i))},[e])}function T(t){return"string"==typeof t||Array.isArray(t)}function I(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}let B=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C=["initial",...B];function O(t){return I(t.animate)||C.some(e=>T(t[e]))}function L(t){return!!(O(t)||t.variants)}function D(t,e){if(O(t)){let{initial:e,animate:r}=t;return{initial:!1===e||T(e)?e:void 0,animate:T(r)?r:void 0}}return!1!==t.inherit?e:{}}function R(t){let{initial:e,animate:r}=D(t,(0,a.useContext)(o));return(0,a.useMemo)(()=>({initial:e,animate:r}),[z(e),z(r)])}function z(t){return Array.isArray(t)?t.join(" "):t}let F={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},j={};for(let t in F)j[t]={isEnabled:e=>F[t].some(t=>!!e[t])};function U(t){for(let e in t)j[e]={...j[e],...t[e]}}let N=(0,a.createContext)({}),G=Symbol.for("motionComponentSymbol");function V({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:i,Component:l}){function u(u,f){let c;let d={...(0,a.useContext)(s),...u,layoutId:H(u)},{isStatic:p}=d,m=R(u),g=i(u,p);if(!p&&h){W(d,t);let r=q(d);c=r.MeasureLayout,m.visualElement=S(l,g,d,e,r.ProjectionNode)}return(0,n.jsxs)(o.Provider,{value:m,children:[c&&m.visualElement?(0,n.jsx)(c,{visualElement:m.visualElement,...d}):null,r(l,u,A(g,m.visualElement,f),g,p,m.visualElement)]})}t&&U(t);let f=(0,a.forwardRef)(u);return f[G]=l,f}function H({layoutId:t}){let e=(0,a.useContext)(N).id;return e&&void 0!==t?e+"-"+t:t}function W(t,e){(0,a.useContext)(f).strict}function q(t){let{drag:e,layout:r}=j;if(!e&&!r)return{};let i={...e,...r};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==r?void 0:r.isEnabled(t))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Y(t){function e(e,r={}){return V(t(e,r))}if("undefined"==typeof Proxy)return e;let r=new Map;return new Proxy(e,{get:(t,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}let $=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X(t){if("string"!=typeof t||t.includes("-"));else if($.indexOf(t)>-1||/[A-Z]/u.test(t))return!0;return!1}let Z={};function J(t){Object.assign(Z,t)}let K=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Q=new Set(K);function tt(t,{layout:e,layoutId:r}){return Q.has(t)||t.startsWith("origin")||(e||void 0!==r)&&(!!Z[t]||"opacity"===t)}let te=t=>!!(t&&t.getVelocity),tr=(t,e)=>e&&"number"==typeof t?e.transform(t):t,ti=(t,e,r)=>r>e?e:r<t?t:r,tn={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},ta={...tn,transform:t=>ti(0,1,t)},ts={...tn,default:1},to=t=>Math.round(1e5*t)/1e5,tl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,th=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function tf(t){return"string"==typeof t}function tc(t){return null==t}let td=t=>({test:e=>tf(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),tp=td("deg"),tm=td("%"),tg=td("px"),tv=td("vh"),tb=td("vw"),t_={...tm,parse:t=>tm.parse(t)/100,transform:t=>tm.transform(100*t)},ty={...tn,transform:Math.round},tw={borderWidth:tg,borderTopWidth:tg,borderRightWidth:tg,borderBottomWidth:tg,borderLeftWidth:tg,borderRadius:tg,radius:tg,borderTopLeftRadius:tg,borderTopRightRadius:tg,borderBottomRightRadius:tg,borderBottomLeftRadius:tg,width:tg,maxWidth:tg,height:tg,maxHeight:tg,size:tg,top:tg,right:tg,bottom:tg,left:tg,padding:tg,paddingTop:tg,paddingRight:tg,paddingBottom:tg,paddingLeft:tg,margin:tg,marginTop:tg,marginRight:tg,marginBottom:tg,marginLeft:tg,rotate:tp,rotateX:tp,rotateY:tp,rotateZ:tp,scale:ts,scaleX:ts,scaleY:ts,scaleZ:ts,skew:tp,skewX:tp,skewY:tp,distance:tg,translateX:tg,translateY:tg,translateZ:tg,x:tg,y:tg,z:tg,perspective:tg,transformPerspective:tg,opacity:ta,originX:t_,originY:t_,originZ:tg,zIndex:ty,backgroundPositionX:tg,backgroundPositionY:tg,fillOpacity:ta,strokeOpacity:ta,numOctaves:ty},tx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tM=K.length;function tS(t,e,r){let i="",n=!0;for(let a=0;a<tM;a++){let s=K[a],o=t[s];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o))||r){let t=tr(o,tw[s]);if(!l){n=!1;let e=tx[s]||s;i+=`${e}(${t}) `}r&&(e[s]=t)}}return i=i.trim(),r?i=r(e,n?"":i):n&&(i="none"),i}let tE=t=>e=>"string"==typeof e&&e.startsWith(t),tP=tE("--"),tk=tE("var(--"),tA=t=>!!tk(t)&&tT.test(t.split("/*")[0].trim()),tT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function tI(t,e,r){let{style:i,vars:n,transformOrigin:a}=t,s=!1,o=!1;for(let t in e){let r=e[t];if(Q.has(t)){s=!0;continue}if(tP(t)){n[t]=r;continue}{let e=tr(r,tw[t]);t.startsWith("origin")?(o=!0,a[t]=e):i[t]=e}}if(!e.transform&&(s||r?i.transform=tS(e,t.transform,r):i.transform&&(i.transform="none")),o){let{originX:t="50%",originY:e="50%",originZ:r=0}=a;i.transformOrigin=`${t} ${e} ${r}`}}let tB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tC(t,e,r){for(let i in e)te(e[i])||tt(i,r)||(t[i]=e[i])}function tO({transformTemplate:t},e){return(0,a.useMemo)(()=>{let r=tB();return tI(r,e,t),Object.assign({},r.vars,r.style)},[e])}function tL(t,e){let r=t.style||{},i={};return tC(i,r,t),Object.assign(i,tO(t,e)),i}function tD(t,e){let r={},i=tL(t,e);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}let tR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tz(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tR.has(t)}let tF=t=>!tz(t);function tj(t){t&&(tF=e=>e.startsWith("on")?!tz(e):t(e))}try{tj(require("@emotion/is-prop-valid").default)}catch(t){}function tU(t,e,r){let i={};for(let n in t)("values"!==n||"object"!=typeof t.values)&&(tF(n)||!0===r&&tz(n)||!e&&!tz(n)||t.draggable&&n.startsWith("onDrag"))&&(i[n]=t[n]);return i}function tN(t,e,r){return"string"==typeof t?t:tg.transform(e+r*t)}function tG(t,e,r){let i=tN(e,t.x,t.width),n=tN(r,t.y,t.height);return`${i} ${n}`}let tV={offset:"stroke-dashoffset",array:"stroke-dasharray"},tH={offset:"strokeDashoffset",array:"strokeDasharray"};function tW(t,e,r=1,i=0,n=!0){t.pathLength=1;let a=n?tV:tH;t[a.offset]=tg.transform(-i);let s=tg.transform(e),o=tg.transform(r);t[a.array]=`${s} ${o}`}function tq(t,{attrX:e,attrY:r,attrScale:i,originX:n,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...h},u,f){if(tI(t,h,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:c,style:d,dimensions:p}=t;c.transform&&(p&&(d.transform=c.transform),delete c.transform),p&&(void 0!==n||void 0!==a||d.transform)&&(d.transformOrigin=tG(p,void 0!==n?n:.5,void 0!==a?a:.5)),void 0!==e&&(c.x=e),void 0!==r&&(c.y=r),void 0!==i&&(c.scale=i),void 0!==s&&tW(c,s,o,l,!1)}let tY=()=>({...tB(),attrs:{}}),t$=t=>"string"==typeof t&&"svg"===t.toLowerCase();function tX(t,e,r,i){let n=(0,a.useMemo)(()=>{let r=tY();return tq(r,e,t$(i),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){let e={};tC(e,t.style,t),n.style={...e,...n.style}}return n}function tZ(t=!1){return(e,r,i,{latestValues:n},s)=>{let o=(X(e)?tX:tD)(r,n,s,e),l=tU(r,"string"==typeof e,t),h=e!==a.Fragment?{...l,...o,ref:i}:{},{children:u}=r,f=(0,a.useMemo)(()=>te(u)?u.get():u,[u]);return(0,a.createElement)(e,{...h,children:f})}}function tJ(t,{style:e,vars:r},i,n){for(let a in Object.assign(t.style,e,n&&n.getProjectionStyles(i)),r)t.style.setProperty(a,r[a])}let tK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tQ(t,e,r,i){for(let r in tJ(t,e,void 0,i),e.attrs)t.setAttribute(tK.has(r)?r:c(r),e.attrs[r])}function t0(t,e,r){var i;let{style:n}=t,a={};for(let s in n)(te(n[s])||e.style&&te(e.style[s])||tt(s,t)||(null===(i=null==r?void 0:r.getValue(s))||void 0===i?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return r&&n&&"string"==typeof n.willChange&&(r.applyWillChange=!1),a}function t1(t,e,r){let i=t0(t,e,r);for(let r in t)(te(t[r])||te(e[r]))&&(i[-1!==K.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=t[r]);return i}function t2(t){let e=[{},{}];return null==t||t.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function t5(t,e,r,i){if("function"==typeof e){let[n,a]=t2(i);e=e(void 0!==r?r:t.custom,n,a)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){let[n,a]=t2(i);e=e(void 0!==r?r:t.custom,n,a)}return e}function t3(t){let e=(0,a.useRef)(null);return null===e.current&&(e.current=t()),e.current}let t4=t=>Array.isArray(t),t6=t=>!!(t&&"object"==typeof t&&t.mix&&t.toValue),t8=t=>t4(t)?t[t.length-1]||0:t;function t7(t){let e=te(t)?t.get():t;return t6(e)?e.toValue():e}let t9=new Set(["opacity","clipPath","filter","transform"]);function et(t){return Q.has(t)?"transform":t9.has(t)?c(t):void 0}function ee(t,e){-1===t.indexOf(e)&&t.push(e)}function er(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function ei({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:r,onMount:i},n,a,s,o){let l={latestValues:eo(n,a,s,!o&&t,e),renderState:r()};return i&&(l.mount=t=>i(n,t,l)),l}let en=t=>(e,r)=>{let i=(0,a.useContext)(o),n=(0,a.useContext)(l),s=()=>ei(t,e,i,n,r);return r?s():t3(s)};function ea(t,e){let r=et(e);r&&ee(t,r)}function es(t,e,r){let i=Array.isArray(e)?e:[e];for(let e=0;e<i.length;e++){let n=t5(t,i[e]);if(n){let{transitionEnd:t,transition:e,...i}=n;r(i,t)}}}function eo(t,e,r,i,n){var a;let s={},o=[],l=i&&(null===(a=t.style)||void 0===a?void 0:a.willChange)===void 0,h=n(t,{});for(let t in h)s[t]=t7(h[t]);let{initial:u,animate:f}=t,c=O(t),d=L(t);e&&d&&!c&&!1!==t.inherit&&(void 0===u&&(u=e.initial),void 0===f&&(f=e.animate));let p=!!r&&!1===r.initial,m=(p=p||!1===u)?f:u;return m&&"boolean"!=typeof m&&!I(m)&&es(t,m,(t,e)=>{for(let e in t){let r=t[e];if(Array.isArray(r)){let t=p?r.length-1:0;r=r[t]}null!==r&&(s[e]=r)}for(let t in e)s[t]=e[t]}),l&&(f&&!1!==u&&!I(f)&&es(t,f,t=>{for(let e in t)ea(o,e)}),o.length&&(s.willChange=o.join(","))),s}let el=t=>t,{schedule:eh,cancel:eu,state:ef,steps:ec}=b("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:el,!0),ed={useVisualState:en({scrapeMotionValuesFromProps:t1,createRenderState:tY,onMount:(t,e,{renderState:r,latestValues:i})=>{eh.read(()=>{try{r.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}}),eh.render(()=>{tq(r,i,t$(e.tagName),t.transformTemplate),tQ(e,r)})}})},ep={useVisualState:en({applyWillChange:!0,scrapeMotionValuesFromProps:t0,createRenderState:tB})};function em(t,{forwardMotionProps:e=!1},r,i){return{...X(t)?ed:ep,preloadedFeatures:r,useRender:tZ(e),createVisualElement:i,Component:t}}function eg(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}let ev=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function eb(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}let e_=t=>e=>ev(e)&&t(e,eb(e));function ey(t,e,r,i){return eg(t,e,e_(r),i)}let ew=(t,e)=>r=>e(t(r)),ex=(...t)=>t.reduce(ew);function eM(t){let e=null;return()=>{let r=()=>{e=null};return null===e&&(e=t,r)}}let eS=eM("dragHorizontal"),eE=eM("dragVertical");function eP(t){let e=!1;if("y"===t)e=eE();else if("x"===t)e=eS();else{let t=eS(),r=eE();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function ek(){let t=eP(!0);return!t||(t(),!1)}class eA{constructor(t){this.isMounted=!1,this.node=t}update(){}}function eT(t,e){let r=e?"pointerenter":"pointerleave",i=e?"onHoverStart":"onHoverEnd",n=(r,n)=>{if("touch"===r.pointerType||ek())return;let a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);let s=a[i];s&&eh.postRender(()=>s(r,n))};return ey(t.current,r,n,{passive:!t.getProps()[i]})}class eI extends eA{mount(){this.unmount=ex(eT(this.node,!0),eT(this.node,!1))}unmount(){}}class eB extends eA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ex(eg(this.node.current,"focus",()=>this.onFocus()),eg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}let eC=(t,e)=>!!e&&(t===e||eC(t,e.parentElement));function eO(t,e){if(!e)return;let r=new PointerEvent("pointer"+t);e(r,eb(r))}class eL extends eA{constructor(){super(...arguments),this.removeStartListeners=el,this.removeEndListeners=el,this.removeAccessibleListeners=el,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();let r=this.node.getProps(),i=ey(window,"pointerup",(t,e)=>{if(!this.checkPressEnd())return;let{onTap:r,onTapCancel:i,globalTapTarget:n}=this.node.getProps(),a=n||eC(this.node.current,t.target)?r:i;a&&eh.update(()=>a(t,e))},{passive:!(r.onTap||r.onPointerUp)}),n=ey(window,"pointercancel",(t,e)=>this.cancelPress(t,e),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ex(i,n),this.startPress(t,e)},this.startAccessiblePress=()=>{let t=t=>{if("Enter"!==t.key||this.isPressing)return;let e=t=>{"Enter"===t.key&&this.checkPressEnd()&&eO("up",(t,e)=>{let{onTap:r}=this.node.getProps();r&&eh.postRender(()=>r(t,e))})};this.removeEndListeners(),this.removeEndListeners=eg(this.node.current,"keyup",e),eO("down",(t,e)=>{this.startPress(t,e)})},e=eg(this.node.current,"keydown",t),r=()=>{this.isPressing&&eO("cancel",(t,e)=>this.cancelPress(t,e))},i=eg(this.node.current,"blur",r);this.removeAccessibleListeners=ex(e,i)}}startPress(t,e){this.isPressing=!0;let{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&eh.postRender(()=>r(t,e))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ek()}cancelPress(t,e){if(!this.checkPressEnd())return;let{onTapCancel:r}=this.node.getProps();r&&eh.postRender(()=>r(t,e))}mount(){let t=this.node.getProps(),e=ey(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=eg(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ex(e,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}let eD=new WeakMap,eR=new WeakMap,ez=t=>{let e=eD.get(t.target);e&&e(t)},eF=t=>{t.forEach(ez)};function ej({root:t,...e}){let r=t||document;eR.has(r)||eR.set(r,{});let i=eR.get(r),n=JSON.stringify(e);return i[n]||(i[n]=new IntersectionObserver(eF,{root:t,...e})),i[n]}function eU(t,e,r){let i=ej(e);return eD.set(t,r),i.observe(t),()=>{eD.delete(t),i.unobserve(t)}}let eN={some:0,all:1};class eG extends eA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:i="some",once:n}=t,a={root:e?e.current:void 0,rootMargin:r,threshold:"number"==typeof i?i:eN[i]},s=t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,n&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:r,onViewportLeave:i}=this.node.getProps(),a=e?r:i;a&&a(t)};return eU(this.node.current,a,s)}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node;["amount","margin","root"].some(eV(t,e))&&this.startObserver()}unmount(){}}function eV({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}let eH={inView:{Feature:eG},tap:{Feature:eL},focus:{Feature:eB},hover:{Feature:eI}};function eW(t,e){if(!Array.isArray(e))return!1;let r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function eq(t,e,r){let i=t.getProps();return t5(i,e,void 0!==r?r:i.custom,t)}let eY=t=>1e3*t,e$=t=>t/1e3,eX={type:"spring",stiffness:500,damping:25,restSpeed:10},eZ=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),eJ={type:"keyframes",duration:.8},eK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eQ=(t,{keyframes:e})=>e.length>2?eJ:Q.has(t)?t.startsWith("scale")?eZ(e[1]):eX:eK;function e0({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:n,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:h,...u}){return!!Object.keys(u).length}function e1(t,e){return t[e]||t.default||t}let e2={current:!1},e5=t=>null!==t;function e3(t,{repeat:e,repeatType:r="loop"},i){let n=t.filter(e5),a=e&&"loop"!==r&&e%2==1?0:n.length-1;return a&&void 0!==i?i:n[a]}let e4=t=>/^0[^.\s]+$/u.test(t);function e6(t){return"number"==typeof t?0===t:null===t||"none"===t||"0"===t||e4(t)}let e8=el,e7=el,e9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function re(t){let e=rt.exec(t);if(!e)return[,];let[,r,i,n]=e;return[`--${null!=r?r:i}`,n]}let rr=4;function ri(t,e,r=1){e7(r<=rr,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[i,n]=re(t);if(!i)return;let a=window.getComputedStyle(e).getPropertyValue(i);if(a){let t=a.trim();return e9(t)?parseFloat(t):t}return tA(n)?ri(n,e,r+1):n}let rn=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ra=t=>t===tn||t===tg,rs=(t,e)=>parseFloat(t.split(", ")[e]),ro=(t,e)=>(r,{transform:i})=>{if("none"===i||!i)return 0;let n=i.match(/^matrix3d\((.+)\)$/u);if(n)return rs(n[1],e);{let e=i.match(/^matrix\((.+)\)$/u);return e?rs(e[1],t):0}},rl=new Set(["x","y","z"]),rh=K.filter(t=>!rl.has(t));function ru(t){let e=[];return rh.forEach(r=>{let i=t.getValue(r);void 0!==i&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}let rf={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ro(4,13),y:ro(5,14)};rf.translateX=rf.x,rf.translateY=rf.y;let rc=t=>e=>e.test(t),rd=[tn,tg,tm,tp,tb,tv,{test:t=>"auto"===t,parse:t=>t}],rp=t=>rd.find(rc(t)),rm=new Set,rg=!1,rv=!1;function rb(){if(rv){let t=Array.from(rm).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),r=new Map;e.forEach(t=>{let e=ru(t);e.length&&(r.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();let e=r.get(t);e&&e.forEach(([e,r])=>{var i;null===(i=t.getValue(e))||void 0===i||i.set(r)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}rv=!1,rg=!1,rm.forEach(t=>t.complete()),rm.clear()}function r_(){rm.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rv=!0)})}function ry(){r_(),rb()}class rw{constructor(t,e,r,i,n,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=i,this.element=n,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rm.add(this),rg||(rg=!0,eh.read(r_),eh.resolveKeyframes(rb))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:e,element:r,motionValue:i}=this;for(let n=0;n<t.length;n++)if(null===t[n]){if(0===n){let n=null==i?void 0:i.get(),a=t[t.length-1];if(void 0!==n)t[0]=n;else if(r&&e){let i=r.readValue(e,a);null!=i&&(t[0]=i)}void 0===t[0]&&(t[0]=a),i&&void 0===n&&i.set(t[0])}else t[n]=t[n-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rm.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rm.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let rx=(t,e)=>r=>!!(tf(r)&&tu.test(r)&&r.startsWith(t)||e&&!tc(r)&&Object.prototype.hasOwnProperty.call(r,e)),rM=(t,e,r)=>i=>{if(!tf(i))return i;let[n,a,s,o]=i.match(tl);return{[t]:parseFloat(n),[e]:parseFloat(a),[r]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},rS=t=>ti(0,255,t),rE={...tn,transform:t=>Math.round(rS(t))},rP={test:rx("rgb","red"),parse:rM("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+rE.transform(t)+", "+rE.transform(e)+", "+rE.transform(r)+", "+to(ta.transform(i))+")"};function rk(t){let e="",r="",i="",n="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),n=t.substring(4,5),e+=e,r+=r,i+=i,n+=n),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}}let rA={test:rx("#"),parse:rk,transform:rP.transform},rT={test:rx("hsl","hue"),parse:rM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+tm.transform(to(e))+", "+tm.transform(to(r))+", "+to(ta.transform(i))+")"},rI={test:t=>rP.test(t)||rA.test(t)||rT.test(t),parse:t=>rP.test(t)?rP.parse(t):rT.test(t)?rT.parse(t):rA.parse(t),transform:t=>tf(t)?t:t.hasOwnProperty("red")?rP.transform(t):rT.transform(t)},rB="number",rC="color",rO="var",rL="var(",rD="${}",rR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rz(t){let e=t.toString(),r=[],i={color:[],number:[],var:[]},n=[],a=0,s=e.replace(rR,t=>(rI.test(t)?(i.color.push(a),n.push(rC),r.push(rI.parse(t))):t.startsWith(rL)?(i.var.push(a),n.push(rO),r.push(t)):(i.number.push(a),n.push(rB),r.push(parseFloat(t))),++a,rD)).split(rD);return{values:r,split:s,indexes:i,types:n}}function rF(t){return rz(t).values}function rj(t){let{split:e,types:r}=rz(t),i=e.length;return t=>{let n="";for(let a=0;a<i;a++)if(n+=e[a],void 0!==t[a]){let e=r[a];e===rB?n+=to(t[a]):e===rC?n+=rI.transform(t[a]):n+=t[a]}return n}}let rU=t=>"number"==typeof t?0:t;function rN(t){let e=rF(t);return rj(t)(e.map(rU))}let rG={test:function(t){var e,r;return isNaN(t)&&tf(t)&&((null===(e=t.match(tl))||void 0===e?void 0:e.length)||0)+((null===(r=t.match(th))||void 0===r?void 0:r.length)||0)>0},parse:rF,createTransformer:rj,getAnimatableNone:rN},rV=new Set(["brightness","contrast","saturate","opacity"]);function rH(t){let[e,r]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[i]=r.match(tl)||[];if(!i)return t;let n=r.replace(i,""),a=rV.has(e)?1:0;return i!==r&&(a*=100),e+"("+a+n+")"}let rW=/\b([a-z-]*)\(.*?\)/gu,rq={...rG,getAnimatableNone:t=>{let e=t.match(rW);return e?e.map(rH).join(" "):t}},rY={...tw,color:rI,backgroundColor:rI,outlineColor:rI,fill:rI,stroke:rI,borderColor:rI,borderTopColor:rI,borderRightColor:rI,borderBottomColor:rI,borderLeftColor:rI,filter:rq,WebkitFilter:rq},r$=t=>rY[t];function rX(t,e){let r=r$(t);return r!==rq&&(r=rG),r.getAnimatableNone?r.getAnimatableNone(e):void 0}let rZ=new Set(["auto","none","0"]);function rJ(t,e,r){let i,n=0;for(;n<t.length&&!i;){let e=t[n];"string"==typeof e&&!rZ.has(e)&&rz(e).values.length&&(i=t[n]),n++}if(i&&r)for(let n of e)t[n]=rX(r,i)}class rK extends rw{constructor(t,e,r,i,n){super(t,e,r,i,n,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let r=0;r<t.length;r++){let i=t[r];if("string"==typeof i&&tA(i=i.trim())){let n=ri(i,e.current);void 0!==n&&(t[r]=n),r===t.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!rn.has(r)||2!==t.length)return;let[i,n]=t,a=rp(i),s=rp(n);if(a!==s){if(ra(a)&&ra(s))for(let e=0;e<t.length;e++){let r=t[e];"string"==typeof r&&(t[e]=parseFloat(r))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:e}=this,r=[];for(let e=0;e<t.length;e++)e6(t[e])&&r.push(e);r.length&&rJ(t,r,e)}measureInitialState(){let{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;let i=e[e.length-1];void 0!==i&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;let{element:e,name:r,unresolvedKeyframes:i}=this;if(!e||!e.current)return;let n=e.getValue(r);n&&n.jump(this.measuredOrigin,!1);let a=i.length-1,s=i[a];i[a]=rf[r](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}function rQ(t){let e;return()=>(void 0===e&&(e=t()),e)}function r0(){i=void 0}let r1={now:()=>(void 0===i&&r1.set(ef.isProcessing||p.useManualTiming?ef.timestamp:performance.now()),i),set:t=>{i=t,queueMicrotask(r0)}},r2=(t,e)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(rG.test(t)||"0"===t)&&!t.startsWith("url("));function r5(t){let e=t[0];if(1===t.length)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function r3(t,e,r,i){let n=t[0];if(null===n)return!1;if("display"===e||"visibility"===e)return!0;let a=t[t.length-1],s=r2(n,e),o=r2(a,e);return e8(s===o,`You are trying to animate ${e} from "${n}" to "${a}". ${n} is not an animatable value - to enable this animation set ${n} to a value animatable to ${a} via the \`style\` property.`),!!s&&!!o&&(r5(t)||"spring"===r&&i)}let r4=40;class r6{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:a="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=r1.now(),this.options={autoplay:t,delay:e,type:r,repeat:i,repeatDelay:n,repeatType:a,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>r4?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||ry(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=r1.now(),this.hasAttemptedResolve=!0;let{name:r,type:i,velocity:n,delay:a,onComplete:s,onUpdate:o,isGenerator:l}=this.options;if(!l&&!r3(t,r,i,n)){if(e2.current||!a){null==o||o(e3(t,this.options,e)),null==s||s(),this.resolveFinishedPromise();return}this.options.duration=0}let h=this.initPlayback(t,e);!1!==h&&(this._resolved={keyframes:t,finalKeyframe:e,...h},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function r8(t,e){return e?1e3/e*t:0}let r7=5;function r9(t,e,r){let i=Math.max(e-r7,0);return r8(r-t(i),e-i)}let it=.001,ie=.01,ir=10,ii=.05,ia=1;function is({duration:t=800,bounce:e=.25,velocity:r=0,mass:i=1}){let n,a;e8(t<=eY(ir),"Spring duration must be 10 seconds or less");let s=1-e;s=ti(ii,ia,s),t=ti(ie,ir,e$(t)),s<1?(n=e=>{let i=e*s,n=i*t;return it-(i-r)/ih(e,s)*Math.exp(-n)},a=e=>{let i=e*s*t,a=i*r+r,o=Math.pow(s,2)*Math.pow(e,2)*t,l=Math.exp(-i),h=ih(Math.pow(e,2),s);return(a-o)*l*(-n(e)+it>0?-1:1)/h}):(n=e=>-it+Math.exp(-e*t)*((e-r)*t+1),a=e=>t*t*(r-e)*Math.exp(-e*t));let o=il(n,a,5/t);if(t=eY(t),isNaN(o))return{stiffness:100,damping:10,duration:t};{let e=Math.pow(o,2)*i;return{stiffness:e,damping:2*s*Math.sqrt(i*e),duration:t}}}let io=12;function il(t,e,r){let i=r;for(let r=1;r<io;r++)i-=t(i)/e(i);return i}function ih(t,e){return t*Math.sqrt(1-e*e)}let iu=["duration","bounce"],ic=["stiffness","damping","mass"];function id(t,e){return e.some(e=>void 0!==t[e])}function ip(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!id(t,ic)&&id(t,iu)){let r=is(t);(e={...e,...r,mass:1}).isResolvedFromDuration=!0}return e}function im({keyframes:t,restDelta:e,restSpeed:r,...i}){let n;let a=t[0],s=t[t.length-1],o={done:!1,value:a},{stiffness:l,damping:h,mass:u,duration:f,velocity:c,isResolvedFromDuration:d}=ip({...i,velocity:-e$(i.velocity||0)}),p=c||0,m=h/(2*Math.sqrt(l*u)),g=s-a,v=e$(Math.sqrt(l/u)),b=5>Math.abs(g);if(r||(r=b?.01:2),e||(e=b?.005:.5),m<1){let t=ih(v,m);n=e=>s-Math.exp(-m*v*e)*((p+m*v*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}else if(1===m)n=t=>s-Math.exp(-v*t)*(g+(p+v*g)*t);else{let t=v*Math.sqrt(m*m-1);n=e=>{let r=Math.exp(-m*v*e),i=Math.min(t*e,300);return s-r*((p+m*v*g)*Math.sinh(i)+t*g*Math.cosh(i))/t}}return{calculatedDuration:d&&f||null,next:t=>{let i=n(t);if(d)o.done=t>=f;else{let a=0;m<1&&(a=0===t?eY(p):r9(n,t,i));let l=Math.abs(a)<=r,h=Math.abs(s-i)<=e;o.done=l&&h}return o.value=o.done?s:i,o}}}function ig({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:h=.5,restSpeed:u}){let f,c;let d=t[0],p={done:!1,value:d},m=t=>void 0!==o&&t<o||void 0!==l&&t>l,g=t=>void 0===o?l:void 0===l?o:Math.abs(o-t)<Math.abs(l-t)?o:l,v=r*e,b=d+v,_=void 0===s?b:s(b);_!==b&&(v=_-d);let y=t=>-v*Math.exp(-t/i),w=t=>_+y(t),x=t=>{let e=y(t),r=w(t);p.done=Math.abs(e)<=h,p.value=p.done?_:r},M=t=>{m(p.value)&&(f=t,c=im({keyframes:[p.value,g(p.value)],velocity:r9(w,t,p.value),damping:n,stiffness:a,restDelta:h,restSpeed:u}))};return M(0),{calculatedDuration:null,next:t=>{let e=!1;return(c||void 0!==f||(e=!0,x(t),M(t)),void 0!==f&&t>=f)?c.next(t-f):(e||x(t),p)}}}let iv=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,ib=1e-7,i_=12;function iy(t,e,r,i,n){let a,s;let o=0;do(a=iv(s=e+(r-e)/2,i,n)-t)>0?r=s:e=s;while(Math.abs(a)>ib&&++o<i_);return s}function iw(t,e,r,i){if(t===e&&r===i)return el;let n=e=>iy(e,0,1,t,r);return t=>0===t||1===t?t:iv(n(t),e,i)}let ix=iw(.42,0,1,1),iM=iw(0,0,.58,1),iS=iw(.42,0,.58,1),iE=t=>Array.isArray(t)&&"number"!=typeof t[0],iP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ik=t=>e=>1-t(1-e),iA=t=>1-Math.sin(Math.acos(t)),iT=ik(iA),iI=iP(iA),iB=iw(.33,1.53,.69,.99),iC=ik(iB),iO=iP(iC),iL=t=>(t*=2)<1?.5*iC(t):.5*(2-Math.pow(2,-10*(t-1))),iD={linear:el,easeIn:ix,easeInOut:iS,easeOut:iM,circIn:iA,circInOut:iI,circOut:iT,backIn:iC,backInOut:iO,backOut:iB,anticipate:iL},iR=t=>{if(Array.isArray(t)){e7(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,r,i,n]=t;return iw(e,r,i,n)}return"string"==typeof t?(e7(void 0!==iD[t],`Invalid easing type '${t}'`),iD[t]):t},iz=(t,e,r)=>{let i=e-t;return 0===i?1:(r-t)/i},iF=(t,e,r)=>t+(e-t)*r;function ij(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function iU({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,r/=100;let n=0,a=0,s=0;if(e/=100){let i=r<.5?r*(1+e):r+e-r*e,o=2*r-i;n=ij(o,i,t+1/3),a=ij(o,i,t),s=ij(o,i,t-1/3)}else n=a=s=r;return{red:Math.round(255*n),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}function iN(t,e){return r=>r>0?e:t}let iG=(t,e,r)=>{let i=t*t,n=r*(e*e-i)+i;return n<0?0:Math.sqrt(n)},iV=[rA,rP,rT],iH=t=>iV.find(e=>e.test(t));function iW(t){let e=iH(t);if(e8(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`),!e)return!1;let r=e.parse(t);return e===rT&&(r=iU(r)),r}let iq=(t,e)=>{let r=iW(t),i=iW(e);if(!r||!i)return iN(t,e);let n={...r};return t=>(n.red=iG(r.red,i.red,t),n.green=iG(r.green,i.green,t),n.blue=iG(r.blue,i.blue,t),n.alpha=iF(r.alpha,i.alpha,t),rP.transform(n))},iY=new Set(["none","hidden"]);function i$(t,e){return iY.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function iX(t,e){return r=>iF(t,e,r)}function iZ(t){return"number"==typeof t?iX:"string"==typeof t?tA(t)?iN:rI.test(t)?iq:i0:Array.isArray(t)?iJ:"object"==typeof t?rI.test(t)?iq:iK:iN}function iJ(t,e){let r=[...t],i=r.length,n=t.map((t,r)=>iZ(t)(t,e[r]));return t=>{for(let e=0;e<i;e++)r[e]=n[e](t);return r}}function iK(t,e){let r={...t,...e},i={};for(let n in r)void 0!==t[n]&&void 0!==e[n]&&(i[n]=iZ(t[n])(t[n],e[n]));return t=>{for(let e in i)r[e]=i[e](t);return r}}function iQ(t,e){var r;let i=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){let s=e.types[a],o=t.indexes[s][n[s]],l=null!==(r=t.values[o])&&void 0!==r?r:0;i[a]=l,n[s]++}return i}let i0=(t,e)=>{let r=rG.createTransformer(e),i=rz(t),n=rz(e);return i.indexes.var.length===n.indexes.var.length&&i.indexes.color.length===n.indexes.color.length&&i.indexes.number.length>=n.indexes.number.length?iY.has(t)&&!n.values.length||iY.has(e)&&!i.values.length?i$(t,e):ex(iJ(iQ(i,n),n.values),r):(e8(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),iN(t,e))};function i1(t,e,r){return"number"==typeof t&&"number"==typeof e&&"number"==typeof r?iF(t,e,r):iZ(t)(t,e)}function i2(t,e,r){let i=[],n=r||i1,a=t.length-1;for(let r=0;r<a;r++){let a=n(t[r],t[r+1]);e&&(a=ex(Array.isArray(e)?e[r]||el:e,a)),i.push(a)}return i}function i5(t,e,{clamp:r=!0,ease:i,mixer:n}={}){let a=t.length;if(e7(a===e.length,"Both input and output ranges must be the same length"),1===a)return()=>e[0];if(2===a&&t[0]===t[1])return()=>e[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());let s=i2(e,i,n),o=s.length,l=e=>{let r=0;if(o>1)for(;r<t.length-2&&!(e<t[r+1]);r++);let i=iz(t[r],t[r+1],e);return s[r](i)};return r?e=>l(ti(t[0],t[a-1],e)):l}function i3(t,e){let r=t[t.length-1];for(let i=1;i<=e;i++){let n=iz(0,e,i);t.push(iF(r,1,n))}}function i4(t){let e=[0];return i3(e,t.length-1),e}function i6(t,e){return t.map(t=>t*e)}function i8(t,e){return t.map(()=>e||iS).splice(0,t.length-1)}function i7({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){let n=iE(i)?i.map(iR):iR(i),a={done:!1,value:e[0]},s=i5(i6(r&&r.length===e.length?r:i4(e),t),e,{ease:Array.isArray(n)?n:i8(e,n)});return{calculatedDuration:t,next:e=>(a.value=s(e),a.done=e>=t,a)}}let i9=2e4;function nt(t){let e=0,r=50,i=t.next(e);for(;!i.done&&e<i9;)e+=r,i=t.next(e);return e>=i9?1/0:e}let ne=t=>{let e=({timestamp:e})=>t(e);return{start:()=>eh.update(e,!0),stop:()=>eu(e),now:()=>ef.isProcessing?ef.timestamp:r1.now()}},nr={decay:ig,inertia:ig,tween:i7,keyframes:i7,spring:im},ni=t=>t/100;class nn extends r6{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:t}=this.options;t&&t()};let{name:e,motionValue:r,element:i,keyframes:n}=this.options,a=(null==i?void 0:i.KeyframeResolver)||rw,s=(t,e)=>this.onKeyframesResolved(t,e);this.resolver=new a(n,s,e,r,i),this.resolver.scheduleResolve()}initPlayback(t){let e,r;let{type:i="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=this.options,l=nr[i]||i7;l!==i7&&"number"!=typeof t[0]&&(e=ex(ni,i1(t[0],t[1])),t=[0,100]);let h=l({...this.options,keyframes:t});"mirror"===s&&(r=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),null===h.calculatedDuration&&(h.calculatedDuration=nt(h));let{calculatedDuration:u}=h,f=u+a,c=f*(n+1)-a;return{generator:h,mirroredGenerator:r,mapPercentToKeyframes:e,calculatedDuration:u,resolvedDuration:f,totalDuration:c}}onPostResolved(){let{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){let{resolved:r}=this;if(!r){let{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}let{finalKeyframe:i,generator:n,mirroredGenerator:a,mapPercentToKeyframes:s,keyframes:o,calculatedDuration:l,totalDuration:h,resolvedDuration:u}=r;if(null===this.startTime)return n.next(0);let{delay:f,repeat:c,repeatType:d,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;let g=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>h;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=h);let b=this.currentTime,_=n;if(c){let t=Math.min(this.currentTime,h)/u,e=Math.floor(t),r=t%1;!r&&t>=1&&(r=1),1===r&&e--,(e=Math.min(e,c+1))%2&&("reverse"===d?(r=1-r,p&&(r-=p/u)):"mirror"===d&&(_=a)),b=ti(0,1,r)*u}let y=v?{done:!1,value:o[0]}:_.next(b);s&&(y.value=s(y.value));let{done:w}=y;v||null===l||(w=this.speed>=0?this.currentTime>=h:this.currentTime<=0);let x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return x&&void 0!==i&&(y.value=e3(o,this.options,i)),m&&m(y.value),x&&this.finish(),y}get duration(){let{resolved:t}=this;return t?e$(t.calculatedDuration):0}get time(){return e$(this.currentTime)}set time(t){t=eY(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){let e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=e$(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:t=ne,onPlay:e,startTime:r}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),e&&e();let i=this.driver.now();null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=i):this.startTime=null!=r?r:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}let na=t=>Array.isArray(t)&&"number"==typeof t[0];function ns(t){return!!(!t||"string"==typeof t&&t in nl||na(t)||Array.isArray(t)&&t.every(ns))}let no=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,nl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:no([0,.65,.55,1]),circOut:no([.55,0,1,.45]),backIn:no([.31,.01,.66,-.59]),backOut:no([.33,1.53,.69,.99])};function nh(t){return nu(t)||nl.easeOut}function nu(t){if(t)return na(t)?no(t):Array.isArray(t)?t.map(nh):nl[t]}function nf(t,e,r,{delay:i=0,duration:n=300,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){let h={[e]:r};l&&(h.offset=l);let u=nu(o);return Array.isArray(u)&&(h.easing=u),t.animate(h,{delay:i,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"})}let nc=rQ(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nd=10,np=2e4;function nm(t){return"spring"===t.type||!ns(t.ease)}function ng(t,e){let r=new nn({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0}),i={done:!1,value:t[0]},n=[],a=0;for(;!i.done&&a<np;)n.push((i=r.sample(a)).value),a+=nd;return{times:void 0,keyframes:n,duration:a-nd,ease:"linear"}}class nv extends r6{constructor(t){super(t);let{name:e,motionValue:r,element:i,keyframes:n}=this.options;this.resolver=new rK(n,(t,e)=>this.onKeyframesResolved(t,e),e,r,i),this.resolver.scheduleResolve()}initPlayback(t,e){var r;let{duration:i=300,times:n,ease:a,type:s,motionValue:o,name:l,startTime:h}=this.options;if(!(null===(r=o.owner)||void 0===r?void 0:r.current))return!1;if(nm(this.options)){let{onComplete:e,onUpdate:r,motionValue:o,element:l,...h}=this.options,u=ng(t,h);1===(t=u.keyframes).length&&(t[1]=t[0]),i=u.duration,n=u.times,a=u.ease,s="keyframes"}let u=nf(o.owner.current,l,t,{...this.options,duration:i,times:n,ease:a});return u.startTime=null!=h?h:this.calcStartTime(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{let{onComplete:r}=this.options;o.set(e3(t,this.options,e)),r&&r(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:n,type:s,ease:a,keyframes:t}}get duration(){let{resolved:t}=this;if(!t)return 0;let{duration:e}=t;return e$(e)}get time(){let{resolved:t}=this;if(!t)return 0;let{animation:e}=t;return e$(e.currentTime||0)}set time(t){let{resolved:e}=this;if(!e)return;let{animation:r}=e;r.currentTime=eY(t)}get speed(){let{resolved:t}=this;if(!t)return 1;let{animation:e}=t;return e.playbackRate}set speed(t){let{resolved:e}=this;if(!e)return;let{animation:r}=e;r.playbackRate=t}get state(){let{resolved:t}=this;if(!t)return"idle";let{animation:e}=t;return e.playState}get startTime(){let{resolved:t}=this;if(!t)return null;let{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){let{resolved:e}=this;if(!e)return el;let{animation:r}=e;r.timeline=t,r.onfinish=null}else this.pendingTimeline=t;return el}play(){if(this.isStopped)return;let{resolved:t}=this;if(!t)return;let{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){let{resolved:t}=this;if(!t)return;let{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:t}=this;if(!t)return;let{animation:e,keyframes:r,duration:i,type:n,ease:a,times:s}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){let{motionValue:t,onUpdate:e,onComplete:o,element:l,...h}=this.options,u=new nn({...h,keyframes:r,duration:i,type:n,ease:a,times:s,isGenerator:!0}),f=eY(this.time);t.setWithVelocity(u.sample(f-nd).value,u.sample(f).value,nd)}let{onStop:o}=this.options;o&&o(),this.cancel()}complete(){let{resolved:t}=this;t&&t.animation.finish()}cancel(){let{resolved:t}=this;t&&t.animation.cancel()}static supports(t){let{motionValue:e,name:r,repeatDelay:i,repeatType:n,damping:a,type:s}=t;return nc()&&r&&t9.has(r)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!i&&"mirror"!==n&&0!==a&&"inertia"!==s}}function nb(t,e){let r;let i=()=>{let{currentTime:i}=e,n=(null===i?0:i.value)/100;r!==n&&t(n),r=n};return eh.update(i,!0),()=>eu(i)}let n_=rQ(()=>void 0!==window.ScrollTimeline);class ny{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=e}attachTimeline(t){let e=this.animations.map(e=>{if(!n_()||!e.attachTimeline)return e.pause(),nb(t=>{e.time=e.duration*t},t);e.attachTimeline(t)});return()=>{e.forEach((t,e)=>{t&&t(),this.animations[e].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}let nw=(t,e,r,i={},n,a,s)=>o=>{let l=e1(i,t)||{},h=l.delay||i.delay||0,{elapsed:u=0}=i;u-=eY(h);let f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:t=>{e.set(t),l.onUpdate&&l.onUpdate(t)},onComplete:()=>{o(),l.onComplete&&l.onComplete(),s&&s()},onStop:s,name:t,motionValue:e,element:a?void 0:n};e0(l)||(f={...f,...eQ(t,f)}),f.duration&&(f.duration=eY(f.duration)),f.repeatDelay&&(f.repeatDelay=eY(f.repeatDelay)),void 0!==f.from&&(f.keyframes[0]=f.from);let c=!1;if(!1!==f.type&&(0!==f.duration||f.repeatDelay)||(f.duration=0,0!==f.delay||(c=!0)),(e2.current||p.skipAnimations)&&(c=!0,f.duration=0,f.delay=0),c&&!a&&void 0!==e.get()){let t=e3(f.keyframes,l);if(void 0!==t)return eh.update(()=>{f.onUpdate(t),f.onComplete()}),new ny([])}return!a&&nv.supports(f)?new nv(f):new nn(f)};class nx{constructor(){this.subscriptions=[]}add(t){return ee(this.subscriptions,t),()=>er(this.subscriptions,t)}notify(t,e,r){let i=this.subscriptions.length;if(i){if(1===i)this.subscriptions[0](t,e,r);else for(let n=0;n<i;n++){let i=this.subscriptions[n];i&&i(t,e,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let nM=30,nS=t=>!isNaN(parseFloat(t)),nE={current:void 0};class nP{constructor(t,e={}){this.version="11.3.31",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,e=!0)=>{let r=r1.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=r1.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=nS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new nx);let r=this.events[t].add(e);return"change"===t?()=>{r(),eh.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return nE.current&&nE.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let t=r1.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>nM)return 0;let e=Math.min(this.updatedAt-this.prevUpdatedAt,nM);return r8(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nk(t,e){return new nP(t,e)}function nA(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,nk(r))}function nT(t,e){let{transitionEnd:r={},transition:i={},...n}=eq(t,e)||{};for(let e in n={...n,...r}){let r=t8(n[e]);nA(t,e,r)}}function nI(t){return t.props[d]}class nB extends nP{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(t){let e=et(t);if(!e)return;let r=this.counts.get(e)||0;this.counts.set(e,r+1),0===r&&(this.output.push(e),this.update());let i=!1;return()=>{if(i)return;i=!0;let t=this.counts.get(e)-1;this.counts.set(e,t),0===t&&(er(this.output,e),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function nC(t){return!!(te(t)&&t.add)}function nO(t,e){var r;if(!t.applyWillChange)return;let i=t.getValue("willChange");if(i||(null===(r=t.props.style)||void 0===r?void 0:r.willChange)||(i=new nB("auto"),t.addValue("willChange",i)),nC(i))return i.add(e)}function nL({protectedKeys:t,needsAnimating:e},r){let i=t.hasOwnProperty(r)&&!0!==e[r];return e[r]=!1,i}function nD(t,e,{delay:r=0,transitionOverride:i,type:n}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(s=i);let h=[],u=n&&t.animationState&&t.animationState.getState()[n];for(let e in l){let i=t.getValue(e,null!==(a=t.latestValues[e])&&void 0!==a?a:null),n=l[e];if(void 0===n||u&&nL(u,e))continue;let o={delay:r,...e1(s||{},e)},f=!1;if(window.MotionHandoffAnimation){let r=nI(t);if(r){let t=window.MotionHandoffAnimation(r,e,eh);null!==t&&(o.startTime=t,f=!0)}}i.start(nw(e,i,n,t.shouldReduceMotion&&Q.has(e)?{type:!1}:o,t,f,nO(t,e)));let c=i.animation;c&&h.push(c)}return o&&Promise.all(h).then(()=>{eh.update(()=>{o&&nT(t,o)})}),h}function nR(t,e,r={}){var i;let n=eq(t,e,"exit"===r.type?null===(i=t.presenceContext)||void 0===i?void 0:i.custom:void 0),{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);let s=n?()=>Promise.all(nD(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(i=0)=>{let{delayChildren:n=0,staggerChildren:s,staggerDirection:o}=a;return nz(t,e,n+i,s,o,r)}:()=>Promise.resolve(),{when:l}=a;if(!l)return Promise.all([s(),o(r.delay)]);{let[t,e]="beforeChildren"===l?[s,o]:[o,s];return t().then(()=>e())}}function nz(t,e,r=0,i=0,n=1,a){let s=[],o=(t.variantChildren.size-1)*i,l=1===n?(t=0)=>t*i:(t=0)=>o-t*i;return Array.from(t.variantChildren).sort(nF).forEach((t,i)=>{t.notify("AnimationStart",e),s.push(nR(t,e,{...a,delay:r+l(i)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(s)}function nF(t,e){return t.sortNodePosition(e)}function nj(t,e,r={}){let i;if(t.notify("AnimationStart",e),Array.isArray(e))i=Promise.all(e.map(e=>nR(t,e,r)));else if("string"==typeof e)i=nR(t,e,r);else{let n="function"==typeof e?eq(t,e,r.custom):e;i=Promise.all(nD(t,n,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}let nU=[...B].reverse(),nN=B.length;function nG(t){return e=>Promise.all(e.map(({animation:e,options:r})=>nj(t,e,r)))}function nV(t){let e=nG(t),r=nq(),i=!0,n=e=>(r,i)=>{var n;let a=eq(t,i,"exit"===e?null===(n=t.presenceContext)||void 0===n?void 0:n.custom:void 0);if(a){let{transition:t,transitionEnd:e,...i}=a;r={...r,...i,...e}}return r};function a(a){let s=t.getProps(),o=t.getVariantContext(!0)||{},l=[],h=new Set,u={},f=1/0;for(let e=0;e<nN;e++){let c=nU[e],d=r[c],p=void 0!==s[c]?s[c]:o[c],m=T(p),g=c===a?d.isActive:null;!1===g&&(f=e);let v=p===o[c]&&p!==s[c]&&m;if(v&&i&&t.manuallyAnimateOnMount&&(v=!1),d.protectedKeys={...u},!d.isActive&&null===g||!p&&!d.prevProp||I(p)||"boolean"==typeof p)continue;let b=nH(d.prevProp,p)||c===a&&d.isActive&&!v&&m||e>f&&m,_=!1,y=Array.isArray(p)?p:[p],w=y.reduce(n(c),{});!1===g&&(w={});let{prevResolvedValues:x={}}=d,M={...x,...w},S=e=>{b=!0,h.has(e)&&(_=!0,h.delete(e)),d.needsAnimating[e]=!0;let r=t.getValue(e);r&&(r.liveStyle=!1)};for(let t in M){let e=w[t],r=x[t];if(u.hasOwnProperty(t))continue;let i=!1;(i=t4(e)&&t4(r)?!eW(e,r):e!==r)?null!=e?S(t):h.add(t):void 0!==e&&h.has(t)?S(t):d.protectedKeys[t]=!0}d.prevProp=p,d.prevResolvedValues=w,d.isActive&&(u={...u,...w}),i&&t.blockInitialAnimation&&(b=!1),b&&(!v||_)&&l.push(...y.map(t=>({animation:t,options:{type:c}})))}if(h.size){let e={};h.forEach(r=>{let i=t.getBaseTarget(r),n=t.getValue(r);n&&(n.liveStyle=!0),e[r]=null!=i?i:null}),l.push({animation:e})}let c=!!l.length;return i&&(!1===s.initial||s.initial===s.animate)&&!t.manuallyAnimateOnMount&&(c=!1),i=!1,c?e(l):Promise.resolve()}function s(e,i){var n;if(r[e].isActive===i)return Promise.resolve();null===(n=t.variantChildren)||void 0===n||n.forEach(t=>{var r;return null===(r=t.animationState)||void 0===r?void 0:r.setActive(e,i)}),r[e].isActive=i;let s=a(e);for(let t in r)r[t].protectedKeys={};return s}return{animateChanges:a,setActive:s,setAnimateFunction:function(r){e=r(t)},getState:()=>r,reset:()=>{r=nq(),i=!0}}}function nH(t,e){return"string"==typeof e?e!==t:!!Array.isArray(e)&&!eW(e,t)}function nW(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nq(){return{animate:nW(!0),whileInView:nW(),whileHover:nW(),whileTap:nW(),whileDrag:nW(),whileFocus:nW(),exit:nW()}}class nY extends eA{constructor(t){super(t),t.animationState||(t.animationState=nV(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();I(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}let n$=0;class nX extends eA{constructor(){super(...arguments),this.id=n$++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;let i=this.node.animationState.setActive("exit",!t);e&&!t&&i.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}let nZ={animation:{Feature:nY},exit:{Feature:nX}},nJ=(t,e)=>Math.abs(t-e);function nK(t,e){return Math.sqrt(nJ(t.x,e.x)**2+nJ(t.y,e.y)**2)}class nQ{constructor(t,e,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let t=n2(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,r=nK(t.offset,{x:0,y:0})>=3;if(!e&&!r)return;let{point:i}=t,{timestamp:n}=ef;this.history.push({...i,timestamp:n});let{onStart:a,onMove:s}=this.handlers;e||(a&&a(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=n0(e,this.transformPagePoint),eh.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();let{onEnd:r,onSessionEnd:i,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=n2("pointercancel"===t.type?this.lastMoveEventInfo:n0(e,this.transformPagePoint),this.history);this.startEvent&&r&&r(t,a),i&&i(t,a)},!ev(t))return;this.dragSnapToOrigin=n,this.handlers=e,this.transformPagePoint=r,this.contextWindow=i||window;let a=n0(eb(t),this.transformPagePoint),{point:s}=a,{timestamp:o}=ef;this.history=[{...s,timestamp:o}];let{onSessionStart:l}=e;l&&l(t,n2(a,this.history)),this.removeListeners=ex(ey(this.contextWindow,"pointermove",this.handlePointerMove),ey(this.contextWindow,"pointerup",this.handlePointerUp),ey(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),eu(this.updatePoint)}}function n0(t,e){return e?{point:e(t.point)}:t}function n1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function n2({point:t},e){return{point:t,delta:n1(t,n3(e)),offset:n1(t,n5(e)),velocity:n4(e,.1)}}function n5(t){return t[0]}function n3(t){return t[t.length-1]}function n4(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null,n=n3(t);for(;r>=0&&(i=t[r],!(n.timestamp-i.timestamp>eY(e)));)r--;if(!i)return{x:0,y:0};let a=e$(n.timestamp-i.timestamp);if(0===a)return{x:0,y:0};let s={x:(n.x-i.x)/a,y:(n.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}let n6=.9999,n8=1.0001,n7=-.01,n9=.01;function at(t){return t.max-t.min}function ae(t,e,r){return Math.abs(t-e)<=r}function ar(t,e,r,i=.5){t.origin=i,t.originPoint=iF(e.min,e.max,t.origin),t.scale=at(r)/at(e),t.translate=iF(r.min,r.max,t.origin)-t.originPoint,(t.scale>=n6&&t.scale<=n8||isNaN(t.scale))&&(t.scale=1),(t.translate>=n7&&t.translate<=n9||isNaN(t.translate))&&(t.translate=0)}function ai(t,e,r,i){ar(t.x,e.x,r.x,i?i.originX:void 0),ar(t.y,e.y,r.y,i?i.originY:void 0)}function an(t,e,r){t.min=r.min+e.min,t.max=t.min+at(e)}function aa(t,e,r){an(t.x,e.x,r.x),an(t.y,e.y,r.y)}function as(t,e,r){t.min=e.min-r.min,t.max=t.min+at(e)}function ao(t,e,r){as(t.x,e.x,r.x),as(t.y,e.y,r.y)}function al(t,{min:e,max:r},i){return void 0!==e&&t<e?t=i?iF(e,t,i.min):Math.max(t,e):void 0!==r&&t>r&&(t=i?iF(r,t,i.max):Math.min(t,r)),t}function ah(t,e,r){return{min:void 0!==e?t.min+e:void 0,max:void 0!==r?t.max+r-(t.max-t.min):void 0}}function au(t,{top:e,left:r,bottom:i,right:n}){return{x:ah(t.x,r,n),y:ah(t.y,e,i)}}function af(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function ac(t,e){return{x:af(t.x,e.x),y:af(t.y,e.y)}}function ad(t,e){let r=.5,i=at(t),n=at(e);return n>i?r=iz(e.min,e.max-i,t.min):i>n&&(r=iz(t.min,t.max-n,e.min)),ti(0,1,r)}function ap(t,e){let r={};return void 0!==e.min&&(r.min=e.min-t.min),void 0!==e.max&&(r.max=e.max-t.min),r}let am=.35;function ag(t=am){return!1===t?t=0:!0===t&&(t=am),{x:av(t,"left","right"),y:av(t,"top","bottom")}}function av(t,e,r){return{min:ab(t,e),max:ab(t,r)}}function ab(t,e){return"number"==typeof t?t:t[e]||0}let a_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ay=()=>({x:a_(),y:a_()}),aw=()=>({min:0,max:0}),ax=()=>({x:aw(),y:aw()});function aM(t){return[t("x"),t("y")]}function aS({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function aE({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aP(t,e){if(!e)return t;let r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function ak(t){return void 0===t||1===t}function aA({scale:t,scaleX:e,scaleY:r}){return!ak(t)||!ak(e)||!ak(r)}function aT(t){return aA(t)||aI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aI(t){return aB(t.x)||aB(t.y)}function aB(t){return t&&"0%"!==t}function aC(t,e,r){let i=e*(t-r);return r+i}function aO(t,e,r,i,n){return void 0!==n&&(t=aC(t,n,i)),aC(t,r,i)+e}function aL(t,e=0,r=1,i,n){t.min=aO(t.min,e,r,i,n),t.max=aO(t.max,e,r,i,n)}function aD(t,{x:e,y:r}){aL(t.x,e.translate,e.scale,e.originPoint),aL(t.y,r.translate,r.scale,r.originPoint)}let aR=.999999999999,az=1.0000000000001;function aF(t,e,r,i=!1){let n,a;let s=r.length;if(s){e.x=e.y=1;for(let o=0;o<s;o++){a=(n=r[o]).projectionDelta;let{visualElement:s}=n.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(i&&n.options.layoutScroll&&n.scroll&&n!==n.root&&aN(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,aD(t,a)),i&&aT(n.latestValues)&&aN(t,n.latestValues))}e.x<az&&e.x>aR&&(e.x=1),e.y<az&&e.y>aR&&(e.y=1)}}function aj(t,e){t.min=t.min+e,t.max=t.max+e}function aU(t,e,r,i,n=.5){let a=iF(t.min,t.max,n);aL(t,e,r,a,i)}function aN(t,e){aU(t.x,e.x,e.scaleX,e.scale,e.originX),aU(t.y,e.y,e.scaleY,e.scale,e.originY)}function aG(t,e){return aS(aP(t.getBoundingClientRect(),e))}function aV(t,e,r){let i=aG(t,r),{scroll:n}=e;return n&&(aj(i.x,n.offset.x),aj(i.y,n.offset.y)),i}let aH=({current:t})=>t?t.ownerDocument.defaultView:null,aW=new WeakMap;class aq{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ax(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let i=t=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(eb(t,"page").point)},n=(t,e)=>{var r;let{drag:i,dragPropagation:n,onDragStart:a}=this.getProps();if(i&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eP(i),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),aM(t=>{let e=this.getAxisMotionValue(t).get()||0;if(tm.test(e)){let{projection:r}=this.visualElement;if(r&&r.layout){let i=r.layout.layoutBox[t];if(i){let t=at(i);e=parseFloat(e)/100*t}}}this.originPoint[t]=e}),a&&eh.postRender(()=>a(t,e)),null===(r=this.removeWillChange)||void 0===r||r.call(this),this.removeWillChange=nO(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},a=(t,e)=>{let{dragPropagation:r,dragDirectionLock:i,onDirectionLock:n,onDrag:a}=this.getProps();if(!r&&!this.openGlobalLock)return;let{offset:s}=e;if(i&&null===this.currentDirection){this.currentDirection=a$(s),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.render(),a&&a(t,e)},s=(t,e)=>this.stop(t,e),o=()=>aM(t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new nQ(t,{onSessionStart:i,onStart:n,onMove:a,onSessionEnd:s,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:aH(this.visualElement)})}stop(t,e){var r;null===(r=this.removeWillChange)||void 0===r||r.call(this);let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:n}=e;this.startAnimation(n);let{onDragEnd:a}=this.getProps();a&&eh.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){let{drag:i}=this.getProps();if(!r||!aY(t,i,this.currentDirection))return;let n=this.getAxisMotionValue(t),a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=al(a,this.constraints[t],this.elastic[t])),n.set(a)}resolveConstraints(){var t;let{dragConstraints:e,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,n=this.constraints;e&&w(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=au(i.layoutBox,e):this.constraints=!1,this.elastic=ag(r),n!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&aM(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=ap(i.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){let{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!w(t))return!1;let r=t.current;e7(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let n=aV(r,i.root,this.visualElement.getTransformPagePoint()),a=ac(i.layout.layoutBox,n);if(e){let t=e(aE(a));this.hasMutatedConstraints=!!t,t&&(a=aS(t))}return a}startAnimation(t){let{drag:e,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{};return Promise.all(aM(s=>{if(!aY(s,e,this.currentDirection))return;let l=o&&o[s]||{};a&&(l={min:0,max:0});let h=i?200:1e6,u=i?40:1e7,f={type:"inertia",velocity:r?t[s]:0,bounceStiffness:h,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(s,f)})).then(s)}startAxisValueAnimation(t,e){let r=this.getAxisMotionValue(t);return r.start(nw(t,r,0,e,this.visualElement,!1,nO(this.visualElement,t)))}stopAnimation(){aM(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){aM(t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()})}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){let e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps();return r[e]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){aM(e=>{let{drag:r}=this.getProps();if(!aY(e,r,this.currentDirection))return;let{projection:i}=this.visualElement,n=this.getAxisMotionValue(e);if(i&&i.layout){let{min:r,max:a}=i.layout.layoutBox[e];n.set(t[e]-iF(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!w(e)||!r||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};aM(t=>{let e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){let r=e.get();i[t]=ad({min:r,max:r},this.constraints[t])}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),aM(e=>{if(!aY(e,t,null))return;let r=this.getAxisMotionValue(e),{min:n,max:a}=this.constraints[e];r.set(iF(n,a,i[e]))})}addListeners(){if(!this.visualElement.current)return;aW.set(this.visualElement,this);let t=ey(this.visualElement.current,"pointerdown",t=>{let{drag:e,dragListener:r=!0}=this.getProps();e&&r&&this.start(t)}),e=()=>{let{dragConstraints:t}=this.getProps();w(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",e);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),eh.read(e);let n=eg(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(aM(e=>{let r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{n(),t(),i(),a&&a()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:a=am,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:a,dragMomentum:s}}}function aY(t,e,r){return(!0===e||e===t)&&(null===r||r===t)}function a$(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class aX extends eA{constructor(t){super(t),this.removeGroupControls=el,this.removeListeners=el,this.controls=new aq(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||el}unmount(){this.removeGroupControls(),this.removeListeners()}}let aZ=t=>(e,r)=>{t&&eh.postRender(()=>t(e,r))};class aJ extends eA{constructor(){super(...arguments),this.removePointerDownListener=el}onPointerDown(t){this.session=new nQ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aH(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:aZ(t),onStart:aZ(e),onMove:r,onEnd:(t,e)=>{delete this.session,i&&eh.postRender(()=>i(t,e))}}}mount(){this.removePointerDownListener=ey(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function aK(){let t=(0,a.useContext)(l);if(null===t)return[!0,null];let{isPresent:e,onExitComplete:r,register:i}=t,n=(0,a.useId)();(0,a.useEffect)(()=>i(n),[]);let s=(0,a.useCallback)(()=>r&&r(n),[n,r]);return!e&&r?[!1,s]:[!0]}let aQ={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let a1={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!tg.test(t))return t;t=parseFloat(t)}let r=a0(t,e.target.x),i=a0(t,e.target.y);return`${r}% ${i}%`}},a2={correct:(t,{treeScale:e,projectionDelta:r})=>{let i=t,n=rG.parse(t);if(n.length>5)return i;let a=rG.createTransformer(t),s="number"!=typeof n[0]?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;n[0+s]/=o,n[1+s]/=l;let h=iF(o,l,.5);return"number"==typeof n[2+s]&&(n[2+s]/=h),"number"==typeof n[3+s]&&(n[3+s]/=h),a(n)}};class a5 extends a.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=t;J(a4),n&&(e.group&&e.group.add(n),r&&r.register&&i&&r.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),aQ.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:r,drag:i,isPresent:n}=this.props,a=r.projection;return a&&(a.isPresent=n,i||t.layoutDependency!==e||void 0===e?a.willUpdate():this.safeToRemove(),t.isPresent===n||(n?a.promote():a.relegate()||eh.postRender(()=>{let t=a.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function a3(t){let[e,r]=aK(),i=(0,a.useContext)(N);return(0,n.jsx)(a5,{...t,layoutGroup:i,switchLayoutGroup:(0,a.useContext)(x),isPresent:e,safeToRemove:r})}let a4={borderRadius:{...a1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:a1,borderTopRightRadius:a1,borderBottomLeftRadius:a1,borderBottomRightRadius:a1,boxShadow:a2},a6=["TopLeft","TopRight","BottomLeft","BottomRight"],a8=a6.length,a7=t=>"string"==typeof t?parseFloat(t):t,a9=t=>"number"==typeof t||tg.test(t);function st(t,e,r,i,n,a){n?(t.opacity=iF(0,void 0!==r.opacity?r.opacity:1,sr(i)),t.opacityExit=iF(void 0!==e.opacity?e.opacity:1,0,si(i))):a&&(t.opacity=iF(void 0!==e.opacity?e.opacity:1,void 0!==r.opacity?r.opacity:1,i));for(let n=0;n<a8;n++){let a=`border${a6[n]}Radius`,s=se(e,a),o=se(r,a);(void 0!==s||void 0!==o)&&(s||(s=0),o||(o=0),0===s||0===o||a9(s)===a9(o)?(t[a]=Math.max(iF(a7(s),a7(o),i),0),(tm.test(o)||tm.test(s))&&(t[a]+="%")):t[a]=o)}(e.rotate||r.rotate)&&(t.rotate=iF(e.rotate||0,r.rotate||0,i))}function se(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let sr=sn(0,.5,iT),si=sn(.5,.95,el);function sn(t,e,r){return i=>i<t?0:i>e?1:r(iz(t,e,i))}function sa(t,e){t.min=e.min,t.max=e.max}function ss(t,e){sa(t.x,e.x),sa(t.y,e.y)}function so(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sl(t,e,r,i,n){return t-=e,t=aC(t,1/r,i),void 0!==n&&(t=aC(t,1/n,i)),t}function sh(t,e=0,r=1,i=.5,n,a=t,s=t){if(tm.test(e)&&(e=parseFloat(e),e=iF(s.min,s.max,e/100)-s.min),"number"!=typeof e)return;let o=iF(a.min,a.max,i);t===a&&(o-=e),t.min=sl(t.min,e,r,o,n),t.max=sl(t.max,e,r,o,n)}function su(t,e,[r,i,n],a,s){sh(t,e[r],e[i],e[n],e.scale,a,s)}let sf=["x","scaleX","originX"],sc=["y","scaleY","originY"];function sd(t,e,r,i){su(t.x,e,sf,r?r.x:void 0,i?i.x:void 0),su(t.y,e,sc,r?r.y:void 0,i?i.y:void 0)}function sp(t){return 0===t.translate&&1===t.scale}function sm(t){return sp(t.x)&&sp(t.y)}function sg(t,e){return t.min===e.min&&t.max===e.max}function sv(t,e){return sg(t.x,e.x)&&sg(t.y,e.y)}function sb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function s_(t,e){return sb(t.x,e.x)&&sb(t.y,e.y)}function sy(t){return at(t.x)/at(t.y)}function sw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sx{constructor(){this.members=[]}add(t){ee(this.members,t),t.scheduleRender()}remove(t){if(er(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e;let r=this.members.findIndex(e=>t===e);if(0===r)return!1;for(let t=r;t>=0;t--){let r=this.members[t];if(!1!==r.isPresent){e=r;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:i}=t.options;!1===i&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sM(t,e,r){let i="",n=t.x.translate/e.x,a=t.y.translate/e.y,s=(null==r?void 0:r.z)||0;if((n||a||s)&&(i=`translate3d(${n}px, ${a}px, ${s}px) `),(1!==e.x||1!==e.y)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){let{transformPerspective:t,rotate:e,rotateX:n,rotateY:a,skewX:s,skewY:o}=r;t&&(i=`perspective(${t}px) ${i}`),e&&(i+=`rotate(${e}deg) `),n&&(i+=`rotateX(${n}deg) `),a&&(i+=`rotateY(${a}deg) `),s&&(i+=`skewX(${s}deg) `),o&&(i+=`skewY(${o}deg) `)}let o=t.x.scale*e.x,l=t.y.scale*e.y;return(1!==o||1!==l)&&(i+=`scale(${o}, ${l})`),i||"none"}let sS=(t,e)=>t.depth-e.depth;class sE{constructor(){this.children=[],this.isDirty=!1}add(t){ee(this.children,t),this.isDirty=!0}remove(t){er(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sS),this.isDirty=!1,this.children.forEach(t)}}function sP(t,e){let r=r1.now(),i=({timestamp:n})=>{let a=n-r;a>=e&&(eu(i),t(a-e))};return eh.read(i,!0),()=>eu(i)}function sk(t){return t instanceof SVGElement&&"svg"!==t.tagName}function sA(t,e,r){let i=te(t)?t:nk(t);return i.start(nw("",i,e,r)),i.animation}let sT={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sI="undefined"!=typeof window&&void 0!==window.MotionDebug,sB=["","X","Y","Z"],sC={visibility:"hidden"},sO=1e3,sL=0;function sD(t,e,r,i){let{latestValues:n}=e;n[t]&&(r[t]=n[t],e.setStaticValue(t,0),i&&(i[t]=0))}function sR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:e}=t.options;if(!e)return;let r=nI(e);if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",eh,!(e||i))}let{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&sR(i)}function sz({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(t={},r=null==e?void 0:e()){this.id=sL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sI&&(sT.totalNodes=sT.resolvedTargetDeltas=sT.recalculatedProjection=0),this.nodes.forEach(sU),this.nodes.forEach(sY),this.nodes.forEach(s$),this.nodes.forEach(sN),sI&&window.MotionDebug.record(sT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new sE)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new nx),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let r=this.eventHandlers.get(t);r&&r.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sk(e),this.instance=e;let{layoutId:i,layout:n,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(n||i)&&(this.isLayoutDirty=!0),t){let r;let i=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=sP(i,250),aQ.hasAnimatedSinceResize&&(aQ.hasAnimatedSinceResize=!1,this.nodes.forEach(sq))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||n)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:r,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||a.getDefaultTransition()||s1,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=a.getProps(),l=!this.targetLayout||!s_(this.targetLayout,i)||r,h=!e&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||h||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,h);let e={...e1(n,"layout"),onPlay:s,onComplete:o};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||sq(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,eu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sX),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sR(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:r}=this.options;if(void 0===e&&!r)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sV);return}this.isUpdating||this.nodes.forEach(sH),this.isUpdating=!1,this.nodes.forEach(sW),this.nodes.forEach(sF),this.nodes.forEach(sj),this.clearAllSnapshots();let t=r1.now();ef.delta=ti(0,1e3/60,t-ef.timestamp),ef.timestamp=t,ef.isProcessing=!0,ec.update.process(ef),ec.preRender.process(ef),ec.render.process(ef),ef.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sG),this.sharedNodes.forEach(sZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,eh.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){eh.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ax(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){let e=i(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!n)return;let t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!sm(this.projectionDelta),r=this.getTransformTemplate(),i=r?r(this.latestValues,""):void 0,a=i!==this.prevTransformTemplateValue;t&&(e||aT(this.latestValues)||a)&&(n(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){let e=this.measurePageBox(),r=this.removeElementScroll(e);return t&&(r=this.removeTransform(r)),s4(r),{animationId:this.root.animationId,measuredBox:e,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var t;let{visualElement:e}=this.options;if(!e)return ax();let r=e.measureViewportBox();if(!((null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)||this.path.some(s8))){let{scroll:t}=this.root;t&&(aj(r.x,t.offset.x),aj(r.y,t.offset.y))}return r}removeElementScroll(t){var e;let r=ax();if(ss(r,t),null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)return r;for(let e=0;e<this.path.length;e++){let i=this.path[e],{scroll:n,options:a}=i;i!==this.root&&n&&a.layoutScroll&&(n.wasRoot&&ss(r,t),aj(r.x,n.offset.x),aj(r.y,n.offset.y))}return r}applyTransform(t,e=!1){let r=ax();ss(r,t);for(let t=0;t<this.path.length;t++){let i=this.path[t];!e&&i.options.layoutScroll&&i.scroll&&i!==i.root&&aN(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),aT(i.latestValues)&&aN(r,i.latestValues)}return aT(this.latestValues)&&aN(r,this.latestValues),r}removeTransform(t){let e=ax();ss(e,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];if(!r.instance||!aT(r.latestValues))continue;aA(r.latestValues)&&r.updateSnapshot();let i=ax();ss(i,r.measurePageBox()),sd(e,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}return aT(this.latestValues)&&sd(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ef.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e;let r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);let i=!!this.resumingFrom||this!==r;if(!(t||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:n,layoutId:a}=this.options;if(this.layout&&(n||a)){if(this.resolvedRelativeTargetAt=ef.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ax(),this.relativeTargetOrigin=ax(),ao(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=ax(),this.targetWithTransforms=ax()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aa(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ss(this.target,this.layout.layoutBox),aD(this.target,this.targetDelta)):ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ax(),this.relativeTargetOrigin=ax(),ao(this.relativeTargetOrigin,this.target,t.target),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sI&&sT.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||aA(this.parent.latestValues)||aI(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),r=!!this.resumingFrom||this!==e,i=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(i=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===ef.timestamp&&(i=!1),i)return;let{layout:n,layoutId:a}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||a))return;ss(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,o=this.treeScale.y;aF(this.layoutCorrected,this.treeScale,this.path,r),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=ax());let{target:l}=e;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(so(this.prevProjectionDelta.x,this.projectionDelta.x),so(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ai(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&sw(this.projectionDelta.x,this.prevProjectionDelta.x)&&sw(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),sI&&sT.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e;if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ay(),this.projectionDelta=ay(),this.projectionDeltaWithTransform=ay()}setAnimationOrigin(t,e=!1){let r;let i=this.snapshot,n=i?i.latestValues:{},a={...this.latestValues},s=ay();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let o=ax(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),h=this.getStack(),u=!h||h.members.length<=1,f=!!(l&&!u&&!0===this.options.crossfade&&!this.path.some(s0));this.animationProgress=0,this.mixTargetDelta=e=>{let i=e/1e3;sJ(s.x,t.x,i),sJ(s.y,t.y,i),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ao(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sQ(this.relativeTarget,this.relativeTargetOrigin,o,i),r&&sv(this.relativeTarget,r)&&(this.isProjectionDirty=!1),r||(r=ax()),ss(r,this.relativeTarget)),l&&(this.animationValues=a,st(a,n,this.latestValues,i,f,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(eu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eh.update(()=>{aQ.hasAnimatedSinceResize=!0,this.currentAnimation=sA(0,sO,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:r,layout:i,latestValues:n}=t;if(e&&r&&i){if(this!==t&&this.layout&&i&&s6(this.options.animationType,this.layout.layoutBox,i.layoutBox)){r=this.target||ax();let e=at(this.layout.layoutBox.x);r.x.min=t.target.x.min,r.x.max=r.x.min+e;let i=at(this.layout.layoutBox.y);r.y.min=t.target.y.min,r.y.max=r.y.min+i}ss(e,r),aN(e,n),ai(this.projectionDeltaWithTransform,this.layoutCorrected,e,n)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new sx),this.sharedNodes.get(t).add(e);let r=e.options.initialPromotionConfig;e.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:r}={}){let i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:r}=t;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(e=!0),!e)return;let i={};r.z&&sD("z",t,i,this.animationValues);for(let e=0;e<sB.length;e++)sD(`rotate${sB[e]}`,t,i,this.animationValues),sD(`skew${sB[e]}`,t,i,this.animationValues);for(let e in t.render(),i)t.setStaticValue(e,i[e]),this.animationValues&&(this.animationValues[e]=i[e]);t.scheduleRender()}getProjectionStyles(t){var e,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sC;let i={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=t7(null==t?void 0:t.pointerEvents)||"",i.transform=n?n(this.latestValues,""):"none",i;let a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=t7(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!aT(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1),e}let s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),i.transform=sM(this.projectionDeltaWithTransform,this.treeScale,s),n&&(i.transform=n(s,i.transform));let{x:o,y:l}=this.projectionDelta;for(let t in i.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,a.animationValues?i.opacity=a===this?null!==(r=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:i.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,Z){if(void 0===s[t])continue;let{correct:e,applyTo:r}=Z[t],n="none"===i.transform?s[t]:e(s[t],a);if(r){let t=r.length;for(let e=0;e<t;e++)i[r[e]]=n}else i[t]=n}return this.options.layoutId&&(i.pointerEvents=a===this?t7(null==t?void 0:t.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(sV),this.root.sharedNodes.clear()}}}function sF(t){t.updateLayout()}function sj(t){var e;let r=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:i}=t.layout,{animationType:n}=t.options,a=r.source!==t.layout.source;"size"===n?aM(t=>{let i=a?r.measuredBox[t]:r.layoutBox[t],n=at(i);i.min=e[t].min,i.max=i.min+n}):s6(n,r.layoutBox,e)&&aM(i=>{let n=a?r.measuredBox[i]:r.layoutBox[i],s=at(e[i]);n.max=n.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[i].max=t.relativeTarget[i].min+s)});let s=ay();ai(s,e,r.layoutBox);let o=ay();a?ai(o,t.applyTransform(i,!0),r.measuredBox):ai(o,e,r.layoutBox);let l=!sm(s),h=!1;if(!t.resumeFrom){let i=t.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:n,layout:a}=i;if(n&&a){let s=ax();ao(s,r.layoutBox,n.layoutBox);let o=ax();ao(o,e,a.layoutBox),s_(s,o)||(h=!0),i.options.layoutRoot&&(t.relativeTarget=o,t.relativeTargetOrigin=s,t.relativeParent=i)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:r,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:h})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function sU(t){sI&&sT.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sG(t){t.clearSnapshot()}function sV(t){t.clearMeasurements()}function sH(t){t.isLayoutDirty=!1}function sW(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sq(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sY(t){t.resolveTargetDelta()}function s$(t){t.calcProjection()}function sX(t){t.resetSkewAndRotation()}function sZ(t){t.removeLeadSnapshot()}function sJ(t,e,r){t.translate=iF(e.translate,0,r),t.scale=iF(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function sK(t,e,r,i){t.min=iF(e.min,r.min,i),t.max=iF(e.max,r.max,i)}function sQ(t,e,r,i){sK(t.x,e.x,r.x,i),sK(t.y,e.y,r.y,i)}function s0(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let s1={duration:.45,ease:[.4,0,.1,1]},s2=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),s5=s2("applewebkit/")&&!s2("chrome/")?Math.round:el;function s3(t){t.min=s5(t.min),t.max=s5(t.max)}function s4(t){s3(t.x),s3(t.y)}function s6(t,e,r){return"position"===t||"preserve-aspect"===t&&!ae(sy(e),sy(r),.2)}function s8(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}let s7=sz({attachResizeListener:(t,e)=>eg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),s9={current:void 0},ot=sz({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!s9.current){let t=new s7({});t.mount(window),t.setOptions({layoutScroll:!0}),s9.current=t}return s9.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position}),oe={pan:{Feature:aJ},drag:{Feature:aX,ProjectionNode:ot,MeasureLayout:a3}},or={current:null},oi={current:!1};function on(){if(oi.current=!0,h){if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>or.current=t.matches;t.addListener(e),e()}else or.current=!1}}function oa(t,e,r){for(let i in e){let n=e[i],a=r[i];if(te(n))t.addValue(i,n);else if(te(a))t.addValue(i,nk(n,{owner:t}));else if(a!==n){if(t.hasValue(i)){let e=t.getValue(i);!0===e.liveStyle?e.jump(n):e.hasAnimated||e.set(n)}else{let e=t.getStaticValue(i);t.addValue(i,nk(void 0!==e?e:n,{owner:t}))}}}for(let i in r)void 0===e[i]&&t.removeValue(i);return e}let os=new WeakMap,oo=[...rd,rI,rG],ol=t=>oo.find(rc(t)),oh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ou=C.length;class of{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:n,visualState:a},s={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,eh.render(this.render,!1,!0))};let{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=e.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!n,this.isControllingVariants=O(e),this.isVariantNode=L(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:h,...u}=this.scrapeMotionValuesFromProps(e,{},this);for(let t in u){let e=u[t];void 0!==o[t]&&te(e)&&e.set(o[t],!1)}}mount(t){this.current=t,os.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),oi.current||on(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||or.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in os.delete(this.current),this.projection&&this.projection.unmount(),eu(this.notifyUpdate),eu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features){let e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){let r;this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let i=Q.has(t),n=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&eh.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{n(),a(),r&&r(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in j){let e=j[t];if(!e)continue;let{isEnabled:r,Feature:i}=e;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ax()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<oh.length;e++){let r=oh[e];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let i=t["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=oa(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}let e={};for(let t=0;t<ou;t++){let r=C[t],i=this.props[r];(T(i)||!1===i)&&(e[r]=i)}return e}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){let r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return void 0===r&&void 0!==e&&(r=nk(null===e?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){var r;let i=void 0===this.latestValues[t]&&this.current?null!==(r=this.getBaseTargetFromProps(this.props,t))&&void 0!==r?r:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];return null!=i&&("string"==typeof i&&(e9(i)||e4(i))?i=parseFloat(i):!ol(i)&&rG.test(e)&&(i=rX(t,e)),this.setBaseTarget(t,te(i)?i.get():i)),te(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let r;let{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let n=t5(this.props,i,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);n&&(r=n[t])}if(i&&void 0!==r)return r;let n=this.getBaseTargetFromProps(this.props,t);return void 0===n||te(n)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:n}on(t,e){return this.events[t]||(this.events[t]=new nx),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class oc extends of{constructor(){super(...arguments),this.KeyframeResolver=rK}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}}function od(t){return window.getComputedStyle(t)}class op extends oc{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=tJ}readValueFromInstance(t,e){if(Q.has(e)){let t=r$(e);return t&&t.default||0}{let r=od(t),i=(tP(e)?r.getPropertyValue(e):r[e])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:e}){return aG(t,e)}build(t,e,r){tI(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return t0(t,e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;te(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class om extends oc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ax}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Q.has(e)){let t=r$(e);return t&&t.default||0}return e=tK.has(e)?e:c(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return t1(t,e,r)}build(t,e,r){tq(t,e,this.isSVGTag,r.transformTemplate)}renderInstance(t,e,r,i){tQ(t,e,r,i)}mount(t){this.isSVGTag=t$(t.tagName),super.mount(t)}}let og=(t,e)=>X(t)?new om(e):new op(e,{allowProjection:t!==a.Fragment}),ov={layout:{ProjectionNode:ot,MeasureLayout:a3}},ob={...nZ,...eH,...oe,...ov},o_=Y((t,e)=>em(t,e,ob,og))}};