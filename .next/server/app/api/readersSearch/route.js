"use strict";(()=>{var e={};e.id=871,e.ids=[871],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6008:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c});var s={};t.r(s),t.d(s,{GET:()=>u});var a=t(9303),o=t(8716),n=t(670),i=t(7070);async function u(e){let{searchParams:r}=new URL(e.url),t=r.get("isbn13"),s=process.env.NARU_API_KEY;if(!t)return i.NextResponse.json({error:"Missing required parameter: isbn13"},{status:400});try{let e=`http://data4library.kr/api/recommandList?authKey=${s}&isbn13=${t}&type=readers&format=json`,r=await fetch(e,{method:"GET"});if(!r.ok)throw Error(`API request failed: ${r.status} ${r.statusText}`);let a=await r.json(),o=i.NextResponse.json(a);return o.headers.set("Access-Control-Allow-Origin","*"),o.headers.set("Access-Control-Allow-Methods","GET, POST, OPTIONS"),o.headers.set("Access-Control-Allow-Headers","X-Requested-With, Content-Type"),o}catch(e){return console.error("Error occurred:",e.message),i.NextResponse.json({error:e.message},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/readersSearch/route",pathname:"/api/readersSearch",filename:"route",bundlePath:"app/api/readersSearch/route"},resolvedPagePath:"C:\\Users\\bora5\\Working\\booksight\\src\\app\\api\\readersSearch\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:l}=p,h="/api/readersSearch/route";function m(){return(0,n.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:c})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,972],()=>t(6008));module.exports=s})();